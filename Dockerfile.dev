# Development Dockerfile with hot reload
FROM node:20-alpine AS development

# Install development dependencies
RUN apk add --no-cache \
    python3 \
    make \
    g++ \
    cairo-dev \
    jpeg-dev \
    pango-dev \
    giflib-dev \
    git

WORKDIR /app

# Install dependencies
COPY package*.json ./
RUN npm install

# Copy source code (will be overridden by volume mount in dev)
COPY . .

# Expose ports
EXPOSE 5000 5173

# Development command (will be overridden in docker-compose)
CMD ["npm", "run", "dev"]
