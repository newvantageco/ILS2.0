# Railway Environment Variables Template
# Copy these to your Railway service's environment variables

# =============================================================================
# REQUIRED - Set these first
# =============================================================================

# Application Environment
NODE_ENV=production

# Security Secrets (GENERATE NEW RANDOM VALUES!)
# Use: openssl rand -hex 32
SESSION_SECRET=REPLACE_WITH_64_CHARACTER_RANDOM_STRING
ADMIN_SETUP_KEY=REPLACE_WITH_64_CHARACTER_RANDOM_STRING

# CORS Configuration
# Update this with your Railway domain after first deploy
CORS_ORIGIN=https://your-app-name.up.railway.app

# Database Connection (Auto-injected by Railway PostgreSQL)
# DATABASE_URL=postgresql://...  # Automatically set by Railway

# Redis Connection (Auto-injected by Railway Redis)
# REDIS_URL=redis://...  # Automatically set by Railway if you add Redis service

# Admin Initial Setup (for first deployment)
NEW_PASSWORD=your-secure-admin-password-min-12-chars

# =============================================================================
# OPTIONAL - Configure if needed
# =============================================================================

# Email Configuration (for notifications and emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
# Or use Resend
RESEND_API_KEY=

# Application URL (for email links)
APP_URL=https://your-app-name.up.railway.app

# LIMS Integration
LIMS_WEBHOOK_SECRET=your-webhook-secret-here

# File Storage - AWS S3
STORAGE_PROVIDER=s3  # Options: local, s3, cloudflare-r2, azure-blob
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=your-bucket-name
# Optional: For S3-compatible services (MinIO, Cloudflare R2, etc)
# S3_ENDPOINT=https://your-endpoint.com

# CDN Configuration
CDN_BASE_URL=https://cdn.yourdomain.com

# AI Services
ANTHROPIC_API_KEY=your-anthropic-api-key
OPENAI_API_KEY=your-openai-api-key

# Payment Processing - Stripe
STRIPE_SECRET_KEY=sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Master User Bootstrap (optional - for automated setup)
MASTER_USER_EMAIL=admin@yourcompany.com
MASTER_USER_PASSWORD=secure-password-min-12-chars
MASTER_USER_FIRST_NAME=Admin
MASTER_USER_LAST_NAME=User
MASTER_USER_ORGANIZATION=Your Company Name

# Redis Configuration (if using external Redis, not Railway's)
# Leave blank to use Railway's auto-injected REDIS_URL
REDIS_HOST=
REDIS_PORT=
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# ADVANCED - Usually not needed
# =============================================================================

# Custom Port (Railway auto-injects this, don't set manually)
# PORT=3000

# Database Connection Pool
DATABASE_MAX_CONNECTIONS=20
DATABASE_IDLE_TIMEOUT=30000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5

# Session Configuration
SESSION_MAX_AGE=86400000  # 24 hours in milliseconds

# Logging
LOG_LEVEL=info  # Options: error, warn, info, debug

# =============================================================================
# HOW TO GENERATE SECURE SECRETS
# =============================================================================
#
# Mac/Linux:
#   openssl rand -hex 32
#
# Node.js:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Python:
#   python3 -c "import secrets; print(secrets.token_hex(32))"
#
# Online (use with caution):
#   https://www.grc.com/passwords.htm
#
# =============================================================================

# =============================================================================
# RAILWAY-SPECIFIC NOTES
# =============================================================================
#
# 1. DATABASE_URL is automatically injected when you add PostgreSQL
# 2. REDIS_URL is automatically injected when you add Redis
# 3. PORT is automatically injected by Railway - don't set it manually
# 4. All environment variables are encrypted at rest
# 5. Use Railway's "Shared Variables" for multi-service deployments
# 6. Environment variables are available in build and runtime
#
# =============================================================================
