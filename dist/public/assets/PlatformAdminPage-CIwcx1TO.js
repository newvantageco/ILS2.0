import{r as c,e}from"./vendor-react-yzYIzJFU.js";import{u as T,a as S}from"./vendor-react-query-Dxpktacb.js";import{e as ue,d as de,p as Ne,q as be,r as R,U as fe,b as pe,t as F,C as O,h as q,i as B,j as M,$ as ge,I as H,a as K,B as h,f as n,a0 as he,a2 as U,a4 as E,a5 as L,a6 as k,a7 as A,a8 as j,a1 as Q,n as xe}from"./index-BiBisH8X.js";import{L as x}from"./label-DDyL8AZL.js";import{T as $,a as z,b as P,c as r,d as _,e as l}from"./table-cFqY84xs.js";import{S as J,a as X,b as G,c as W,d as m}from"./select-BquPdUcS.js";import{S as Pe}from"./square-pen-DDuzz0bT.js";import{T as Y}from"./trash-2-CGREO2o6.js";import{R as De}from"./rotate-ccw-CM-YKsm0.js";import{U as ve}from"./user-x-B4AYNh-c.js";import{C as Se}from"./circle-x-CIGbUkxi.js";import{C as Ue}from"./clock-CfQc0zyb.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";function qe(){const{toast:o}=ue(),[I,Z]=c.useState(""),[t,u]=c.useState(null),[ee,b]=c.useState(!1),[se,f]=c.useState(!1),[ae,p]=c.useState(!1),[g,D]=c.useState(""),[d,v]=c.useState({role:"",accountStatus:""}),{data:ie,isLoading:te}=T({queryKey:["/api/platform-admin/users"]}),{data:re,isLoading:le}=T({queryKey:["/api/platform-admin/companies"]}),V=S({mutationFn:async({userId:s,password:a})=>{const i=await fetch(`/api/platform-admin/users/${s}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({password:a})});if(!i.ok){const N=await i.json();throw new Error(N.message||"Failed to reset password")}return i.json()},onSuccess:()=>{o({title:"Password Reset",description:"User password has been reset successfully."}),b(!1),D(""),u(null)},onError:s=>{o({title:"Error",description:s.message,variant:"destructive"})}}),w=S({mutationFn:async s=>{const a=await fetch(`/api/platform-admin/users/${s}`,{method:"DELETE",credentials:"include"});if(!a.ok){const i=await a.json();throw new Error(i.message||"Failed to delete user")}return a.json()},onSuccess:()=>{Q.invalidateQueries({queryKey:["/api/platform-admin/users"]}),o({title:"User Deleted",description:"The user has been permanently deleted."}),f(!1),u(null)},onError:s=>{o({title:"Error",description:s.message,variant:"destructive"})}}),y=S({mutationFn:async({userId:s,updates:a})=>{const i=await fetch(`/api/platform-admin/users/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)});if(!i.ok){const N=await i.json();throw new Error(N.message||"Failed to update user")}return i.json()},onSuccess:()=>{Q.invalidateQueries({queryKey:["/api/platform-admin/users"]}),o({title:"User Updated",description:"User information has been updated successfully."}),p(!1),u(null)},onError:s=>{o({title:"Error",description:s.message,variant:"destructive"})}}),ne=ie?.filter(s=>{const a=I.toLowerCase();return s.email.toLowerCase().includes(a)||s.name?.toLowerCase().includes(a)||s.role.toLowerCase().includes(a)}),me=s=>{u(s),v({role:s.role,accountStatus:s.accountStatus}),p(!0)},oe=s=>{u(s),b(!0)},ce=s=>{u(s),f(!0)},C=s=>{const a={active:{variant:"default",icon:xe},pending:{variant:"secondary",icon:Ue},suspended:{variant:"destructive",icon:Se}},i=a[s]||a.pending,N=i.icon;return e.jsxDEV(h,{variant:i.variant,className:"gap-1",children:[e.jsxDEV(N,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:235,columnNumber:9},this),s]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:234,columnNumber:7},this)};return e.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsxDEV(de,{className:"h-8 w-8"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:246,columnNumber:13},this),"Platform Administration"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:245,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Manage all users, companies, and system-wide settings"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:249,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:244,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:243,columnNumber:7},this),e.jsxDEV(Ne,{defaultValue:"users",className:"space-y-6",children:[e.jsxDEV(be,{children:[e.jsxDEV(R,{value:"users",className:"gap-2",children:[e.jsxDEV(fe,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:258,columnNumber:13},this),"Users"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:257,columnNumber:11},this),e.jsxDEV(R,{value:"companies",className:"gap-2",children:[e.jsxDEV(pe,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:262,columnNumber:13},this),"Companies"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:261,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:256,columnNumber:9},this),e.jsxDEV(F,{value:"users",className:"space-y-4",children:e.jsxDEV(O,{children:[e.jsxDEV(q,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(B,{children:"All Users"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:273,columnNumber:19},this),e.jsxDEV(M,{children:"Manage user accounts, reset passwords, and modify permissions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:274,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:272,columnNumber:17},this),e.jsxDEV("div",{className:"relative w-72",children:[e.jsxDEV(ge,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:279,columnNumber:19},this),e.jsxDEV(H,{placeholder:"Search users...",value:I,onChange:s=>Z(s.target.value),className:"pl-9"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:280,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:271,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:270,columnNumber:13},this),e.jsxDEV(K,{children:te?e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"Loading users..."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:291,columnNumber:17},this):e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV($,{children:[e.jsxDEV(z,{children:e.jsxDEV(P,{children:[e.jsxDEV(r,{children:"User"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:299,columnNumber:25},this),e.jsxDEV(r,{children:"Role"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:300,columnNumber:25},this),e.jsxDEV(r,{children:"Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:301,columnNumber:25},this),e.jsxDEV(r,{children:"Company"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:302,columnNumber:25},this),e.jsxDEV(r,{children:"Created"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:303,columnNumber:25},this),e.jsxDEV(r,{className:"text-right",children:"Actions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:304,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:298,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:297,columnNumber:21},this),e.jsxDEV(_,{children:ne?.map(s=>e.jsxDEV(P,{children:[e.jsxDEV(l,{children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:s.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:312,columnNumber:31},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:s.email},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:313,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:311,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:310,columnNumber:27},this),e.jsxDEV(l,{children:e.jsxDEV(h,{variant:"outline",children:s.role},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:317,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:316,columnNumber:27},this),e.jsxDEV(l,{children:C(s.accountStatus)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:319,columnNumber:27},this),e.jsxDEV(l,{children:s.companyId?e.jsxDEV("span",{className:"text-sm",children:[s.companyId.substring(0,8),"..."]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:322,columnNumber:31},this):e.jsxDEV("span",{className:"text-muted-foreground text-sm",children:"â€”"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:324,columnNumber:31},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:320,columnNumber:27},this),e.jsxDEV(l,{className:"text-sm text-muted-foreground",children:new Date(s.createdAt).toLocaleDateString()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:327,columnNumber:27},this),e.jsxDEV(l,{className:"text-right",children:e.jsxDEV("div",{className:"flex items-center justify-end gap-2",children:[e.jsxDEV(n,{size:"sm",variant:"outline",onClick:()=>me(s),children:[e.jsxDEV(Pe,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:337,columnNumber:33},this),"Edit"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:332,columnNumber:31},this),e.jsxDEV(n,{size:"sm",variant:"outline",onClick:()=>oe(s),children:[e.jsxDEV(he,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:345,columnNumber:33},this),"Reset Password"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:340,columnNumber:31},this),e.jsxDEV(n,{size:"sm",variant:"destructive",onClick:()=>ce(s),children:[e.jsxDEV(Y,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:353,columnNumber:33},this),"Delete"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:348,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:331,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:330,columnNumber:27},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:309,columnNumber:25},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:307,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:296,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:295,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:289,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:269,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:268,columnNumber:9},this),e.jsxDEV(F,{value:"companies",className:"space-y-4",children:e.jsxDEV(O,{children:[e.jsxDEV(q,{children:[e.jsxDEV(B,{children:"All Companies"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:372,columnNumber:15},this),e.jsxDEV(M,{children:"View and manage company registrations"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:373,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:371,columnNumber:13},this),e.jsxDEV(K,{children:le?e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"Loading companies..."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:379,columnNumber:17},this):e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV($,{children:[e.jsxDEV(z,{children:e.jsxDEV(P,{children:[e.jsxDEV(r,{children:"Company"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:387,columnNumber:25},this),e.jsxDEV(r,{children:"Type"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:388,columnNumber:25},this),e.jsxDEV(r,{children:"Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:389,columnNumber:25},this),e.jsxDEV(r,{children:"Subscription"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:390,columnNumber:25},this),e.jsxDEV(r,{children:"Created"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:391,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:386,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:385,columnNumber:21},this),e.jsxDEV(_,{children:re?.map(s=>e.jsxDEV(P,{children:[e.jsxDEV(l,{children:e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium",children:s.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:399,columnNumber:31},this),e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:s.email},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:400,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:398,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:397,columnNumber:27},this),e.jsxDEV(l,{children:e.jsxDEV(h,{variant:"outline",children:s.type},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:404,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:403,columnNumber:27},this),e.jsxDEV(l,{children:C(s.status)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:406,columnNumber:27},this),e.jsxDEV(l,{children:e.jsxDEV(h,{children:s.subscriptionPlan},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:408,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:407,columnNumber:27},this),e.jsxDEV(l,{className:"text-sm text-muted-foreground",children:new Date(s.createdAt).toLocaleDateString()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:410,columnNumber:27},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:396,columnNumber:25},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:394,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:384,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:383,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:377,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:370,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:369,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:255,columnNumber:7},this),e.jsxDEV(U,{open:ae,onOpenChange:p,children:e.jsxDEV(E,{children:[e.jsxDEV(L,{children:[e.jsxDEV(k,{children:"Edit User"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:428,columnNumber:13},this),e.jsxDEV(A,{children:"Modify user role and account status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:429,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:427,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(x,{children:"User"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:435,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("div",{className:"font-medium",children:t?.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:437,columnNumber:17},this),e.jsxDEV("div",{className:"text-muted-foreground",children:t?.email},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:438,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:436,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:434,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(x,{htmlFor:"role",children:"Role"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:442,columnNumber:15},this),e.jsxDEV(J,{value:d.role,onValueChange:s=>v({...d,role:s}),children:[e.jsxDEV(X,{children:e.jsxDEV(G,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:448,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:447,columnNumber:17},this),e.jsxDEV(W,{children:[e.jsxDEV(m,{value:"ecp",children:"ECP"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:451,columnNumber:19},this),e.jsxDEV(m,{value:"lab_tech",children:"Lab Technician"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:452,columnNumber:19},this),e.jsxDEV(m,{value:"engineer",children:"Engineer"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:453,columnNumber:19},this),e.jsxDEV(m,{value:"supplier",children:"Supplier"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:454,columnNumber:19},this),e.jsxDEV(m,{value:"company_admin",children:"Company Admin"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:455,columnNumber:19},this),e.jsxDEV(m,{value:"platform_admin",children:"Platform Admin"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:456,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:450,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:443,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:441,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(x,{htmlFor:"status",children:"Account Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:461,columnNumber:15},this),e.jsxDEV(J,{value:d.accountStatus,onValueChange:s=>v({...d,accountStatus:s}),children:[e.jsxDEV(X,{children:e.jsxDEV(G,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:467,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:466,columnNumber:17},this),e.jsxDEV(W,{children:[e.jsxDEV(m,{value:"pending",children:"Pending"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:470,columnNumber:19},this),e.jsxDEV(m,{value:"active",children:"Active"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:471,columnNumber:19},this),e.jsxDEV(m,{value:"suspended",children:"Suspended"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:472,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:469,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:462,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:460,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:433,columnNumber:11},this),e.jsxDEV(j,{children:[e.jsxDEV(n,{variant:"outline",onClick:()=>p(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:478,columnNumber:13},this),e.jsxDEV(n,{onClick:()=>{t&&y.mutate({userId:t.id,updates:d})},disabled:y.isPending,children:"Save Changes"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:481,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:477,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:426,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:425,columnNumber:7},this),e.jsxDEV(U,{open:ee,onOpenChange:b,children:e.jsxDEV(E,{children:[e.jsxDEV(L,{children:[e.jsxDEV(k,{children:"Reset User Password"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:502,columnNumber:13},this),e.jsxDEV(A,{children:["Set a new password for ",t?.name]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:503,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:501,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(x,{htmlFor:"newPassword",children:"New Password"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:509,columnNumber:15},this),e.jsxDEV(H,{id:"newPassword",type:"password",value:g,onChange:s=>D(s.target.value),placeholder:"Enter new password"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:510,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Password should be at least 8 characters long"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:517,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:508,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:507,columnNumber:11},this),e.jsxDEV(j,{children:[e.jsxDEV(n,{variant:"outline",onClick:()=>{b(!1),D("")},children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:523,columnNumber:13},this),e.jsxDEV(n,{onClick:()=>{t&&g.length>=8?V.mutate({userId:t.id,password:g}):o({title:"Invalid Password",description:"Password must be at least 8 characters long",variant:"destructive"})},disabled:V.isPending||g.length<8,children:[e.jsxDEV(De,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:546,columnNumber:15},this),"Reset Password"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:529,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:522,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:500,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:499,columnNumber:7},this),e.jsxDEV(U,{open:se,onOpenChange:f,children:e.jsxDEV(E,{children:[e.jsxDEV(L,{children:[e.jsxDEV(k,{children:"Delete User"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:557,columnNumber:13},this),e.jsxDEV(A,{children:"Are you sure you want to permanently delete this user?"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:558,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:556,columnNumber:11},this),e.jsxDEV("div",{className:"py-4",children:e.jsxDEV("div",{className:"rounded-md bg-destructive/10 p-4 border border-destructive/20",children:e.jsxDEV("div",{className:"flex items-start gap-3",children:[e.jsxDEV(ve,{className:"h-5 w-5 text-destructive mt-0.5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:565,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium text-destructive",children:"This action cannot be undone"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:567,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground mt-1",children:["User: ",e.jsxDEV("strong",{children:t?.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:569,columnNumber:27},this)," (",t?.email,")"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:568,columnNumber:19},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"All associated data will be permanently deleted."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:571,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:566,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:564,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:563,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:562,columnNumber:11},this),e.jsxDEV(j,{children:[e.jsxDEV(n,{variant:"outline",onClick:()=>f(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:579,columnNumber:13},this),e.jsxDEV(n,{variant:"destructive",onClick:()=>{t&&w.mutate(t.id)},disabled:w.isPending,children:[e.jsxDEV(Y,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:591,columnNumber:15},this),"Delete User"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:582,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:578,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:555,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:554,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PlatformAdminPage.tsx",lineNumber:242,columnNumber:5},this)}export{qe as default};
