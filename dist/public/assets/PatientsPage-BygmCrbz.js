import{r as P,e}from"./vendor-react-yzYIzJFU.js";import{c as A,a as y,u as M}from"./vendor-react-query-Dxpktacb.js";import{e as w,a2 as C,a4 as B,a5 as O,a6 as R,y as v,a7 as T,I as l,f as x,W as F,G as H,C as S,h as L,a as E,i as $,j as q,$ as Q,am as j,B as k,L as I,E as z,V as J}from"./index-BiBisH8X.js";import{T as K,a as W,b as U,c as N,d as _,e as b}from"./table-cFqY84xs.js";import{L as r}from"./label-DDyL8AZL.js";import{T as G}from"./textarea-DoojhZ6C.js";import{T as X}from"./TableSkeleton-CSZegB3T.js";import{E as Y}from"./EmptyState-ugLtOoCh.js";import{P as Z}from"./plus-CbARstPA.js";import{C as ee}from"./calendar-GUm2wtPp.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";import"./skeleton-a1RpvyBN.js";function se({open:m,onOpenChange:p}){const{toast:D}=w(),h=A(),[a,g]=P.useState({name:"",dateOfBirth:"",email:"",phone:"",nhsNumber:"",address:"",city:"",postcode:"",customerReferenceLabel:"",customerReferenceNumber:""}),[n,f]=P.useState({}),o=()=>{const s={};return a.name.trim()||(s.name="Patient name is required"),a.dateOfBirth?new Date(a.dateOfBirth)>new Date&&(s.dateOfBirth="Date of birth cannot be in the future"):s.dateOfBirth="Date of birth is required",a.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&(s.email="Please enter a valid email address"),a.phone&&!/^[\d\s\+\-\(\)]+$/.test(a.phone)&&(s.phone="Please enter a valid phone number"),a.nhsNumber&&!/^\d{10}$/.test(a.nhsNumber.replace(/\s/g,""))&&(s.nhsNumber="NHS number must be 10 digits"),f(s),Object.keys(s).length===0},t=y({mutationFn:async s=>{const d=await fetch("/api/patients",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:s.name.trim(),dateOfBirth:s.dateOfBirth,email:s.email.trim()||null,phone:s.phone.trim()||null,nhsNumber:s.nhsNumber.replace(/\s/g,"")||null,fullAddress:{address:s.address.trim()||null,city:s.city.trim()||null,postcode:s.postcode.trim()||null},customerReferenceLabel:s.customerReferenceLabel.trim()||null,customerReferenceNumber:s.customerReferenceNumber.trim()||null})});if(!d.ok){const u=await d.json();throw new Error(u.message||"Failed to add patient")}return d.json()},onSuccess:()=>{h.invalidateQueries({queryKey:["/api/patients"]}),D({title:"Patient Added",description:"The patient has been successfully added to your records."}),c(),p(!1)},onError:s=>{D({title:"Error",description:s.message,variant:"destructive"})}}),c=()=>{g({name:"",dateOfBirth:"",email:"",phone:"",nhsNumber:"",address:"",city:"",postcode:"",customerReferenceLabel:"",customerReferenceNumber:""}),f({})},V=s=>{s.preventDefault(),o()&&t.mutate(a)},i=(s,d)=>{g(u=>({...u,[s]:d})),n[s]&&f(u=>({...u,[s]:void 0}))};return e.jsxDEV(C,{open:m,onOpenChange:p,children:e.jsxDEV(B,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxDEV(O,{children:[e.jsxDEV(R,{className:"flex items-center gap-2",children:[e.jsxDEV(v,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:169,columnNumber:13},this),"Add New Patient"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:168,columnNumber:11},this),e.jsxDEV(T,{children:"Enter the patient's information below. Fields marked with * are required."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:172,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:167,columnNumber:9},this),e.jsxDEV("form",{onSubmit:V,className:"space-y-6",children:[e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Basic Information"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:180,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2 md:col-span-2",children:[e.jsxDEV(r,{htmlFor:"name",children:["Full Name ",e.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:185,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:184,columnNumber:17},this),e.jsxDEV(l,{id:"name",value:a.name,onChange:s=>i("name",s.target.value),placeholder:"John Smith",className:n.name?"border-destructive":""},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:187,columnNumber:17},this),n.name&&e.jsxDEV("p",{className:"text-xs text-destructive",children:n.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:195,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:183,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(r,{htmlFor:"dateOfBirth",children:["Date of Birth ",e.jsxDEV("span",{className:"text-destructive",children:"*"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:201,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:200,columnNumber:17},this),e.jsxDEV(l,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:s=>i("dateOfBirth",s.target.value),max:new Date().toISOString().split("T")[0],className:n.dateOfBirth?"border-destructive":""},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:203,columnNumber:17},this),n.dateOfBirth&&e.jsxDEV("p",{className:"text-xs text-destructive",children:n.dateOfBirth},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:212,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:199,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(r,{htmlFor:"nhsNumber",children:"NHS Number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:217,columnNumber:17},this),e.jsxDEV(l,{id:"nhsNumber",value:a.nhsNumber,onChange:s=>i("nhsNumber",s.target.value),placeholder:"123 456 7890",maxLength:12,className:n.nhsNumber?"border-destructive":""},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:218,columnNumber:17},this),n.nhsNumber&&e.jsxDEV("p",{className:"text-xs text-destructive",children:n.nhsNumber},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:227,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"10-digit NHS number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:229,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:216,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:179,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Contact Information"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:236,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(r,{htmlFor:"email",children:"Email Address"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:240,columnNumber:17},this),e.jsxDEV(l,{id:"email",type:"email",value:a.email,onChange:s=>i("email",s.target.value),placeholder:"john.smith@example.com",className:n.email?"border-destructive":""},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:241,columnNumber:17},this),n.email&&e.jsxDEV("p",{className:"text-xs text-destructive",children:n.email},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:250,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:239,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(r,{htmlFor:"phone",children:"Phone Number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:255,columnNumber:17},this),e.jsxDEV(l,{id:"phone",type:"tel",value:a.phone,onChange:s=>i("phone",s.target.value),placeholder:"+44 7700 900000",className:n.phone?"border-destructive":""},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:256,columnNumber:17},this),n.phone&&e.jsxDEV("p",{className:"text-xs text-destructive",children:n.phone},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:265,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:254,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:238,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:235,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Address"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:273,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(r,{htmlFor:"address",children:"Street Address"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:277,columnNumber:17},this),e.jsxDEV(G,{id:"address",value:a.address,onChange:s=>i("address",s.target.value),placeholder:"123 High Street",rows:2},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:278,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:276,columnNumber:15},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(r,{htmlFor:"city",children:"City/Town"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:289,columnNumber:19},this),e.jsxDEV(l,{id:"city",value:a.city,onChange:s=>i("city",s.target.value),placeholder:"London"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:290,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:288,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(r,{htmlFor:"postcode",children:"Postcode"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:299,columnNumber:19},this),e.jsxDEV(l,{id:"postcode",value:a.postcode,onChange:s=>i("postcode",s.target.value.toUpperCase()),placeholder:"SW1A 1AA"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:300,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:298,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:287,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:275,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:272,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-sm font-semibold text-muted-foreground",children:"Additional Reference (Optional)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:313,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(r,{htmlFor:"customerReferenceLabel",children:"Reference Label"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:317,columnNumber:17},this),e.jsxDEV(l,{id:"customerReferenceLabel",value:a.customerReferenceLabel,onChange:s=>i("customerReferenceLabel",s.target.value),placeholder:"e.g., Shopify ID, Insurance #"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:318,columnNumber:17},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Custom reference type for your records"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:324,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:316,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(r,{htmlFor:"customerReferenceNumber",children:"Reference Number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:330,columnNumber:17},this),e.jsxDEV(l,{id:"customerReferenceNumber",value:a.customerReferenceNumber,onChange:s=>i("customerReferenceNumber",s.target.value),placeholder:"Enter reference number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:331,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:329,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:315,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:312,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsxDEV(x,{type:"button",variant:"outline",onClick:()=>{c(),p(!1)},disabled:t.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:343,columnNumber:13},this),e.jsxDEV(x,{type:"submit",disabled:t.isPending,children:t.isPending?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(F,{className:"h-4 w-4 mr-2 animate-spin"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:357,columnNumber:19},this),"Adding Patient..."]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:356,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(v,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:362,columnNumber:19},this),"Add Patient"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:361,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:354,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:342,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:177,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:166,columnNumber:7},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/AddPatientModal.tsx",lineNumber:165,columnNumber:5},this)}function pe(){const[m,p]=P.useState(""),[D,h]=P.useState(!1),{user:a}=H(),g=a?.enhancedRole==="optometrist"||a?.role==="ecp"||a?.role==="platform_admin"||a?.role==="admin"||a?.role==="company_admin",{data:n,isLoading:f}=M({queryKey:["/api/patients"]}),o=n?.filter(t=>{const c=m.toLowerCase();return t.name.toLowerCase().includes(c)||t.customerNumber.toLowerCase().includes(c)||t.nhsNumber?.toLowerCase().includes(c)||t.email?.toLowerCase().includes(c)});return f?e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"h-10 w-48 bg-muted animate-pulse rounded"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:68,columnNumber:11},this),e.jsxDEV("div",{className:"h-10 w-32 bg-muted animate-pulse rounded"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:69,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:67,columnNumber:9},this),e.jsxDEV(S,{children:[e.jsxDEV(L,{children:e.jsxDEV("div",{className:"h-8 w-48 bg-muted animate-pulse rounded"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:72,columnNumber:11},this),e.jsxDEV(E,{children:e.jsxDEV(X,{rows:5,columns:6},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:76,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:71,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:66,columnNumber:7},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Patients"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:87,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Manage patient records and examinations"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:88,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:86,columnNumber:9},this),e.jsxDEV(x,{"data-testid":"button-add-patient",onClick:()=>h(!0),children:[e.jsxDEV(Z,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:96,columnNumber:11},this),"Add Patient"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:92,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:85,columnNumber:7},this),e.jsxDEV(se,{open:D,onOpenChange:h},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:101,columnNumber:7},this),e.jsxDEV(S,{children:[e.jsxDEV(L,{children:e.jsxDEV("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV($,{children:"Patient Records"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:110,columnNumber:15},this),e.jsxDEV(q,{children:"View and manage patient information"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:111,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:109,columnNumber:13},this),e.jsxDEV("div",{className:"relative w-full sm:w-72",children:[e.jsxDEV(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:114,columnNumber:15},this),e.jsxDEV(l,{placeholder:"Search by name, NHS number, or email",value:m,onChange:t=>p(t.target.value),className:"pl-9","data-testid":"input-search-patients"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:113,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:108,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:107,columnNumber:9},this),e.jsxDEV(E,{children:!o||o.length===0?e.jsxDEV(Y,{icon:j,title:m?"No patients found":"No patients yet",description:m?"Try adjusting your search query":"Start by adding your first patient",action:m?void 0:{label:"Add Patient",onClick:()=>h(!0)}},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:127,columnNumber:13},this):e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV(K,{children:[e.jsxDEV(W,{children:e.jsxDEV(U,{children:[e.jsxDEV(N,{children:"Customer #"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:149,columnNumber:21},this),e.jsxDEV(N,{children:"Patient Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:150,columnNumber:21},this),e.jsxDEV(N,{children:"Date of Birth"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:151,columnNumber:21},this),e.jsxDEV(N,{children:"NHS Number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:152,columnNumber:21},this),e.jsxDEV(N,{children:"Contact"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:153,columnNumber:21},this),e.jsxDEV(N,{className:"text-right",children:"Actions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:154,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:148,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:147,columnNumber:17},this),e.jsxDEV(_,{children:o.map(t=>e.jsxDEV(U,{"data-testid":`row-patient-${t.id}`,children:[e.jsxDEV(b,{children:e.jsxDEV(k,{variant:"secondary",className:"font-mono text-xs",children:t.customerNumber},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:161,columnNumber:25},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:160,columnNumber:23},this),e.jsxDEV(b,{className:"font-medium",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(j,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:167,columnNumber:27},this),e.jsxDEV("span",{"data-testid":`text-patient-name-${t.id}`,children:t.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:168,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:166,columnNumber:25},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:165,columnNumber:23},this),e.jsxDEV(b,{children:t.dateOfBirth?e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ee,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:174,columnNumber:29},this),e.jsxDEV("span",{className:"text-sm",children:t.dateOfBirth},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:175,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:173,columnNumber:27},this):e.jsxDEV("span",{className:"text-muted-foreground text-sm",children:"—"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:178,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:171,columnNumber:23},this),e.jsxDEV(b,{children:t.nhsNumber?e.jsxDEV(k,{variant:"outline",className:"font-mono text-xs",children:t.nhsNumber},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:183,columnNumber:27},this):e.jsxDEV("span",{className:"text-muted-foreground text-sm",children:"—"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:187,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:181,columnNumber:23},this),e.jsxDEV(b,{children:e.jsxDEV("div",{className:"text-sm",children:[t.email&&e.jsxDEV("div",{className:"text-muted-foreground",children:t.email},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:193,columnNumber:29},this),t.phone&&e.jsxDEV("div",{className:"text-muted-foreground",children:t.phone},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:196,columnNumber:29},this),!t.email&&!t.phone&&e.jsxDEV("span",{className:"text-muted-foreground",children:"—"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:199,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:191,columnNumber:25},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:190,columnNumber:23},this),e.jsxDEV(b,{className:"text-right",children:e.jsxDEV("div",{className:"flex items-center justify-end gap-2",children:[g&&e.jsxDEV(I,{href:`/ecp/examination/new?patientId=${t.id}`,children:e.jsxDEV(x,{size:"sm",variant:"default","data-testid":`button-new-test-${t.id}`,children:[e.jsxDEV(z,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:212,columnNumber:33},this),"New Examination"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:207,columnNumber:31},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:206,columnNumber:29},this),e.jsxDEV(I,{href:`/ecp/patients/${t.id}`,children:e.jsxDEV(x,{size:"sm",variant:"outline","data-testid":`button-view-history-${t.id}`,children:[e.jsxDEV(J,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:223,columnNumber:31},this),"View Profile"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:218,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:217,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:204,columnNumber:25},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:203,columnNumber:23},this)]},t.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:159,columnNumber:21},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:146,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:145,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:125,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:106,columnNumber:7},this),o&&o.length>0&&e.jsxDEV("div",{className:"text-sm text-muted-foreground",children:["Showing ",o.length," of ",n?.length," patients"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:239,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PatientsPage.tsx",lineNumber:84,columnNumber:5},this)}export{pe as default};
