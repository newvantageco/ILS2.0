import{r as S,e}from"./vendor-react-yzYIzJFU.js";import{c as ae,C as N,h as g,i as v,V as Y,j as ie,f as c,a9 as Z,a as x,B as j,E as re,av as ne,aw as le,ax as oe,ay as me,a2 as R,a3 as ce,a4 as H,a5 as z,a6 as $,a7 as q,an as de,G as ue,e as pe,L as Ne,ah as be,M as De,_ as xe,P as he,I as O,a8 as fe,x as ge,Y as C,a1 as Q}from"./index-BiBisH8X.js";import{u as T,a as k}from"./vendor-react-query-Dxpktacb.js";import{L as w}from"./label-DDyL8AZL.js";import{E as ve}from"./eye-off-clS8ZdCy.js";import{C as y}from"./CardSkeleton-fD8CCydl.js";import{C as Ve}from"./clock-CfQc0zyb.js";import{U as W}from"./user-B9YQAmBR.js";import{f as X}from"./formatDistanceToNow-DiAVSrhr.js";import{f as ee}from"./format-B8W-xB4I.js";import{H as ke}from"./history-CFRHx3vb.js";import{C as Ee}from"./chevron-left-CPbYkpZ9.js";import{T as Se}from"./truck-BzkyTBhC.js";import{M as F}from"./message-square-AVjZR4xa.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";import"./skeleton-a1RpvyBN.js";import"./constructNow-C4Sbj-pp.js";import"./en-US-816ENOvV.js";import"./endOfMonth-tFAAZ6N8.js";const je=ae("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);function Le({omaData:d}){const[i,o]=S.useState(!1),{filename:n,content:s,parsedData:a}=d,p=()=>{const b=new Blob([s],{type:"text/plain"}),h=URL.createObjectURL(b),D=document.createElement("a");D.href=h,D.download=n,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(h)};return e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(N,{children:e.jsxDEV(g,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV(v,{className:"flex items-center gap-2",children:[e.jsxDEV(Y,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:40,columnNumber:17},this),"OMA File Attached"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:39,columnNumber:15},this),e.jsxDEV(ie,{children:n},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:43,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:38,columnNumber:13},this),e.jsxDEV(c,{variant:"outline",size:"sm",onClick:p,"data-testid":"button-download-oma",children:[e.jsxDEV(Z,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:51,columnNumber:15},this),"Download"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:45,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:37,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:36,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:35,columnNumber:7},this),(a.prescription?.rightEye||a.prescription?.leftEye)&&e.jsxDEV(N,{children:[e.jsxDEV(g,{children:e.jsxDEV(v,{className:"text-lg",children:"Prescription Data"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:62,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:61,columnNumber:11},this),e.jsxDEV(x,{children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.prescription.rightEye&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsxDEV(j,{variant:"outline",children:"OD"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:70,columnNumber:21},this),"Right Eye"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:69,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.prescription.rightEye.sphere&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Sphere:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:76,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium font-mono",children:a.prescription.rightEye.sphere},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:77,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:75,columnNumber:23},this),a.prescription.rightEye.cylinder&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Cylinder:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:82,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium font-mono",children:a.prescription.rightEye.cylinder},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:83,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:81,columnNumber:23},this),a.prescription.rightEye.axis&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Axis:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:88,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium font-mono",children:[a.prescription.rightEye.axis,"°"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:89,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:87,columnNumber:23},this),a.prescription.rightEye.add&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Add:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:94,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium font-mono",children:a.prescription.rightEye.add},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:95,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:93,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:73,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:68,columnNumber:17},this),a.prescription.leftEye&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsxDEV(j,{variant:"outline",children:"OS"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:106,columnNumber:21},this),"Left Eye"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:105,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.prescription.leftEye.sphere&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Sphere:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:112,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium font-mono",children:a.prescription.leftEye.sphere},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:113,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:111,columnNumber:23},this),a.prescription.leftEye.cylinder&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Cylinder:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:118,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium font-mono",children:a.prescription.leftEye.cylinder},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:119,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:117,columnNumber:23},this),a.prescription.leftEye.axis&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Axis:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:124,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium font-mono",children:[a.prescription.leftEye.axis,"°"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:125,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:123,columnNumber:23},this),a.prescription.leftEye.add&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Add:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:130,columnNumber:25},this),e.jsxDEV("span",{className:"font-medium font-mono",children:a.prescription.leftEye.add},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:131,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:129,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:109,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:104,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:65,columnNumber:13},this),a.prescription.pd&&e.jsxDEV("div",{className:"mt-4 pt-4 border-t",children:e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Pupillary Distance (PD):"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:142,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium font-mono",children:[a.prescription.pd," mm"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:143,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:141,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:64,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:60,columnNumber:9},this),a.jobNumber&&e.jsxDEV(N,{children:e.jsxDEV(x,{className:"p-4",children:e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Job Number:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:156,columnNumber:15},this),e.jsxDEV("span",{className:"font-medium font-mono",children:a.jobNumber},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:157,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:155,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:154,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:153,columnNumber:9},this),a.frameInfo&&e.jsxDEV(N,{children:[e.jsxDEV(g,{children:e.jsxDEV(v,{className:"text-lg",children:"Frame Information"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:167,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:166,columnNumber:11},this),e.jsxDEV(x,{children:e.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.frameInfo.type&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Type:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:173,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium",children:a.frameInfo.type},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:174,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:172,columnNumber:17},this),a.frameInfo.size&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Size:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:179,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium font-mono",children:a.frameInfo.size},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:180,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:178,columnNumber:17},this),a.frameInfo.bridge&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Bridge:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:185,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium font-mono",children:a.frameInfo.bridge},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:186,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:184,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:170,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:165,columnNumber:9},this),a.tracing&&e.jsxDEV(N,{children:[e.jsxDEV(g,{children:e.jsxDEV(v,{className:"text-lg",children:"Tracing Data"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:198,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:197,columnNumber:11},this),e.jsxDEV(x,{children:e.jsxDEV("div",{className:"space-y-2 text-sm",children:[a.tracing.side&&e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Side:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:204,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium",children:a.tracing.side},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:205,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:203,columnNumber:17},this),a.tracing.rawData&&e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("span",{className:"text-muted-foreground",children:"Data Points:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:210,columnNumber:19},this),e.jsxDEV("div",{className:"bg-muted p-3 rounded-md font-mono text-xs overflow-x-auto",children:[a.tracing.rawData.substring(0,200),a.tracing.rawData.length>200&&"..."]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:211,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:209,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:201,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:200,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:196,columnNumber:9},this),e.jsxDEV(N,{children:e.jsxDEV(x,{className:"p-4",children:[e.jsxDEV(c,{variant:"outline",size:"sm",onClick:()=>o(!i),className:"w-full","data-testid":"button-toggle-raw-data",children:i?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ve,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:234,columnNumber:17},this),"Hide Raw Data"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:233,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(re,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:239,columnNumber:17},this),"Show Raw Data"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:238,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:225,columnNumber:11},this),i&&e.jsxDEV("div",{className:"mt-4 space-y-2",children:[e.jsxDEV("h4",{className:"font-semibold text-sm",children:"All Fields:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:247,columnNumber:15},this),e.jsxDEV("div",{className:"bg-muted p-3 rounded-md font-mono text-xs overflow-x-auto max-h-96 overflow-y-auto",children:e.jsxDEV("pre",{children:JSON.stringify(a.raw,null,2)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:249,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:248,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:246,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:224,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:223,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OMAViewer.tsx",lineNumber:34,columnNumber:5},this)}function Ue({timestamp:d,userName:i,userEmail:o,action:n="updated",showIcon:s=!0,showRelative:a=!0,className:p=""}){const b=typeof d=="string"?new Date(d):d,h=X(b,{addSuffix:!0}),D=ee(b,"d MMM yyyy, h:mm a"),P=b.toISOString(),E={created:"Created",updated:"Updated",deleted:"Deleted",status_changed:"Status changed"};return e.jsxDEV(ne,{children:e.jsxDEV(le,{children:[e.jsxDEV(oe,{asChild:!0,children:e.jsxDEV("div",{className:`flex items-center gap-1.5 text-sm text-muted-foreground ${p}`,children:[s&&e.jsxDEV(Ve,{className:"h-3.5 w-3.5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:47,columnNumber:26},this),e.jsxDEV("time",{dateTime:P,className:"flex items-center gap-1",children:[a?h:D,i&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"text-xs",children:"by"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:52,columnNumber:19},this),e.jsxDEV("span",{className:"font-medium text-foreground",children:i},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:53,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:51,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:48,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:46,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:45,columnNumber:9},this),e.jsxDEV(me,{side:"bottom",className:"max-w-xs",children:e.jsxDEV("div",{className:"space-y-1.5",children:[e.jsxDEV("div",{className:"font-semibold",children:E[n]},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:61,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs",children:D},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:62,columnNumber:13},this),i&&e.jsxDEV("div",{className:"flex items-center gap-1.5 text-xs pt-1 border-t",children:[e.jsxDEV(W,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:65,columnNumber:17},this),e.jsxDEV("span",{children:i},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:66,columnNumber:17},this),o&&e.jsxDEV("span",{className:"text-muted-foreground",children:["(",o,")"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:67,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:64,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:60,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:59,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:44,columnNumber:7},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:43,columnNumber:5},this)}function Ie({history:d,className:i=""}){if(!d||d.length===0)return e.jsxDEV("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No change history available"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:98,columnNumber:7},this);const o=[...d].sort((a,p)=>new Date(p.timestamp).getTime()-new Date(a.timestamp).getTime()),n={created:"bg-green-500",updated:"bg-blue-500",deleted:"bg-red-500",status_changed:"bg-yellow-500"},s={created:"Created",updated:"Updated",deleted:"Deleted",status_changed:"Status Changed"};return e.jsxDEV("div",{className:`space-y-4 ${i}`,children:[e.jsxDEV("h3",{className:"text-sm font-semibold",children:"Change History"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:124,columnNumber:7},this),e.jsxDEV("div",{className:"relative space-y-4",children:[e.jsxDEV("div",{className:"absolute left-2 top-2 bottom-2 w-0.5 bg-border"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:127,columnNumber:9},this),o.map((a,p)=>e.jsxDEV("div",{className:"relative pl-8",children:[e.jsxDEV("div",{className:`absolute left-0 top-1 h-4 w-4 rounded-full border-2 border-background ${n[a.action]}`},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:132,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-2",children:e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(j,{variant:"outline",className:"text-xs",children:s[a.action]},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:142,columnNumber:21},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:X(new Date(a.timestamp),{addSuffix:!0})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:145,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:141,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-1.5 text-sm",children:[e.jsxDEV(W,{className:"h-3.5 w-3.5 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:150,columnNumber:21},this),e.jsxDEV("span",{className:"font-medium",children:a.userName},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:151,columnNumber:21},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:["(",a.userEmail,")"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:152,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:149,columnNumber:19},this),e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:ee(new Date(a.timestamp),"d MMM yyyy, h:mm:ss a")},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:154,columnNumber:19},this),a.ipAddress&&e.jsxDEV("div",{className:"text-xs text-muted-foreground",children:["IP: ",a.ipAddress]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:158,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:140,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:139,columnNumber:15},this),a.changes&&Object.keys(a.changes).length>0&&e.jsxDEV("div",{className:"mt-2 p-2 rounded-md bg-muted/50 text-xs space-y-1",children:[e.jsxDEV("div",{className:"font-semibold",children:"Changes:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:166,columnNumber:19},this),Object.entries(a.changes).map(([b,h])=>e.jsxDEV("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxDEV("span",{className:"font-medium capitalize",children:[b.replace(/_/g," "),":"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:169,columnNumber:23},this),e.jsxDEV("span",{className:"text-red-600 line-through",children:JSON.stringify(h.old)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:170,columnNumber:23},this),e.jsxDEV("span",{className:"text-green-600",children:["→ ",JSON.stringify(h.new)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:173,columnNumber:23},this)]},b,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:168,columnNumber:21},this))]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:165,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:138,columnNumber:13},this)]},p,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:130,columnNumber:11},this))]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:125,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/TimestampDisplay.tsx",lineNumber:123,columnNumber:5},this)}function Oe({title:d="Change History",history:i=[],triggerLabel:o="View History",triggerVariant:n="outline",triggerSize:s="sm"}){const[a,p]=S.useState(!1);return!i||i.length===0?null:e.jsxDEV(R,{open:a,onOpenChange:p,children:[e.jsxDEV(ce,{asChild:!0,children:e.jsxDEV(c,{variant:n,size:s,children:[e.jsxDEV(ke,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/ChangeHistoryDialog.tsx",lineNumber:53,columnNumber:11},this),o]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/ChangeHistoryDialog.tsx",lineNumber:52,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/ChangeHistoryDialog.tsx",lineNumber:51,columnNumber:7},this),e.jsxDEV(H,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[e.jsxDEV(z,{children:[e.jsxDEV($,{children:d},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/ChangeHistoryDialog.tsx",lineNumber:59,columnNumber:11},this),e.jsxDEV(q,{children:"Complete audit trail showing all changes made to this record"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/ChangeHistoryDialog.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/ChangeHistoryDialog.tsx",lineNumber:58,columnNumber:9},this),e.jsxDEV(Ie,{history:i},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/ChangeHistoryDialog.tsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/ChangeHistoryDialog.tsx",lineNumber:57,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/ChangeHistoryDialog.tsx",lineNumber:50,columnNumber:5},this)}function Ze(){const[,d]=de("/order/:id"),i=d?.id,{user:o}=ue(),{toast:n}=pe(),{data:s,isLoading:a}=T({queryKey:["/api/orders",i],queryFn:async()=>{const t=await fetch(`/api/orders/${i}`);if(!t.ok)throw new Error("Failed to fetch order");return t.json()},enabled:!!i}),p=k({mutationFn:async t=>{const r=await fetch(`/api/orders/${t}/pdf`,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!r.ok){const L=await r.json().catch(()=>({message:"Failed to download PDF"}));throw new Error(L.message||"Failed to download PDF")}const m=await r.blob(),u=window.URL.createObjectURL(m),l=document.createElement("a");l.href=u,l.download=`order-${i}.pdf`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(u),document.body.removeChild(l)},onSuccess:()=>{n({title:"PDF Downloaded",description:"The order sheet PDF has been downloaded."})},onError:t=>{n({title:"Error",description:t.message||"Failed to download PDF. Please try again.",variant:"destructive"})}}),b=k({mutationFn:async t=>{const r=await fetch(`/api/orders/${t}/lab-ticket`,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!r.ok){const L=await r.json().catch(()=>({message:"Failed to download lab ticket"}));throw new Error(L.message||"Failed to download lab ticket")}const m=await r.blob(),u=window.URL.createObjectURL(m),l=document.createElement("a");l.href=u,l.download=`lab-ticket-${i}.pdf`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(u),document.body.removeChild(l)},onSuccess:()=>{n({title:"Lab Ticket Downloaded",description:"The lab work ticket PDF has been downloaded."})},onError:t=>{n({title:"Error",description:t.message||"Failed to download lab ticket. Please try again.",variant:"destructive"})}}),h=k({mutationFn:async t=>{const r=await fetch(`/api/patients/${t}/examination-form`,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!r.ok){const L=await r.json().catch(()=>({message:"Failed to download examination form"}));throw new Error(L.message||"Failed to download examination form")}const m=await r.blob(),u=window.URL.createObjectURL(m),l=document.createElement("a");l.href=u,l.download=`exam-form-${t.slice(-6)}.pdf`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(u),document.body.removeChild(l)},onSuccess:()=>{n({title:"Exam Form Downloaded",description:"The patient examination form PDF has been downloaded."})},onError:t=>{n({title:"Error",description:t.message||"Failed to download examination form. Please try again.",variant:"destructive"})}}),D=k({mutationFn:async t=>{const r=await C("POST",`/api/orders/${t}/email`);if(!r.ok){const m=await r.json();throw new Error(m.message||"Failed to send email")}return await r.json()},onSuccess:()=>{n({title:"Email Sent",description:"The order sheet has been emailed successfully."})},onError:t=>{n({title:"Error",description:t.message||"Failed to send email. Please try again.",variant:"destructive"})}}),[P,E]=S.useState(!1),[V,U]=S.useState({trackingNumber:"",carrier:"",shippedDate:new Date().toISOString().split("T")[0]}),[_,B]=S.useState(!1),[I,G]=S.useState(""),{data:A}=T({queryKey:["/api/orders",i,"consult-logs"],queryFn:async()=>{const t=await fetch(`/api/orders/${i}/consult-logs`);if(!t.ok)throw new Error("Failed to fetch consultation logs");return t.json()},enabled:!!i&&_}),J=k({mutationFn:async({id:t,response:r})=>{const m=await C("PATCH",`/api/consult-logs/${t}/respond`,{response:r});if(!m.ok){const u=await m.json();throw new Error(u.message||"Failed to respond")}return await m.json()},onSuccess:()=>{Q.invalidateQueries({queryKey:["/api/orders",i,"consult-logs"]}),G(""),n({title:"Response sent successfully"})},onError:t=>{n({title:"Error",description:t.message||"Failed to send response",variant:"destructive"})}}),M=k({mutationFn:async t=>{const r=await C("POST",`/api/orders/${i}/ship`,t);if(!r.ok){const m=await r.json();throw new Error(m.message||"Failed to mark as shipped")}return await r.json()},onSuccess:()=>{Q.invalidateQueries({queryKey:["/api/orders",i]}),E(!1),U({trackingNumber:"",carrier:"",shippedDate:new Date().toISOString().split("T")[0]}),n({title:"Order Shipped",description:"The order has been marked as shipped with tracking information."})},onError:t=>{n({title:"Error",description:t.message,variant:"destructive"})}}),K=k({mutationFn:async t=>{const r=await fetch(`/api/orders/${t}/oma`,{method:"GET",credentials:"include"});if(!r.ok)throw new Error("Failed to download OMA file");const m=await r.blob(),u=window.URL.createObjectURL(m),l=document.createElement("a");l.href=u,l.download=`order-${i}.oma`,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(u),document.body.removeChild(l)},onSuccess:()=>{n({title:"OMA File Downloaded",description:"The OMA file has been downloaded successfully."})},onError:t=>{n({title:"Error",description:t.message||"Failed to download OMA file.",variant:"destructive"})}}),{data:f}=T({queryKey:["/api/orders/analyze-risk",i],queryFn:async()=>{const t=await fetch("/api/orders/analyze-risk",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:i})});if(!t.ok)throw new Error("Failed to analyze risk");return t.json()},enabled:!!i});if(!i)return e.jsxDEV("div",{className:"text-center py-12",children:e.jsxDEV("p",{className:"text-muted-foreground",children:"Order ID not found"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:363,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:362,columnNumber:7},this);if(a)return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"h-10 w-24 bg-muted animate-pulse rounded"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:372,columnNumber:11},this),e.jsxDEV("div",{className:"h-10 w-48 bg-muted animate-pulse rounded"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:373,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:371,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxDEV(y,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:376,columnNumber:11},this),e.jsxDEV(y,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:377,columnNumber:11},this),e.jsxDEV(y,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:378,columnNumber:11},this),e.jsxDEV(y,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:379,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:375,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:370,columnNumber:7},this);if(!s)return e.jsxDEV("div",{className:"text-center py-12",children:e.jsxDEV("p",{className:"text-muted-foreground",children:"Order not found"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:388,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:387,columnNumber:7},this);const se={pending:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",processing:"bg-blue-500/20 text-blue-700 dark:text-blue-400",completed:"bg-green-500/20 text-green-700 dark:text-green-400",cancelled:"bg-red-500/20 text-red-700 dark:text-red-400"},te=()=>{if(!o?.role)return"/";switch(o.role){case"ecp":return"/ecp/dashboard";case"lab_tech":case"engineer":return"/lab/dashboard";default:return"/"}};return e.jsxDEV("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(Ne,{href:te(),children:e.jsxDEV(c,{variant:"ghost",size:"icon","data-testid":"button-back",children:e.jsxDEV(Ee,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:419,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:418,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:417,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-2xl font-semibold",children:"Order Details"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:423,columnNumber:13},this),e.jsxDEV("p",{className:"text-muted-foreground text-sm mt-1",children:["Order #",i.slice(0,8)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:424,columnNumber:13},this),s.updatedAt&&e.jsxDEV("div",{className:"mt-2",children:e.jsxDEV(Ue,{timestamp:s.updatedAt,userName:s.updatedBy,action:"updated",showIcon:!0,className:"text-xs"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:429,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:428,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:422,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:416,columnNumber:9},this),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(j,{className:se[s.status]||"","data-testid":"badge-order-status",children:s.status.toUpperCase()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:441,columnNumber:11},this),s.changeHistory&&s.changeHistory.length>0&&e.jsxDEV(Oe,{title:"Order Change History",history:s.changeHistory,triggerLabel:"View History",triggerVariant:"outline"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:445,columnNumber:13},this),e.jsxDEV(c,{variant:"outline",size:"sm",onClick:()=>p.mutate(i),disabled:p.isPending,"data-testid":"button-download-pdf",children:[e.jsxDEV(Z,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:459,columnNumber:13},this),"Download PDF"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:452,columnNumber:11},this),(o?.role==="lab_tech"||o?.role==="engineer"||o?.role==="admin"||o?.role==="company_admin"||o?.role==="platform_admin")&&e.jsxDEV(c,{variant:"outline",size:"sm",onClick:()=>b.mutate(i),disabled:b.isPending,"data-testid":"button-download-lab-ticket",className:"border-blue-500 text-blue-700 hover:bg-blue-50",children:[e.jsxDEV(Y,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:471,columnNumber:15},this),"Lab Ticket"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:463,columnNumber:13},this),s?.patient&&e.jsxDEV(c,{variant:"outline",size:"sm",onClick:()=>h.mutate(s.patientId),disabled:h.isPending,"data-testid":"button-download-exam-form",className:"border-green-500 text-green-700 hover:bg-green-50",children:[e.jsxDEV(be,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:484,columnNumber:15},this),"Print Exam Form"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:476,columnNumber:13},this),e.jsxDEV(c,{variant:"default",size:"sm",onClick:()=>D.mutate(i),disabled:D.isPending,"data-testid":"button-email-order",children:[e.jsxDEV(De,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:495,columnNumber:13},this),"Email Order"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:488,columnNumber:11},this),e.jsxDEV(c,{variant:"outline",size:"sm",onClick:()=>K.mutate(i),disabled:K.isPending,"data-testid":"button-download-oma",className:"border-purple-500 text-purple-700 hover:bg-purple-50",children:[e.jsxDEV(je,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:506,columnNumber:13},this),"Export OMA"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:498,columnNumber:11},this),(o?.role==="lab_tech"||o?.role==="engineer"||o?.role==="admin"||o?.role==="platform_admin")&&s.status!=="delivered"&&s.status!=="cancelled"&&e.jsxDEV(c,{variant:"outline",size:"sm",onClick:()=>E(!0),"data-testid":"button-mark-shipped",className:"border-orange-500 text-orange-700 hover:bg-orange-50",children:[e.jsxDEV(Se,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:518,columnNumber:15},this),"Mark Shipped"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:511,columnNumber:13},this),e.jsxDEV(c,{variant:"outline",size:"sm",onClick:()=>B(!0),"data-testid":"button-consult-logs",className:"border-blue-500 text-blue-700 hover:bg-blue-50",children:[e.jsxDEV(F,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:529,columnNumber:13},this),"Consultation Logs"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:522,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:440,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:415,columnNumber:7},this),f&&e.jsxDEV(N,{className:"border-amber-200 bg-amber-50/50",children:[e.jsxDEV(g,{children:e.jsxDEV(v,{className:"flex items-center gap-2 text-amber-900",children:[e.jsxDEV(xe,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:540,columnNumber:15},this),"Risk Analysis"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:539,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:538,columnNumber:11},this),e.jsxDEV(x,{children:e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("span",{className:"text-sm font-medium",children:"Risk Score:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:547,columnNumber:17},this),e.jsxDEV(j,{variant:f.score>7?"destructive":f.score>4?"default":"secondary",className:"text-lg px-3 py-1",children:[f.score,"/10"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:548,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:546,columnNumber:15},this),f.factors&&f.factors.length>0&&e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium mb-2",children:"Risk Factors:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:557,columnNumber:19},this),e.jsxDEV("ul",{className:"space-y-1",children:f.factors.map((t,r)=>e.jsxDEV("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsxDEV("span",{className:"text-amber-600 mt-0.5",children:"•"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:561,columnNumber:25},this),e.jsxDEV("span",{children:t},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:562,columnNumber:25},this)]},r,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:560,columnNumber:23},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:558,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:556,columnNumber:17},this),f.recommendations&&f.recommendations.length>0&&e.jsxDEV("div",{className:"mt-3 pt-3 border-t",children:[e.jsxDEV("p",{className:"text-sm font-medium mb-2",children:"Recommendations:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:570,columnNumber:19},this),e.jsxDEV("ul",{className:"space-y-1",children:f.recommendations.map((t,r)=>e.jsxDEV("li",{className:"text-sm text-green-700 flex items-start gap-2",children:[e.jsxDEV(he,{className:"h-3 w-3 mt-0.5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:574,columnNumber:25},this),e.jsxDEV("span",{children:t},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:575,columnNumber:25},this)]},r,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:573,columnNumber:23},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:571,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:569,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:545,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:544,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:537,columnNumber:9},this),e.jsxDEV(R,{open:P,onOpenChange:E,children:e.jsxDEV(H,{children:[e.jsxDEV(z,{children:[e.jsxDEV($,{children:"Mark Order as Shipped"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:590,columnNumber:13},this),e.jsxDEV(q,{children:["Enter shipping details for order #",i.slice(0,8)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:591,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:589,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(w,{htmlFor:"carrier",children:"Carrier *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:597,columnNumber:15},this),e.jsxDEV(O,{id:"carrier",placeholder:"e.g., FedEx, UPS, USPS",value:V.carrier,onChange:t=>U({...V,carrier:t.target.value})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:598,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:596,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV(w,{htmlFor:"trackingNumber",children:"Tracking Number *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:606,columnNumber:15},this),e.jsxDEV(O,{id:"trackingNumber",placeholder:"Enter tracking number",value:V.trackingNumber,onChange:t=>U({...V,trackingNumber:t.target.value})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:607,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:605,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV(w,{htmlFor:"shippedDate",children:"Shipped Date *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:615,columnNumber:15},this),e.jsxDEV(O,{id:"shippedDate",type:"date",value:V.shippedDate,onChange:t=>U({...V,shippedDate:t.target.value})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:616,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:614,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:595,columnNumber:11},this),e.jsxDEV(fe,{children:[e.jsxDEV(c,{variant:"outline",onClick:()=>E(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:625,columnNumber:13},this),e.jsxDEV(c,{onClick:()=>M.mutate(V),disabled:!V.carrier||!V.trackingNumber||M.isPending,children:M.isPending?"Saving...":"Mark as Shipped"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:631,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:624,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:588,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:587,columnNumber:7},this),e.jsxDEV(R,{open:_,onOpenChange:B,children:e.jsxDEV(H,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[e.jsxDEV(z,{children:[e.jsxDEV($,{className:"flex items-center gap-2",children:[e.jsxDEV(F,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:646,columnNumber:15},this),"Lab-ECP Consultation Logs"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:645,columnNumber:13},this),e.jsxDEV(q,{children:["Communication history between lab and eye care provider for order #",i.slice(0,8)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:649,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:644,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:A&&A.length>0?A.map((t,r)=>e.jsxDEV("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium text-sm",children:t.userName||"Unknown User"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:659,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:new Date(t.createdAt).toLocaleString()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:660,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:658,columnNumber:21},this),e.jsxDEV(j,{variant:t.status==="resolved"?"default":"secondary",children:t.status},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:664,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:657,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-muted-foreground",children:"Question:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:669,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm",children:t.question},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:670,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:668,columnNumber:19},this),t.response&&e.jsxDEV("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:[e.jsxDEV("p",{className:"text-sm font-medium text-blue-900",children:"Lab Response:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:674,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-blue-800",children:t.response},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:675,columnNumber:23},this),t.respondedAt&&e.jsxDEV("p",{className:"text-xs text-blue-600 mt-1",children:["Responded: ",new Date(t.respondedAt).toLocaleString()]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:677,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:673,columnNumber:21},this),!t.response&&(o?.role==="lab_tech"||o?.role==="engineer")&&e.jsxDEV("div",{className:"mt-3 space-y-2",children:[e.jsxDEV(w,{htmlFor:`response-${t.id}`,children:"Respond to Consultation"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:685,columnNumber:23},this),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(O,{id:`response-${t.id}`,placeholder:"Enter your response...",value:I,onChange:m=>G(m.target.value)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:687,columnNumber:25},this),e.jsxDEV(c,{size:"sm",onClick:()=>{I.trim()&&J.mutate({id:t.id,response:I})},disabled:!I.trim()||J.isPending,children:[e.jsxDEV(ge,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:702,columnNumber:27},this),"Send"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:693,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:686,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:684,columnNumber:21},this)]},t.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:656,columnNumber:17},this)):e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsxDEV(F,{className:"h-12 w-12 mx-auto mb-3 opacity-30"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:712,columnNumber:17},this),e.jsxDEV("p",{children:"No consultation logs for this order"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:713,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm",children:"Questions and responses will appear here"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:714,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:711,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:653,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:643,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:642,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV(N,{children:[e.jsxDEV(g,{children:e.jsxDEV(v,{children:"Patient Information"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:724,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:723,columnNumber:11},this),e.jsxDEV(x,{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:728,columnNumber:15},this),e.jsxDEV("p",{className:"font-medium","data-testid":"text-patient-name",children:s.patient.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:729,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:727,columnNumber:13},this),s.patient.dateOfBirth&&e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Date of Birth"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:733,columnNumber:17},this),e.jsxDEV("p",{className:"font-medium","data-testid":"text-patient-dob",children:s.patient.dateOfBirth},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:734,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:732,columnNumber:15},this),s.customerReferenceNumber&&e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Customer Reference"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:739,columnNumber:17},this),e.jsxDEV("p",{className:"font-medium font-mono","data-testid":"text-customer-reference",children:s.customerReferenceNumber},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:740,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:738,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Provider"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:744,columnNumber:15},this),e.jsxDEV("p",{className:"font-medium","data-testid":"text-provider",children:s.ecp.organizationName||"N/A"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:745,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:743,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:726,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:722,columnNumber:9},this),e.jsxDEV(N,{children:[e.jsxDEV(g,{children:e.jsxDEV(v,{children:"Lens Specifications"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:752,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:751,columnNumber:11},this),e.jsxDEV(x,{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Lens Type"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:756,columnNumber:15},this),e.jsxDEV("p",{className:"font-medium","data-testid":"text-lens-type",children:s.lensType},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:757,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:755,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Material"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:760,columnNumber:15},this),e.jsxDEV("p",{className:"font-medium","data-testid":"text-lens-material",children:s.lensMaterial},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:761,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:759,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Coating"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:764,columnNumber:15},this),e.jsxDEV("p",{className:"font-medium","data-testid":"text-coating",children:s.coating},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:765,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:763,columnNumber:13},this),s.frameType&&e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Frame Type"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:769,columnNumber:17},this),e.jsxDEV("p",{className:"font-medium","data-testid":"text-frame-type",children:s.frameType},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:770,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:768,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:754,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:750,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:721,columnNumber:7},this),e.jsxDEV(N,{children:[e.jsxDEV(g,{children:e.jsxDEV(v,{children:"Prescription"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:779,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:778,columnNumber:9},this),e.jsxDEV(x,{children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold mb-3",children:"Right Eye (OD)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:784,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2 text-sm font-mono",children:[s.odSphere&&e.jsxDEV("p",{"data-testid":"text-od-sphere",children:["Sphere: ",s.odSphere]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:786,columnNumber:36},this),s.odCylinder&&e.jsxDEV("p",{"data-testid":"text-od-cylinder",children:["Cylinder: ",s.odCylinder]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:787,columnNumber:38},this),s.odAxis&&e.jsxDEV("p",{"data-testid":"text-od-axis",children:["Axis: ",s.odAxis]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:788,columnNumber:34},this),s.odAdd&&e.jsxDEV("p",{"data-testid":"text-od-add",children:["Add: ",s.odAdd]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:789,columnNumber:33},this),!s.odSphere&&!s.odCylinder&&!s.odAxis&&!s.odAdd&&e.jsxDEV("p",{className:"text-muted-foreground",children:"No data"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:791,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:785,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:783,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-semibold mb-3",children:"Left Eye (OS)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:796,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2 text-sm font-mono",children:[s.osSphere&&e.jsxDEV("p",{"data-testid":"text-os-sphere",children:["Sphere: ",s.osSphere]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:798,columnNumber:36},this),s.osCylinder&&e.jsxDEV("p",{"data-testid":"text-os-cylinder",children:["Cylinder: ",s.osCylinder]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:799,columnNumber:38},this),s.osAxis&&e.jsxDEV("p",{"data-testid":"text-os-axis",children:["Axis: ",s.osAxis]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:800,columnNumber:34},this),s.osAdd&&e.jsxDEV("p",{"data-testid":"text-os-add",children:["Add: ",s.osAdd]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:801,columnNumber:33},this),!s.osSphere&&!s.osCylinder&&!s.osAxis&&!s.osAdd&&e.jsxDEV("p",{className:"text-muted-foreground",children:"No data"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:803,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:797,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:795,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:782,columnNumber:11},this),s.pd&&e.jsxDEV("div",{className:"mt-4 pt-4 border-t",children:e.jsxDEV("p",{className:"text-sm font-mono","data-testid":"text-pd",children:["Pupillary Distance: ",s.pd]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:810,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:809,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:781,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:777,columnNumber:7},this),s.omaFileContent&&s.omaParsedData&&e.jsxDEV(Le,{omaData:{filename:s.omaFilename||"oma-file.oma",content:s.omaFileContent,parsedData:s.omaParsedData}},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:817,columnNumber:9},this),s.notes&&e.jsxDEV(N,{children:[e.jsxDEV(g,{children:e.jsxDEV(v,{children:"Additional Notes"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:829,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:828,columnNumber:11},this),e.jsxDEV(x,{children:e.jsxDEV("p",{className:"text-sm whitespace-pre-wrap","data-testid":"text-notes",children:s.notes},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:832,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:831,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:827,columnNumber:9},this),e.jsxDEV(N,{children:[e.jsxDEV(g,{children:e.jsxDEV(v,{children:"Order Timeline"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:839,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:838,columnNumber:9},this),e.jsxDEV(x,{className:"space-y-2",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Created"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:843,columnNumber:13},this),e.jsxDEV("p",{className:"font-medium","data-testid":"text-created-at",children:new Date(s.createdAt).toLocaleString()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:844,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:842,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Last Updated"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:849,columnNumber:13},this),e.jsxDEV("p",{className:"font-medium","data-testid":"text-updated-at",children:new Date(s.updatedAt).toLocaleString()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:850,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:848,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:841,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:837,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/OrderDetailsPage.tsx",lineNumber:414,columnNumber:5},this)}export{Ze as default};
