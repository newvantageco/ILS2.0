import{r as m,e}from"./vendor-react-yzYIzJFU.js";import{u as c,a as R}from"./vendor-react-query-Dxpktacb.js";import{e as ae,d as M,a2 as P,a3 as ne,f as u,a4 as F,a5 as q,a6 as A,a7 as O,I as ie,a8 as B,p as H,q as K,r as N,V as te,t as b,C as J,h as Q,i as z,j as $,a as G,B as E,a1 as k}from"./index-BiBisH8X.js";import{L}from"./label-DDyL8AZL.js";import{T as le}from"./textarea-DoojhZ6C.js";import{C as re}from"./checkbox-BO3-axzS.js";import{T as j,a as I,b as o,c as n,d as U,e as i}from"./table-cFqY84xs.js";import{P as me}from"./plus-CbARstPA.js";import{S as oe}from"./square-pen-DDuzz0bT.js";import{C as ce}from"./circle-check-DUGURuAb.js";import{C as ue}from"./clock-CfQc0zyb.js";import{f as V}from"./format-B8W-xB4I.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";import"./en-US-816ENOvV.js";function Le(){const[W,p]=m.useState(!1),[t,y]=m.useState(null),[g,C]=m.useState(""),[w,T]=m.useState(""),[h,x]=m.useState(new Set),{toast:r}=ae(),{data:f,isLoading:X}=c({queryKey:["/api/roles"]}),{data:Y}=c({queryKey:["/api/roles/permissions/all"]}),{data:D}=c({queryKey:["/api/roles",t?.id,"permissions"],enabled:!!t}),{data:d}=c({queryKey:["/api/roles",t?.id,"users"],enabled:!!t}),{data:v}=c({queryKey:["/api/roles/audit"]}),S=R({mutationFn:async s=>{const a=await fetch("/api/roles",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:s.roleName,description:s.description})});if(!a.ok)throw new Error("Failed to create role");return a.json()},onSuccess:()=>{k.invalidateQueries({queryKey:["/api/roles"]}),p(!1),C(""),T(""),r({title:"Role Created",description:"New role has been created successfully"})},onError:()=>{r({title:"Error",description:"Failed to create role",variant:"destructive"})}}),Z=R({mutationFn:async({roleId:s,permissionIds:a})=>{const l=await fetch(`/api/roles/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({permissionIds:a})});if(!l.ok)throw new Error("Failed to update permissions");return l.json()},onSuccess:()=>{k.invalidateQueries({queryKey:["/api/roles"]}),r({title:"Permissions Updated",description:"Role permissions have been updated"})},onError:()=>{r({title:"Error",description:"Failed to update permissions",variant:"destructive"})}});R({mutationFn:async({roleId:s,userId:a})=>{const l=await fetch(`/api/roles/users/${a}/assign`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({roleIds:[s],setPrimaryRoleId:s})});if(!l.ok)throw new Error("Failed to assign user");return l.json()},onSuccess:()=>{k.invalidateQueries({queryKey:["/api/roles"]}),r({title:"User Assigned",description:"User has been assigned to role"})},onError:()=>{r({title:"Error",description:"Failed to assign user",variant:"destructive"})}});const _=()=>{if(!g.trim()){r({title:"Error",description:"Role name is required",variant:"destructive"});return}S.mutate({roleName:g,description:w})},ee=()=>{t&&Z.mutate({roleId:t.id,permissionIds:Array.from(h)})},se=s=>{const a=new Set(h);a.has(s)?a.delete(s):a.add(s),x(a)};return m.useEffect(()=>{if(t&&D){const s=new Set(D.map(a=>a.id));x(s)}else x(new Set)},[t,D]),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsxDEV(M,{className:"h-8 w-8"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:319,columnNumber:13},this),"Role Management"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:318,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Manage roles, permissions, and user assignments"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:322,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:317,columnNumber:9},this),e.jsxDEV(P,{open:W,onOpenChange:p,children:[e.jsxDEV(ne,{asChild:!0,children:e.jsxDEV(u,{children:[e.jsxDEV(me,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:330,columnNumber:15},this),"Create Role"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:329,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:328,columnNumber:11},this),e.jsxDEV(F,{children:[e.jsxDEV(q,{children:[e.jsxDEV(A,{children:"Create New Role"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:336,columnNumber:15},this),e.jsxDEV(O,{children:"Define a custom role with specific permissions for your organization"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:337,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:335,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(L,{htmlFor:"roleName",children:"Role Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:343,columnNumber:17},this),e.jsxDEV(ie,{id:"roleName",value:g,onChange:s=>C(s.target.value),placeholder:"e.g., Senior Optician"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:344,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:342,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(L,{htmlFor:"roleDescription",children:"Description"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:352,columnNumber:17},this),e.jsxDEV(le,{id:"roleDescription",value:w,onChange:s=>T(s.target.value),placeholder:"Describe this role's responsibilities...",rows:3},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:353,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:351,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:341,columnNumber:13},this),e.jsxDEV(B,{children:[e.jsxDEV(u,{variant:"outline",onClick:()=>p(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:363,columnNumber:15},this),e.jsxDEV(u,{onClick:_,disabled:S.isPending,children:S.isPending?"Creating...":"Create Role"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:366,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:362,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:334,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:327,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:316,columnNumber:7},this),e.jsxDEV(H,{defaultValue:"roles",className:"w-full",children:[e.jsxDEV(K,{children:[e.jsxDEV(N,{value:"roles",children:[e.jsxDEV(M,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:377,columnNumber:13},this),"Roles"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:376,columnNumber:11},this),e.jsxDEV(N,{value:"audit",children:[e.jsxDEV(te,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:381,columnNumber:13},this),"Audit Log"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:380,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:375,columnNumber:9},this),e.jsxDEV(b,{value:"roles",className:"space-y-6 mt-6",children:[e.jsxDEV(J,{children:[e.jsxDEV(Q,{children:[e.jsxDEV(z,{children:"Company Roles"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:389,columnNumber:15},this),e.jsxDEV($,{children:"Custom roles defined for your organization"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:390,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:388,columnNumber:13},this),e.jsxDEV(G,{children:X?e.jsxDEV("p",{className:"text-center text-muted-foreground py-8",children:"Loading roles..."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:396,columnNumber:17},this):!f||f.length===0?e.jsxDEV("p",{className:"text-center text-muted-foreground py-8",children:"No custom roles yet. Create your first role to get started."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:398,columnNumber:17},this):e.jsxDEV(j,{children:[e.jsxDEV(I,{children:e.jsxDEV(o,{children:[e.jsxDEV(n,{children:"Role Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:405,columnNumber:23},this),e.jsxDEV(n,{children:"Description"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:406,columnNumber:23},this),e.jsxDEV(n,{children:"Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:407,columnNumber:23},this),e.jsxDEV(n,{children:"Created"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:408,columnNumber:23},this),e.jsxDEV(n,{className:"text-right",children:"Actions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:409,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:404,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:403,columnNumber:19},this),e.jsxDEV(U,{children:f.map(s=>e.jsxDEV(o,{children:[e.jsxDEV(i,{className:"font-medium",children:s.roleName},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:415,columnNumber:25},this),e.jsxDEV(i,{children:s.description||"—"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:416,columnNumber:25},this),e.jsxDEV(i,{children:e.jsxDEV(E,{variant:s.isActive?"default":"secondary",children:s.isActive?"Active":"Inactive"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:418,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:417,columnNumber:25},this),e.jsxDEV(i,{children:V(new Date(s.createdAt),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:422,columnNumber:25},this),e.jsxDEV(i,{className:"text-right",children:e.jsxDEV(u,{variant:"outline",size:"sm",onClick:()=>y(s),children:[e.jsxDEV(oe,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:429,columnNumber:29},this),"Manage"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:424,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:423,columnNumber:25},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:414,columnNumber:23},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:412,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:402,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:394,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:387,columnNumber:11},this),t&&e.jsxDEV(P,{open:!!t,onOpenChange:()=>y(null),children:e.jsxDEV(F,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxDEV(q,{children:[e.jsxDEV(A,{className:"flex items-center gap-2",children:[e.jsxDEV(M,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:447,columnNumber:21},this),"Manage Role: ",t.roleName]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:446,columnNumber:19},this),e.jsxDEV(O,{children:"Configure permissions and user assignments for this role"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:450,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:445,columnNumber:17},this),e.jsxDEV(H,{defaultValue:"permissions",className:"mt-4",children:[e.jsxDEV(K,{children:[e.jsxDEV(N,{value:"permissions",children:"Permissions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:457,columnNumber:21},this),e.jsxDEV(N,{value:"users",children:["Users (",d?.length||0,")"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:458,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:456,columnNumber:19},this),e.jsxDEV(b,{value:"permissions",className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 max-h-96 overflow-y-auto pr-2",children:Y?.categories?.flatMap(s=>s.permissions.map(a=>{const l=a.id;return e.jsxDEV("div",{className:"flex items-start space-x-2",children:[e.jsxDEV(re,{id:l,checked:h.has(l),onCheckedChange:()=>se(l)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:470,columnNumber:31},this),e.jsxDEV(L,{htmlFor:l,className:"cursor-pointer",children:[e.jsxDEV("span",{className:"font-medium",children:a.key},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:476,columnNumber:33},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:a.description},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:477,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:475,columnNumber:31},this)]},l,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:469,columnNumber:29},this)}))||e.jsxDEV("p",{className:"text-center text-muted-foreground col-span-2",children:"Loading permissions..."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:483,columnNumber:25},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:464,columnNumber:21},this),e.jsxDEV(B,{children:e.jsxDEV(u,{onClick:ee,children:[e.jsxDEV(ce,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:490,columnNumber:25},this),"Save Permissions"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:489,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:488,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:463,columnNumber:19},this),e.jsxDEV(b,{value:"users",children:!d||d.length===0?e.jsxDEV("p",{className:"text-center text-muted-foreground py-8",children:"No users assigned to this role yet"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:498,columnNumber:23},this):e.jsxDEV(j,{children:[e.jsxDEV(I,{children:e.jsxDEV(o,{children:[e.jsxDEV(n,{children:"User"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:505,columnNumber:29},this),e.jsxDEV(n,{children:"Email"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:506,columnNumber:29},this),e.jsxDEV(n,{children:"Primary Role"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:507,columnNumber:29},this),e.jsxDEV(n,{children:"Assigned"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:508,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:504,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:503,columnNumber:25},this),e.jsxDEV(U,{children:d.map(s=>e.jsxDEV(o,{children:[e.jsxDEV(i,{children:[s.user.firstName," ",s.user.lastName]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:514,columnNumber:31},this),e.jsxDEV(i,{children:s.user.email},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:517,columnNumber:31},this),e.jsxDEV(i,{children:e.jsxDEV(E,{variant:s.isPrimary?"default":"outline",children:s.isPrimary?"Primary":"Secondary"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:519,columnNumber:33},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:518,columnNumber:31},this),e.jsxDEV(i,{children:V(new Date(s.assignedAt),"MMM d, yyyy")},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:523,columnNumber:31},this)]},s.userId,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:513,columnNumber:29},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:511,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:502,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:496,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:455,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:444,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:443,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:386,columnNumber:9},this),e.jsxDEV(b,{value:"audit",className:"mt-6",children:e.jsxDEV(J,{children:[e.jsxDEV(Q,{children:[e.jsxDEV(z,{children:"Role Change Audit Log"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:541,columnNumber:15},this),e.jsxDEV($,{children:"Complete history of role modifications and user assignments"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:542,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:540,columnNumber:13},this),e.jsxDEV(G,{children:!v||v.length===0?e.jsxDEV("p",{className:"text-center text-muted-foreground py-8",children:"No audit records yet"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:548,columnNumber:17},this):e.jsxDEV(j,{children:[e.jsxDEV(I,{children:e.jsxDEV(o,{children:[e.jsxDEV(n,{children:"Timestamp"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:555,columnNumber:23},this),e.jsxDEV(n,{children:"Action"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:556,columnNumber:23},this),e.jsxDEV(n,{children:"Role"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:557,columnNumber:23},this),e.jsxDEV(n,{children:"Performed By"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:558,columnNumber:23},this),e.jsxDEV(n,{children:"Changes"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:559,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:554,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:553,columnNumber:19},this),e.jsxDEV(U,{children:v.map(s=>e.jsxDEV(o,{children:[e.jsxDEV(i,{children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(ue,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:567,columnNumber:29},this),V(new Date(s.timestamp),"MMM d, yyyy HH:mm")]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:566,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:565,columnNumber:25},this),e.jsxDEV(i,{children:e.jsxDEV(E,{variant:"outline",children:s.actionType},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:572,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:571,columnNumber:25},this),e.jsxDEV(i,{children:s.roleId},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:574,columnNumber:25},this),e.jsxDEV(i,{children:s.performedBy},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:575,columnNumber:25},this),e.jsxDEV(i,{className:"max-w-xs truncate",children:s.newValue?JSON.stringify(s.newValue):"—"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:576,columnNumber:25},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:564,columnNumber:23},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:562,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:552,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:546,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:539,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:538,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:374,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/admin/RoleManagement.tsx",lineNumber:315,columnNumber:5},this)}export{Le as default};
