import{r as c,e}from"./vendor-react-yzYIzJFU.js";import{c as F,e as f,a2 as h,a3 as x,f as t,a4 as D,a5 as v,a6 as k,a7 as S,I as i,a8 as j,C as P,h as E,i as I,j as L,a as U,B as V,U as y,b as C}from"./index-BiBisH8X.js";import{S as T}from"./switch-BaWOF0DH.js";import{L as n}from"./label-DDyL8AZL.js";import{T as w,a as B,b as o,c as a,d as H,e as l}from"./table-cFqY84xs.js";import{c as q,u as A,a as K}from"./vendor-react-query-Dxpktacb.js";import{P as O}from"./plus-CbARstPA.js";import{S as _}from"./square-pen-DDuzz0bT.js";import{T as z}from"./trash-2-CGREO2o6.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";const M=F("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);function te(){const{toast:g}=f(),N=q(),[b,u]=c.useState(!1),[Q,R]=c.useState(null),{data:p}=A({queryKey:["/api/feature-flags"]}),d=K({mutationFn:async({id:s,enabled:r})=>{const m=await fetch(`/api/feature-flags/${s}/toggle`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({enabled:r})});if(!m.ok)throw new Error("Failed to toggle flag");return m.json()},onSuccess:()=>{N.invalidateQueries({queryKey:["/api/feature-flags"]}),g({title:"Flag Updated",description:"Feature flag status changed"})}});return e.jsxDEV("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsxDEV(M,{className:"h-8 w-8"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:57,columnNumber:13},this),"Feature Flags"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:56,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Control feature rollouts and A/B testing"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV(h,{open:b,onOpenChange:u,children:[e.jsxDEV(x,{asChild:!0,children:e.jsxDEV(t,{children:[e.jsxDEV(O,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:64,columnNumber:21},this),"New Flag"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:64,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:63,columnNumber:11},this),e.jsxDEV(D,{children:[e.jsxDEV(v,{children:[e.jsxDEV(k,{children:"Create Feature Flag"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:68,columnNumber:15},this),e.jsxDEV(S,{children:"Configure a new feature flag"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:69,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:67,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(n,{htmlFor:"flag-key",children:"Flag Key"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:73,columnNumber:17},this),e.jsxDEV(i,{id:"flag-key",placeholder:"feature_name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:74,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:72,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(n,{htmlFor:"flag-name",children:"Display Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:77,columnNumber:17},this),e.jsxDEV(i,{id:"flag-name",placeholder:"Feature Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:78,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:76,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(n,{htmlFor:"flag-desc",children:"Description"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV(i,{id:"flag-desc",placeholder:"What does this flag control?"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:82,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:80,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:71,columnNumber:13},this),e.jsxDEV(j,{children:e.jsxDEV(t,{onClick:()=>u(!1),children:"Create Flag"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:86,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:85,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:66,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:54,columnNumber:7},this),e.jsxDEV(P,{children:[e.jsxDEV(E,{children:[e.jsxDEV(I,{children:"Active Feature Flags"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:94,columnNumber:11},this),e.jsxDEV(L,{children:"Manage feature availability across the platform"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:93,columnNumber:9},this),e.jsxDEV(U,{children:e.jsxDEV(w,{children:[e.jsxDEV(B,{children:e.jsxDEV(o,{children:[e.jsxDEV(a,{children:"Flag Key"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:101,columnNumber:17},this),e.jsxDEV(a,{children:"Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:102,columnNumber:17},this),e.jsxDEV(a,{children:"Targeting"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:103,columnNumber:17},this),e.jsxDEV(a,{children:"Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:104,columnNumber:17},this),e.jsxDEV(a,{children:"Actions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:105,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:100,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:99,columnNumber:13},this),e.jsxDEV(H,{children:p?.map(s=>e.jsxDEV(o,{children:[e.jsxDEV(l,{className:"font-mono text-sm",children:s.key},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:111,columnNumber:19},this),e.jsxDEV(l,{children:s.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:112,columnNumber:19},this),e.jsxDEV(l,{children:e.jsxDEV(V,{variant:"outline",className:"gap-1",children:[s.targeting_type==="all"&&e.jsxDEV(y,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:115,columnNumber:57},this),s.targeting_type==="company"&&e.jsxDEV(C,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:116,columnNumber:61},this),s.targeting_type]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:114,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:113,columnNumber:19},this),e.jsxDEV(l,{children:e.jsxDEV(T,{checked:s.enabled,onCheckedChange:r=>d.mutate({id:s.id,enabled:r})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:121,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:120,columnNumber:19},this),e.jsxDEV(l,{children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(t,{size:"sm",variant:"outline",children:e.jsxDEV(_,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:128,columnNumber:59},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:128,columnNumber:23},this),e.jsxDEV(t,{size:"sm",variant:"outline",children:e.jsxDEV(z,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:129,columnNumber:59},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:129,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:127,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:126,columnNumber:19},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:110,columnNumber:17},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:108,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:98,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:97,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:92,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/FeatureFlagsPage.tsx",lineNumber:53,columnNumber:5},this)}export{te as default};
