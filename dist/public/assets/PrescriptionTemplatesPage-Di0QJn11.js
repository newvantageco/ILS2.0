import{r as g,e}from"./vendor-react-yzYIzJFU.js";import{c as K,u as Y,a as S}from"./vendor-react-query-Dxpktacb.js";import{e as $,a2 as z,a3 as G,f as c,a4 as M,a5 as J,a6 as W,a7 as X,I as l,a8 as Z,V as y,C as x,h,i as D,a as P,T as C,j as ee,$ as se,B as ie,Y as f}from"./index-BiBisH8X.js";import{T as ae}from"./textarea-DoojhZ6C.js";import{T as re,a as te,b as I,c as b,d as le,e as m}from"./table-cFqY84xs.js";import{L as r}from"./label-DDyL8AZL.js";import{S as L,a as E,b as j,c as U,d as V}from"./select-BquPdUcS.js";import{P as ne}from"./plus-CbARstPA.js";import{S as ce}from"./star-Cg1sEdgR.js";import{C as me}from"./copy-CKTTCx85.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";const w=[{value:"single_vision",label:"Single Vision"},{value:"bifocal",label:"Bifocal"},{value:"progressive",label:"Progressive"},{value:"reading",label:"Reading"}],oe=[{value:"1.5",label:"1.5 Standard"},{value:"1.56",label:"1.56 Mid-Index"},{value:"1.6",label:"1.6 High-Index"},{value:"1.67",label:"1.67 High-Index"},{value:"1.74",label:"1.74 Ultra High-Index"}],pe=[{value:"none",label:"None"},{value:"anti_reflective",label:"Anti-Reflective"},{value:"scratch_resistant",label:"Scratch-Resistant"},{value:"uv_protection",label:"UV Protection"},{value:"blue_light",label:"Blue Light Filter"},{value:"photochromic",label:"Photochromic"},{value:"premium_ar",label:"Premium AR Package"}];function Ie(){const{toast:o}=$(),v=K(),[T,F]=g.useState(""),[A,n]=g.useState(!1),[N,p]=g.useState(null),[i,a]=g.useState({name:"",description:"",sphere:0,cylinder:0,axis:0,addition:0,prism:0,prismDirection:"",pupillaryDistance:62,lensType:"single_vision",lensIndex:"1.5",coating:"none"}),{data:u,isLoading:_}=Y({queryKey:["/api/ecp/prescription-templates"],queryFn:async()=>await(await f("GET","/api/ecp/prescription-templates")).json()}),q=S({mutationFn:async s=>await(await f("POST","/api/ecp/prescription-templates",s)).json(),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/ecp/prescription-templates"]}),o({title:"Template Created",description:"The prescription template has been created successfully."}),d(),n(!1)},onError:s=>{o({title:"Error",description:s.message||"Failed to create template",variant:"destructive"})}}),H=S({mutationFn:async({id:s,data:t})=>await(await f("PUT",`/api/ecp/prescription-templates/${s}`,t)).json(),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/ecp/prescription-templates"]}),o({title:"Template Updated",description:"The prescription template has been updated successfully."}),d(),p(null),n(!1)},onError:s=>{o({title:"Error",description:s.message||"Failed to update template",variant:"destructive"})}}),B=S({mutationFn:async s=>await(await f("POST",`/api/ecp/prescription-templates/${s}/use`,{})).json(),onSuccess:()=>{v.invalidateQueries({queryKey:["/api/ecp/prescription-templates"]}),o({title:"Template Used",description:"Template usage has been recorded."})}}),d=()=>{a({name:"",description:"",sphere:0,cylinder:0,axis:0,addition:0,prism:0,prismDirection:"",pupillaryDistance:62,lensType:"single_vision",lensIndex:"1.5",coating:"none"})},O=()=>{N?H.mutate({id:N.id,data:i}):q.mutate(i)},R=s=>{p(s),a({name:s.name,description:s.description||"",sphere:s.sphere,cylinder:s.cylinder,axis:s.axis,addition:s.addition||0,prism:s.prism||0,prismDirection:s.prismDirection||"",pupillaryDistance:s.pupillaryDistance||62,lensType:s.lensType,lensIndex:s.lensIndex,coating:s.coating||"none"}),n(!0)},Q=s=>{p(null),a({name:`${s.name} (Copy)`,description:s.description||"",sphere:s.sphere,cylinder:s.cylinder,axis:s.axis,addition:s.addition||0,prism:s.prism||0,prismDirection:s.prismDirection||"",pupillaryDistance:s.pupillaryDistance||62,lensType:s.lensType,lensIndex:s.lensIndex,coating:s.coating||"none"}),n(!0)},k=u?.filter(s=>s.name.toLowerCase().includes(T.toLowerCase())||s.description?.toLowerCase().includes(T.toLowerCase()));return _?e.jsxDEV("div",{className:"flex items-center justify-center h-96",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:252,columnNumber:11},this),e.jsxDEV("p",{className:"mt-4 text-muted-foreground",children:"Loading templates..."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:253,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:251,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:250,columnNumber:7},this):e.jsxDEV("div",{className:"container mx-auto space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Prescription Templates"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:263,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"Create and manage reusable prescription templates for faster ordering"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:264,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:262,columnNumber:9},this),e.jsxDEV(z,{open:A,onOpenChange:s=>{n(s),s||(d(),p(null))},children:[e.jsxDEV(G,{asChild:!0,children:e.jsxDEV(c,{children:[e.jsxDEV(ne,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:277,columnNumber:15},this),"New Template"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:276,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:275,columnNumber:11},this),e.jsxDEV(M,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[e.jsxDEV(J,{children:[e.jsxDEV(W,{children:N?"Edit Template":"Create Prescription Template"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:283,columnNumber:15},this),e.jsxDEV(X,{children:"Save frequently used prescription specifications for quick access"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:286,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:282,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"col-span-2",children:[e.jsxDEV(r,{children:"Template Name *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:294,columnNumber:19},this),e.jsxDEV(l,{placeholder:"e.g., Standard Distance, Reading Glasses",value:i.name,onChange:s=>a({...i,name:s.target.value})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:295,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:293,columnNumber:17},this),e.jsxDEV("div",{className:"col-span-2",children:[e.jsxDEV(r,{children:"Description"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:302,columnNumber:19},this),e.jsxDEV(ae,{placeholder:"Optional description of this template",value:i.description,onChange:s=>a({...i,description:s.target.value}),rows:2},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:303,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:301,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:292,columnNumber:15},this),e.jsxDEV("div",{className:"border-t pt-4",children:[e.jsxDEV("h4",{className:"font-semibold mb-3",children:"Prescription Values"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:313,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(r,{children:"Sphere (SPH)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:316,columnNumber:21},this),e.jsxDEV(l,{type:"number",step:"0.25",value:i.sphere,onChange:s=>a({...i,sphere:parseFloat(s.target.value)})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:317,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:315,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{children:"Cylinder (CYL)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:325,columnNumber:21},this),e.jsxDEV(l,{type:"number",step:"0.25",value:i.cylinder,onChange:s=>a({...i,cylinder:parseFloat(s.target.value)})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:326,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:324,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{children:"Axis"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:334,columnNumber:21},this),e.jsxDEV(l,{type:"number",min:"0",max:"180",value:i.axis,onChange:s=>a({...i,axis:parseInt(s.target.value)})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:335,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:333,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{children:"Addition (ADD)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:344,columnNumber:21},this),e.jsxDEV(l,{type:"number",step:"0.25",value:i.addition,onChange:s=>a({...i,addition:parseFloat(s.target.value)})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:345,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:343,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{children:"Prism"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:353,columnNumber:21},this),e.jsxDEV(l,{type:"number",step:"0.25",value:i.prism,onChange:s=>a({...i,prism:parseFloat(s.target.value)})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:354,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:352,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{children:"Prism Direction"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:362,columnNumber:21},this),e.jsxDEV(l,{placeholder:"e.g., Base In/Out",value:i.prismDirection,onChange:s=>a({...i,prismDirection:s.target.value})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:363,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:361,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{children:"Pupillary Distance (PD)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:370,columnNumber:21},this),e.jsxDEV(l,{type:"number",value:i.pupillaryDistance,onChange:s=>a({...i,pupillaryDistance:parseInt(s.target.value)})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:371,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:369,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:314,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:312,columnNumber:15},this),e.jsxDEV("div",{className:"border-t pt-4",children:[e.jsxDEV("h4",{className:"font-semibold mb-3",children:"Lens Specifications"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:381,columnNumber:17},this),e.jsxDEV("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(r,{children:"Lens Type *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:384,columnNumber:21},this),e.jsxDEV(L,{value:i.lensType,onValueChange:s=>a({...i,lensType:s}),children:[e.jsxDEV(E,{children:e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:387,columnNumber:25},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:386,columnNumber:23},this),e.jsxDEV(U,{children:w.map(s=>e.jsxDEV(V,{value:s.value,children:s.label},s.value,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:391,columnNumber:27},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:389,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:385,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:383,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{children:"Lens Index *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:399,columnNumber:21},this),e.jsxDEV(L,{value:i.lensIndex,onValueChange:s=>a({...i,lensIndex:s}),children:[e.jsxDEV(E,{children:e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:402,columnNumber:25},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:401,columnNumber:23},this),e.jsxDEV(U,{children:oe.map(s=>e.jsxDEV(V,{value:s.value,children:s.label},s.value,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:406,columnNumber:27},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:404,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:400,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:398,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV(r,{children:"Coating"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:414,columnNumber:21},this),e.jsxDEV(L,{value:i.coating,onValueChange:s=>a({...i,coating:s}),children:[e.jsxDEV(E,{children:e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:417,columnNumber:25},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:416,columnNumber:23},this),e.jsxDEV(U,{children:pe.map(s=>e.jsxDEV(V,{value:s.value,children:s.label},s.value,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:421,columnNumber:27},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:419,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:415,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:413,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:382,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:380,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:291,columnNumber:13},this),e.jsxDEV(Z,{children:[e.jsxDEV(c,{variant:"outline",onClick:()=>{n(!1),d(),p(null)},children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:433,columnNumber:15},this),e.jsxDEV(c,{onClick:O,disabled:!i.name,children:[e.jsxDEV(y,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:441,columnNumber:17},this),N?"Update Template":"Create Template"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:440,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:432,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:281,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:268,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:261,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV(x,{children:[e.jsxDEV(h,{className:"pb-2",children:e.jsxDEV(D,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(y,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:454,columnNumber:15},this),"Total Templates"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:453,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:452,columnNumber:11},this),e.jsxDEV(P,{children:e.jsxDEV("p",{className:"text-2xl font-bold",children:u?.length||0},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:459,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:458,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:451,columnNumber:9},this),e.jsxDEV(x,{children:[e.jsxDEV(h,{className:"pb-2",children:e.jsxDEV(D,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(ce,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:465,columnNumber:15},this),"Most Popular"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:464,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:463,columnNumber:11},this),e.jsxDEV(P,{children:e.jsxDEV("p",{className:"text-sm font-medium truncate",children:u?.reduce((s,t)=>t.usageCount>s.usageCount?t:s,u[0])?.name||"N/A"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:470,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:469,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:462,columnNumber:9},this),e.jsxDEV(x,{children:[e.jsxDEV(h,{className:"pb-2",children:e.jsxDEV(D,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsxDEV(C,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:478,columnNumber:15},this),"Total Usage"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:477,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:476,columnNumber:11},this),e.jsxDEV(P,{children:e.jsxDEV("p",{className:"text-2xl font-bold",children:u?.reduce((s,t)=>s+t.usageCount,0)||0},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:483,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:482,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:475,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:450,columnNumber:7},this),e.jsxDEV(x,{children:[e.jsxDEV(h,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(D,{children:"Template Library"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:495,columnNumber:15},this),e.jsxDEV(ee,{children:"Browse and manage your prescription templates"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:496,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:494,columnNumber:13},this),e.jsxDEV("div",{className:"relative w-64",children:[e.jsxDEV(se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:499,columnNumber:15},this),e.jsxDEV(l,{placeholder:"Search templates...",value:T,onChange:s=>F(s.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:500,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:498,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:493,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:492,columnNumber:9},this),e.jsxDEV(P,{children:e.jsxDEV(re,{children:[e.jsxDEV(te,{children:e.jsxDEV(I,{children:[e.jsxDEV(b,{children:"Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:513,columnNumber:17},this),e.jsxDEV(b,{children:"Prescription"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:514,columnNumber:17},this),e.jsxDEV(b,{children:"Lens Type"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:515,columnNumber:17},this),e.jsxDEV(b,{children:"Usage Count"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:516,columnNumber:17},this),e.jsxDEV(b,{className:"text-right",children:"Actions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:517,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:512,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:511,columnNumber:13},this),e.jsxDEV(le,{children:k?.length===0?e.jsxDEV(I,{children:e.jsxDEV(m,{colSpan:5,className:"text-center text-muted-foreground",children:"No templates found"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:523,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:522,columnNumber:17},this):k?.map(s=>e.jsxDEV(I,{children:[e.jsxDEV(m,{children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:s.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:532,columnNumber:25},this),s.description&&e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:s.description},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:534,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:531,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:530,columnNumber:21},this),e.jsxDEV(m,{children:e.jsxDEV("div",{className:"text-sm space-y-1",children:[e.jsxDEV("p",{children:["SPH: ",s.sphere>0?"+":"",s.sphere]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:540,columnNumber:25},this),e.jsxDEV("p",{children:["CYL: ",s.cylinder>0?"+":"",s.cylinder," | Axis: ",s.axis,"Â°"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:541,columnNumber:25},this),s.addition&&s.addition>0&&e.jsxDEV("p",{children:["ADD: +",s.addition]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:542,columnNumber:72},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:539,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:538,columnNumber:21},this),e.jsxDEV(m,{children:e.jsxDEV(ie,{variant:"outline",children:w.find(t=>t.value===s.lensType)?.label},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:546,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:545,columnNumber:21},this),e.jsxDEV(m,{children:e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(C,{className:"h-3 w-3 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:552,columnNumber:25},this),e.jsxDEV("span",{children:s.usageCount},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:553,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:551,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:550,columnNumber:21},this),e.jsxDEV(m,{className:"text-right",children:e.jsxDEV("div",{className:"flex justify-end gap-2",children:[e.jsxDEV(c,{variant:"ghost",size:"sm",onClick:()=>B.mutate(s.id),children:"Use"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:558,columnNumber:25},this),e.jsxDEV(c,{variant:"ghost",size:"sm",onClick:()=>R(s),children:"Edit"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:561,columnNumber:25},this),e.jsxDEV(c,{variant:"ghost",size:"sm",onClick:()=>Q(s),children:e.jsxDEV(me,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:565,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:564,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:557,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:556,columnNumber:21},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:529,columnNumber:19},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:520,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:510,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:509,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:491,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/PrescriptionTemplatesPage.tsx",lineNumber:260,columnNumber:5},this)}export{Ie as default};
