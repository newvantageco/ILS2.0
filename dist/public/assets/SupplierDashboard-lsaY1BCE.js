import{e,r as L}from"./vendor-react-yzYIzJFU.js";import{e as I,a1 as T,Y as M,C as x,h as S,i as g,a as v,B as P,f as p,a2 as F,a3 as O,a4 as $,a5 as q,a6 as _,a7 as A,I as U,a8 as B,P as w,V as X,j as Z,ah as ee}from"./index-BiBisH8X.js";import{T as K,a as R,b as j,c,d as H,e as o}from"./table-cFqY84xs.js";import{S as Q,a as z,b as Y,c as G,d}from"./select-BquPdUcS.js";import{L as C}from"./label-DDyL8AZL.js";import{S as se}from"./CardSkeleton-fD8CCydl.js";import{T as ae}from"./TableSkeleton-CSZegB3T.js";import{E as ne}from"./EmptyState-ugLtOoCh.js";import{u as V,a as y}from"./vendor-react-query-Dxpktacb.js";import{T as te}from"./textarea-DoojhZ6C.js";import{aN as ie,aO as re,aP as b,aQ as h,aR as N,aS as D,aT as f,aU as le,ar as ce,aF as k,aq as oe,a6 as me}from"./form-B-_eTKWs.js";import{T as ue}from"./trash-2-CGREO2o6.js";import{P as de}from"./plus-CbARstPA.js";import{f as J}from"./format-B8W-xB4I.js";import{T as pe}from"./truck-BzkyTBhC.js";import{P as be}from"./printer-BW5EvF8T.js";import{S as he}from"./square-pen-DDuzz0bT.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";import"./skeleton-a1RpvyBN.js";import"./en-US-816ENOvV.js";const Ne=ce({documentType:me(["spec_sheet","certificate","sds","compliance","other"]),title:k().min(1,"Title is required"),description:k().optional(),fileUrl:k().url("Valid file URL is required"),fileName:k().min(1,"File name is required"),fileSize:oe().optional(),materialName:k().optional()});function De(){const[r,t]=L.useState(!1),{toast:l}=I(),i=ie({resolver:le(Ne),defaultValues:{documentType:"spec_sheet",title:"",description:"",fileUrl:"",fileName:"",materialName:""}}),u=y({mutationFn:async n=>await(await M("POST","/api/technical-documents",n)).json(),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/technical-documents"]}),l({title:"Document uploaded",description:"The technical document has been uploaded successfully."}),t(!1),i.reset()},onError:n=>{l({title:"Error uploading document",description:n.message,variant:"destructive"})}}),a=n=>{u.mutate(n)};return e.jsxDEV(F,{open:r,onOpenChange:t,children:[e.jsxDEV(O,{asChild:!0,children:e.jsxDEV(p,{"data-testid":"button-upload-document",children:[e.jsxDEV(de,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:118,columnNumber:11},this),"Upload Document"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:117,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:116,columnNumber:7},this),e.jsxDEV($,{className:"max-w-2xl",children:e.jsxDEV(re,{...i,children:e.jsxDEV("form",{onSubmit:i.handleSubmit(a),children:[e.jsxDEV(q,{children:[e.jsxDEV(_,{children:"Upload Technical Document"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:126,columnNumber:15},this),e.jsxDEV(A,{children:"Upload technical specifications, certificates, or compliance documents."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:127,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:125,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV(b,{control:i.control,name:"documentType",render:({field:n})=>e.jsxDEV(h,{children:[e.jsxDEV(N,{children:"Document Type"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:137,columnNumber:21},this),e.jsxDEV(Q,{onValueChange:n.onChange,defaultValue:n.value,children:[e.jsxDEV(D,{children:e.jsxDEV(z,{"data-testid":"select-document-type",children:e.jsxDEV(Y,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:141,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:140,columnNumber:25},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:139,columnNumber:23},this),e.jsxDEV(G,{children:[e.jsxDEV(d,{value:"spec_sheet",children:"Specification Sheet"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:145,columnNumber:25},this),e.jsxDEV(d,{value:"certificate",children:"Certificate"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:146,columnNumber:25},this),e.jsxDEV(d,{value:"sds",children:"Safety Data Sheet (SDS)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:147,columnNumber:25},this),e.jsxDEV(d,{value:"compliance",children:"Compliance Document"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:148,columnNumber:25},this),e.jsxDEV(d,{value:"other",children:"Other"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:149,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:144,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:138,columnNumber:21},this),e.jsxDEV(f,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:152,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:136,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:132,columnNumber:15},this),e.jsxDEV(b,{control:i.control,name:"title",render:({field:n})=>e.jsxDEV(h,{children:[e.jsxDEV(N,{children:"Title"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:162,columnNumber:21},this),e.jsxDEV(D,{children:e.jsxDEV(U,{...n,placeholder:"Document title","data-testid":"input-doc-title"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:164,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:163,columnNumber:21},this),e.jsxDEV(f,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:166,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:161,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:157,columnNumber:15},this),e.jsxDEV(b,{control:i.control,name:"materialName",render:({field:n})=>e.jsxDEV(h,{children:[e.jsxDEV(N,{children:"Material Name (Optional)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:176,columnNumber:21},this),e.jsxDEV(D,{children:e.jsxDEV(U,{...n,placeholder:"e.g., Polycarbonate 1.59 Index","data-testid":"input-material-name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:178,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:177,columnNumber:21},this),e.jsxDEV(f,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:180,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:175,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:171,columnNumber:15},this),e.jsxDEV(b,{control:i.control,name:"description",render:({field:n})=>e.jsxDEV(h,{children:[e.jsxDEV(N,{children:"Description (Optional)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:190,columnNumber:21},this),e.jsxDEV(D,{children:e.jsxDEV(te,{...n,placeholder:"Additional details about this document","data-testid":"input-doc-description"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:192,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:191,columnNumber:21},this),e.jsxDEV(f,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:194,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:189,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:185,columnNumber:15},this),e.jsxDEV(b,{control:i.control,name:"fileUrl",render:({field:n})=>e.jsxDEV(h,{children:[e.jsxDEV(N,{children:"File URL"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:204,columnNumber:21},this),e.jsxDEV(D,{children:e.jsxDEV(U,{...n,placeholder:"https://example.com/document.pdf","data-testid":"input-file-url"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:206,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:205,columnNumber:21},this),e.jsxDEV(f,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:208,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:203,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:199,columnNumber:15},this),e.jsxDEV(b,{control:i.control,name:"fileName",render:({field:n})=>e.jsxDEV(h,{children:[e.jsxDEV(N,{children:"File Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:218,columnNumber:21},this),e.jsxDEV(D,{children:e.jsxDEV(U,{...n,placeholder:"document.pdf","data-testid":"input-file-name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:220,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:219,columnNumber:21},this),e.jsxDEV(f,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:222,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:217,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:213,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:131,columnNumber:13},this),e.jsxDEV(B,{children:[e.jsxDEV(p,{type:"button",variant:"outline",onClick:()=>t(!1),"data-testid":"button-cancel-upload",children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:228,columnNumber:15},this),e.jsxDEV(p,{type:"submit",disabled:u.isPending,"data-testid":"button-save-document",children:u.isPending?"Uploading...":"Upload Document"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:236,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:227,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:124,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:123,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:122,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:115,columnNumber:5},this)}function fe(){const{toast:r}=I(),{data:t,isLoading:l}=V({queryKey:["/api/technical-documents"]}),i=y({mutationFn:async a=>{await M("DELETE",`/api/technical-documents/${a}`,{})},onSuccess:()=>{T.invalidateQueries({queryKey:["/api/technical-documents"]}),r({title:"Document deleted",description:"The technical document has been deleted successfully."})},onError:a=>{r({title:"Error deleting document",description:a.message,variant:"destructive"})}}),u=a=>{const n={spec_sheet:"bg-blue-500",certificate:"bg-green-500",sds:"bg-orange-500",compliance:"bg-purple-500",other:"bg-gray-500"};return n[a]||n.other};return e.jsxDEV(x,{children:[e.jsxDEV(S,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:[e.jsxDEV(g,{children:"Technical Document Library"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:288,columnNumber:9},this),e.jsxDEV(De,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:289,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:287,columnNumber:7},this),e.jsxDEV(v,{children:l?e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:e.jsxDEV("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:294,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:293,columnNumber:11},this):t&&t.length>0?e.jsxDEV(K,{children:[e.jsxDEV(R,{children:e.jsxDEV(j,{children:[e.jsxDEV(c,{children:"Type"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:300,columnNumber:17},this),e.jsxDEV(c,{children:"Title"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:301,columnNumber:17},this),e.jsxDEV(c,{children:"Material"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:302,columnNumber:17},this),e.jsxDEV(c,{children:"File Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:303,columnNumber:17},this),e.jsxDEV(c,{children:"Uploaded"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:304,columnNumber:17},this),e.jsxDEV(c,{children:"Actions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:305,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:299,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:298,columnNumber:13},this),e.jsxDEV(H,{children:t.map(a=>e.jsxDEV(j,{"data-testid":`row-doc-${a.id}`,children:[e.jsxDEV(o,{children:e.jsxDEV(P,{className:`${u(a.documentType)} text-white`,children:a.documentType.replace(/_/g," ").toUpperCase()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:312,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:311,columnNumber:19},this),e.jsxDEV(o,{className:"font-medium","data-testid":`text-doc-title-${a.id}`,children:a.title},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:316,columnNumber:19},this),e.jsxDEV(o,{"data-testid":`text-material-${a.id}`,children:a.materialName||"-"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:319,columnNumber:19},this),e.jsxDEV(o,{"data-testid":`text-filename-${a.id}`,children:e.jsxDEV("a",{href:a.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:a.fileName},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:323,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:322,columnNumber:19},this),e.jsxDEV(o,{"data-testid":`text-uploaded-${a.id}`,children:J(new Date(a.uploadedAt),"MMM dd, yyyy")},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:332,columnNumber:19},this),e.jsxDEV(o,{children:e.jsxDEV(p,{variant:"outline",size:"sm",onClick:()=>i.mutate(a.id),disabled:i.isPending,"data-testid":`button-delete-doc-${a.id}`,children:e.jsxDEV(ue,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:343,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:336,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:335,columnNumber:19},this)]},a.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:310,columnNumber:17},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:308,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:297,columnNumber:11},this):e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-documents",children:'No technical documents uploaded yet. Click "Upload Document" to add specifications, certificates, or compliance documents.'},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:351,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:291,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/TechnicalDocumentManager.tsx",lineNumber:286,columnNumber:5},this)}function xe({status:r}){const l={draft:{color:"bg-slate-500"},sent:{color:"bg-blue-500"},acknowledged:{color:"bg-purple-500"},in_transit:{color:"bg-yellow-600"},delivered:{color:"bg-green-600"},cancelled:{color:"bg-red-500"}}[r]||{color:"bg-gray-500"};return e.jsxDEV(P,{className:`${l.color} text-white`,"data-testid":`badge-po-status-${r}`,children:r.replace(/_/g," ").toUpperCase()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:55,columnNumber:5},this)}function Se({po:r}){const[t,l]=L.useState(!1),[i,u]=L.useState(r.status),[a,n]=L.useState(r.trackingNumber||""),{toast:s}=I(),E=y({mutationFn:async m=>await(await M("PATCH",`/api/purchase-orders/${r.id}/status`,m)).json(),onSuccess:()=>{T.invalidateQueries({queryKey:["/api/purchase-orders"]}),s({title:"Purchase order updated",description:"The purchase order status has been updated successfully."}),l(!1)},onError:m=>{s({title:"Error updating purchase order",description:m.message,variant:"destructive"})}}),W=m=>{m.preventDefault(),E.mutate({status:i,trackingNumber:a||void 0})};return e.jsxDEV(F,{open:t,onOpenChange:l,children:[e.jsxDEV(O,{asChild:!0,children:e.jsxDEV(p,{variant:"outline",size:"sm","data-testid":`button-update-po-${r.id}`,children:[e.jsxDEV(he,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:101,columnNumber:11},this),"Update"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:100,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:99,columnNumber:7},this),e.jsxDEV($,{children:e.jsxDEV("form",{onSubmit:W,children:[e.jsxDEV(q,{children:[e.jsxDEV(_,{children:"Update Purchase Order Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:108,columnNumber:13},this),e.jsxDEV(A,{children:["Update the status and tracking information for ",r.poNumber]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:109,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:107,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"status",children:"Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:115,columnNumber:15},this),e.jsxDEV(Q,{value:i,onValueChange:m=>u(m),children:[e.jsxDEV(z,{id:"status","data-testid":"select-po-status",children:e.jsxDEV(Y,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:118,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:117,columnNumber:17},this),e.jsxDEV(G,{children:[e.jsxDEV(d,{value:"acknowledged",children:"Acknowledged"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:121,columnNumber:19},this),e.jsxDEV(d,{value:"in_transit",children:"In Transit"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:122,columnNumber:19},this),e.jsxDEV(d,{value:"delivered",children:"Delivered"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:123,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:120,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:116,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:114,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(C,{htmlFor:"tracking",children:"Tracking Number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:128,columnNumber:15},this),e.jsxDEV(U,{id:"tracking",value:a,onChange:m=>n(m.target.value),placeholder:"Enter tracking number","data-testid":"input-tracking-number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:129,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:113,columnNumber:11},this),e.jsxDEV(B,{children:[e.jsxDEV(p,{type:"button",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-update",children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:139,columnNumber:13},this),e.jsxDEV(p,{type:"submit",disabled:E.isPending,"data-testid":"button-save-update",children:E.isPending?"Updating...":"Update Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:147,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:138,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:106,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:105,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:98,columnNumber:5},this)}function Ke(){const{toast:r}=I(),{data:t,isLoading:l}=V({queryKey:["/api/purchase-orders"]}),{data:i,isLoading:u}=V({queryKey:["/api/technical-documents"]}),a=async s=>{try{window.open(`/api/purchase-orders/${s}/pdf`,"_blank")}catch{r({title:"Error printing PO",description:"Failed to generate PDF",variant:"destructive"})}},n={totalPOs:t?.length||0,pendingPOs:t?.filter(s=>s.status==="sent"||s.status==="acknowledged").length||0,inTransit:t?.filter(s=>s.status==="in_transit").length||0,documents:i?.length||0};return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight","data-testid":"text-supplier-dashboard-title",children:"Supplier Portal"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:190,columnNumber:9},this),e.jsxDEV("p",{className:"text-muted-foreground mt-2",children:"Manage purchase orders and technical documentation."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:193,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:189,columnNumber:7},this),l?e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(s=>e.jsxDEV(se,{},s,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:201,columnNumber:13},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:199,columnNumber:9},this):e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxDEV(x,{children:[e.jsxDEV(S,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[e.jsxDEV(g,{className:"text-sm font-medium",children:"Total Purchase Orders"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:208,columnNumber:15},this),e.jsxDEV(w,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:209,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:207,columnNumber:13},this),e.jsxDEV(v,{children:e.jsxDEV("div",{className:"text-2xl font-semibold","data-testid":"stat-total-pos",children:n.totalPOs},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:212,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:211,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:206,columnNumber:11},this),e.jsxDEV(x,{children:[e.jsxDEV(S,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[e.jsxDEV(g,{className:"text-sm font-medium",children:"Pending Action"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:218,columnNumber:15},this),e.jsxDEV(w,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:219,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:217,columnNumber:13},this),e.jsxDEV(v,{children:e.jsxDEV("div",{className:"text-2xl font-semibold","data-testid":"stat-pending-pos",children:n.pendingPOs},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:222,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:221,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:216,columnNumber:11},this),e.jsxDEV(x,{children:[e.jsxDEV(S,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[e.jsxDEV(g,{className:"text-sm font-medium",children:"In Transit"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:228,columnNumber:15},this),e.jsxDEV(pe,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:229,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:227,columnNumber:13},this),e.jsxDEV(v,{children:e.jsxDEV("div",{className:"text-2xl font-semibold","data-testid":"stat-in-transit",children:n.inTransit},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:232,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:231,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:226,columnNumber:11},this),e.jsxDEV(x,{children:[e.jsxDEV(S,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[e.jsxDEV(g,{className:"text-sm font-medium",children:"Technical Docs"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:238,columnNumber:15},this),e.jsxDEV(X,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:239,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:237,columnNumber:13},this),e.jsxDEV(v,{children:e.jsxDEV("div",{className:"text-2xl font-semibold","data-testid":"stat-documents",children:n.documents},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:242,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:241,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:236,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:205,columnNumber:9},this),e.jsxDEV(x,{children:[e.jsxDEV(S,{children:[e.jsxDEV(g,{children:"Purchase Orders"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:250,columnNumber:11},this),e.jsxDEV(Z,{children:"View and manage incoming purchase orders"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:251,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:249,columnNumber:9},this),e.jsxDEV(v,{children:l?e.jsxDEV(ae,{rows:5,columns:7},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:255,columnNumber:13},this):!t||t.length===0?e.jsxDEV(ne,{icon:ee,title:"No purchase orders",description:"Purchase orders from labs will appear here."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:257,columnNumber:13},this):e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV(K,{children:[e.jsxDEV(R,{children:e.jsxDEV(j,{children:[e.jsxDEV(c,{children:"PO Number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:267,columnNumber:19},this),e.jsxDEV(c,{children:"Date"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:268,columnNumber:19},this),e.jsxDEV(c,{children:"Items"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:269,columnNumber:19},this),e.jsxDEV(c,{children:"Total"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:270,columnNumber:19},this),e.jsxDEV(c,{children:"Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:271,columnNumber:19},this),e.jsxDEV(c,{children:"Tracking"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:272,columnNumber:19},this),e.jsxDEV(c,{children:"Actions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:273,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:266,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:265,columnNumber:15},this),e.jsxDEV(H,{children:t.map(s=>e.jsxDEV(j,{"data-testid":`row-po-${s.id}`,children:[e.jsxDEV(o,{className:"font-medium","data-testid":`text-po-number-${s.id}`,children:s.poNumber},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:279,columnNumber:21},this),e.jsxDEV(o,{"data-testid":`text-po-date-${s.id}`,children:J(new Date(s.createdAt),"MMM dd, yyyy")},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:282,columnNumber:21},this),e.jsxDEV(o,{"data-testid":`text-po-items-${s.id}`,children:[s.lineItems.length," item(s)"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:285,columnNumber:21},this),e.jsxDEV(o,{"data-testid":`text-po-total-${s.id}`,children:["$",parseFloat(s.totalAmount||"0").toFixed(2)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:288,columnNumber:21},this),e.jsxDEV(o,{children:e.jsxDEV(xe,{status:s.status},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:292,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:291,columnNumber:21},this),e.jsxDEV(o,{"data-testid":`text-tracking-${s.id}`,children:s.trackingNumber||"-"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:294,columnNumber:21},this),e.jsxDEV(o,{children:e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV(p,{variant:"ghost",size:"sm",onClick:()=>a(s.id),"data-testid":`button-print-po-${s.id}`,children:e.jsxDEV(be,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:305,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:299,columnNumber:25},this),e.jsxDEV(Se,{po:s},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:307,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:298,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:297,columnNumber:21},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:278,columnNumber:19},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:276,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:264,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:263,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:253,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:248,columnNumber:7},this),e.jsxDEV(fe,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:319,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SupplierDashboard.tsx",lineNumber:188,columnNumber:5},this)}export{Ke as default};
