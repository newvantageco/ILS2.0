import{e,r as v}from"./vendor-react-yzYIzJFU.js";import{u as I,a as L}from"./vendor-react-query-Dxpktacb.js";import{e as y,G as C,p as w,q as T,r as S,b as z,U as E,v as F,t as D,a1 as U,Y as k,C as g,a as N,W as p,h,i as f,j as x,I as m,f as j,Q as R,B as A,o as O,ak as q}from"./index-BiBisH8X.js";import{L as n}from"./label-DDyL8AZL.js";import{S as V}from"./switch-BaWOF0DH.js";import{S as M}from"./ShopifyIntegrationSettings-GJipOFsG.js";import{U as B}from"./user-B9YQAmBR.js";import{P as K}from"./plus-CbARstPA.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";import"./alert-DQClezAk.js";import"./refresh-cw-C3bXnO94.js";function ne(){const{toast:a}=y(),{user:b}=C(),c=b?.role==="ecp",{data:o,isLoading:t}=I({queryKey:["/api/settings/organization"]}),{data:i,isLoading:d}=I({queryKey:["/api/settings/preferences"]}),s=L({mutationFn:async r=>await(await k("PUT","/api/settings/organization",r)).json(),onSuccess:()=>{U.invalidateQueries({queryKey:["/api/settings/organization"]}),a({title:"Settings updated",description:"Organization settings have been saved successfully."})},onError:()=>{a({title:"Error",description:"Failed to update organization settings.",variant:"destructive"})}}),l=L({mutationFn:async r=>await(await k("PUT","/api/settings/preferences",r)).json(),onSuccess:()=>{U.invalidateQueries({queryKey:["/api/settings/preferences"]}),a({title:"Preferences updated",description:"Your preferences have been saved successfully."})},onError:()=>{a({title:"Error",description:"Failed to update preferences.",variant:"destructive"})}});return e.jsxDEV("div",{className:"container mx-auto p-6 max-w-4xl",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"Settings"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:75,columnNumber:9},this),e.jsxDEV("p",{className:"text-muted-foreground",children:"Manage your application settings and preferences"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:76,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:74,columnNumber:7},this),e.jsxDEV(w,{defaultValue:"organization",className:"space-y-6",children:[e.jsxDEV(T,{className:`grid w-full ${c?"grid-cols-4":"grid-cols-3"}`,"data-testid":"tabs-settings",children:[e.jsxDEV(S,{value:"organization","data-testid":"tab-organization",children:[e.jsxDEV(z,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:82,columnNumber:13},this),"Organization"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:81,columnNumber:11},this),e.jsxDEV(S,{value:"roles","data-testid":"tab-roles",children:[e.jsxDEV(E,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:86,columnNumber:13},this),"Roles"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:85,columnNumber:11},this),c&&e.jsxDEV(S,{value:"integrations","data-testid":"tab-integrations",children:[e.jsxDEV(F,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:91,columnNumber:15},this),"Integrations"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:90,columnNumber:13},this),e.jsxDEV(S,{value:"preferences","data-testid":"tab-preferences",children:[e.jsxDEV(B,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:96,columnNumber:13},this),"Preferences"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:95,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:80,columnNumber:9},this),e.jsxDEV(D,{value:"organization",className:"space-y-6",children:e.jsxDEV(Q,{settings:o,isLoading:t,onSave:r=>s.mutate(r),isSaving:s.isPending},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:102,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:101,columnNumber:9},this),e.jsxDEV(D,{value:"roles",className:"space-y-6",children:e.jsxDEV($,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:111,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:110,columnNumber:9},this),c&&e.jsxDEV(D,{value:"integrations",className:"space-y-6",children:e.jsxDEV(M,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:116,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:115,columnNumber:11},this),e.jsxDEV(D,{value:"preferences",className:"space-y-6",children:e.jsxDEV(Y,{preferences:i,isLoading:d,onSave:r=>l.mutate(r),isSaving:l.isPending},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:121,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:120,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:79,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:73,columnNumber:5},this)}function Q({settings:a,isLoading:b,onSave:c,isSaving:o}){const[t,i]=v.useState({companyName:a?.companyName||"",contactEmail:a?.contactEmail||"",contactPhone:a?.contactPhone||"",orderNumberPrefix:a?.orderNumberPrefix||"ORD",defaultLeadTimeDays:a?.defaultLeadTimeDays?.toString()||"7",address:{street:a?.address?.street||"",city:a?.address?.city||"",state:a?.address?.state||"",zipCode:a?.address?.zipCode||"",country:a?.address?.country||""}}),d=s=>{s.preventDefault(),c({...t,defaultLeadTimeDays:parseInt(t.defaultLeadTimeDays)||7})};return b?e.jsxDEV(g,{children:e.jsxDEV(N,{className:"flex items-center justify-center p-12",children:e.jsxDEV(p,{className:"h-8 w-8 animate-spin text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:171,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:170,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:169,columnNumber:7},this):e.jsxDEV("form",{onSubmit:d,children:[e.jsxDEV(g,{children:[e.jsxDEV(h,{children:[e.jsxDEV(f,{children:"Company Information"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:181,columnNumber:11},this),e.jsxDEV(x,{children:"Update your organization details"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:182,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:180,columnNumber:9},this),e.jsxDEV(N,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"companyName",children:"Company Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:186,columnNumber:13},this),e.jsxDEV(m,{id:"companyName","data-testid":"input-company-name",value:t.companyName,onChange:s=>i({...t,companyName:s.target.value}),placeholder:"Optical Lab Inc."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:187,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:185,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"contactEmail",children:"Contact Email"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:198,columnNumber:15},this),e.jsxDEV(m,{id:"contactEmail","data-testid":"input-contact-email",type:"email",value:t.contactEmail,onChange:s=>i({...t,contactEmail:s.target.value}),placeholder:"contact@example.com"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:199,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:197,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"contactPhone",children:"Contact Phone"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:210,columnNumber:15},this),e.jsxDEV(m,{id:"contactPhone","data-testid":"input-contact-phone",value:t.contactPhone,onChange:s=>i({...t,contactPhone:s.target.value}),placeholder:"(555) 123-4567"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:209,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:196,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"street",children:"Street Address"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:222,columnNumber:13},this),e.jsxDEV(m,{id:"street","data-testid":"input-street",value:t.address.street,onChange:s=>i({...t,address:{...t.address,street:s.target.value}}),placeholder:"123 Main St"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:223,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:221,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"city",children:"City"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:234,columnNumber:15},this),e.jsxDEV(m,{id:"city","data-testid":"input-city",value:t.address.city,onChange:s=>i({...t,address:{...t.address,city:s.target.value}}),placeholder:"Portland"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:235,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:233,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"state",children:"State"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:245,columnNumber:15},this),e.jsxDEV(m,{id:"state","data-testid":"input-state",value:t.address.state,onChange:s=>i({...t,address:{...t.address,state:s.target.value}}),placeholder:"OR"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:246,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:244,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:232,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"zipCode",children:"Zip Code"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:258,columnNumber:15},this),e.jsxDEV(m,{id:"zipCode","data-testid":"input-zip-code",value:t.address.zipCode,onChange:s=>i({...t,address:{...t.address,zipCode:s.target.value}}),placeholder:"97201"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:259,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:257,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"country",children:"Country"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:269,columnNumber:15},this),e.jsxDEV(m,{id:"country","data-testid":"input-country",value:t.address.country,onChange:s=>i({...t,address:{...t.address,country:s.target.value}}),placeholder:"USA"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:270,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:268,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:256,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:184,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:179,columnNumber:7},this),e.jsxDEV(g,{className:"mt-6",children:[e.jsxDEV(h,{children:[e.jsxDEV(f,{children:"Order Configuration"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:284,columnNumber:11},this),e.jsxDEV(x,{children:"Configure default order settings"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:285,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:283,columnNumber:9},this),e.jsxDEV(N,{className:"space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"orderNumberPrefix",children:"Order Number Prefix"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:290,columnNumber:15},this),e.jsxDEV(m,{id:"orderNumberPrefix","data-testid":"input-order-prefix",value:t.orderNumberPrefix,onChange:s=>i({...t,orderNumberPrefix:s.target.value}),placeholder:"ORD"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:291,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:289,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"defaultLeadTimeDays",children:"Default Lead Time (Days)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:301,columnNumber:15},this),e.jsxDEV(m,{id:"defaultLeadTimeDays","data-testid":"input-lead-time",type:"number",min:"1",value:t.defaultLeadTimeDays,onChange:s=>i({...t,defaultLeadTimeDays:s.target.value}),placeholder:"7"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:302,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:300,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:288,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-end pt-4",children:e.jsxDEV(j,{type:"submit",disabled:o,"data-testid":"button-save-organization",children:[o&&e.jsxDEV(p,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:320,columnNumber:28},this),"Save Changes"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:315,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:314,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:287,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:282,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:178,columnNumber:5},this)}function Y({preferences:a,isLoading:b,onSave:c,isSaving:o}){const[t,i]=v.useState(a?.theme||"light"),[d,s]=v.useState(a?.language||"en"),[l,r]=v.useState({orderUpdates:a?.emailNotifications?.orderUpdates??!0,systemAlerts:a?.emailNotifications?.systemAlerts??!0}),P=u=>{u.preventDefault(),c({theme:t,language:d,emailNotifications:l})};return b?e.jsxDEV(g,{children:e.jsxDEV(N,{className:"flex items-center justify-center p-12",children:e.jsxDEV(p,{className:"h-8 w-8 animate-spin text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:361,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:360,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:359,columnNumber:7},this):e.jsxDEV("form",{onSubmit:P,children:[e.jsxDEV(g,{children:[e.jsxDEV(h,{children:[e.jsxDEV(f,{children:"Display Settings"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:371,columnNumber:11},this),e.jsxDEV(x,{children:"Customize your application appearance"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:372,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:370,columnNumber:9},this),e.jsxDEV(N,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"theme",children:"Theme"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:376,columnNumber:13},this),e.jsxDEV("select",{id:"theme","data-testid":"select-theme",className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",value:t,onChange:u=>i(u.target.value),children:[e.jsxDEV("option",{value:"light",children:"Light"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:384,columnNumber:15},this),e.jsxDEV("option",{value:"dark",children:"Dark"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:385,columnNumber:15},this),e.jsxDEV("option",{value:"system",children:"System"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:386,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:377,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:375,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"language",children:"Language"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:391,columnNumber:13},this),e.jsxDEV("select",{id:"language","data-testid":"select-language",className:"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",value:d,onChange:u=>s(u.target.value),children:[e.jsxDEV("option",{value:"en",children:"English"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:399,columnNumber:15},this),e.jsxDEV("option",{value:"es",children:"Spanish"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:400,columnNumber:15},this),e.jsxDEV("option",{value:"fr",children:"French"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:401,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:392,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:390,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:374,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:369,columnNumber:7},this),e.jsxDEV(g,{className:"mt-6",children:[e.jsxDEV(h,{children:[e.jsxDEV(f,{className:"flex items-center",children:[e.jsxDEV(q,{className:"mr-2 h-5 w-5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:410,columnNumber:13},this),"Notification Preferences"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:409,columnNumber:11},this),e.jsxDEV(x,{children:"Choose which notifications you want to receive"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:413,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:408,columnNumber:9},this),e.jsxDEV(N,{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV(n,{htmlFor:"orderUpdates",children:"Order Updates"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:418,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Receive notifications about order status changes"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:419,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:417,columnNumber:13},this),e.jsxDEV(V,{id:"orderUpdates","data-testid":"switch-order-updates",checked:l.orderUpdates,onCheckedChange:u=>r({...l,orderUpdates:u})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:421,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:416,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"space-y-0.5",children:[e.jsxDEV(n,{htmlFor:"systemAlerts",children:"System Alerts"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:431,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"Receive important system notifications"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:432,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:430,columnNumber:13},this),e.jsxDEV(V,{id:"systemAlerts","data-testid":"switch-system-alerts",checked:l.systemAlerts,onCheckedChange:u=>r({...l,systemAlerts:u})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:434,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:429,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-end pt-4",children:e.jsxDEV(j,{type:"submit",disabled:o,"data-testid":"button-save-preferences",children:[o&&e.jsxDEV(p,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:448,columnNumber:28},this),"Save Preferences"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:443,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:442,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:415,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:407,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:368,columnNumber:5},this)}function $(){const{user:a,isLoading:b}=C(),{toast:c}=y(),o=a?.availableRoles||[],t=L({mutationFn:async s=>await(await k("POST","/api/auth/add-role",{role:s})).json(),onSuccess:()=>{U.invalidateQueries({queryKey:["/api/auth/user"]}),c({title:"Role added",description:"The role has been added to your account successfully."})},onError:s=>{c({title:"Error adding role",description:s.message,variant:"destructive"})}}),i=[{id:"ecp",name:"Eye Care Professional",description:"Submit and track lens orders for your patients",icon:E,color:"bg-blue-500/10 text-blue-700 dark:text-blue-400 border-blue-500/20"},{id:"lab_tech",name:"Lab Technician",description:"Manage production queue and quality control",icon:R,color:"bg-emerald-500/10 text-emerald-700 dark:text-emerald-400 border-emerald-500/20"}];if(b)return e.jsxDEV(g,{children:e.jsxDEV(N,{className:"flex items-center justify-center p-12",children:e.jsxDEV(p,{className:"h-8 w-8 animate-spin text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:506,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:505,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:504,columnNumber:7},this);const d=s=>o.includes(s);return e.jsxDEV("div",{className:"space-y-6",children:e.jsxDEV(g,{children:[e.jsxDEV(h,{children:[e.jsxDEV(f,{children:"Role Management"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:518,columnNumber:11},this),e.jsxDEV(x,{children:"Add additional roles to your account to access different features"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:519,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:517,columnNumber:9},this),e.jsxDEV(N,{className:"space-y-4",children:[e.jsxDEV("div",{className:"space-y-4",children:i.map(s=>{const l=s.icon,r=d(s.id);return e.jsxDEV("div",{className:`flex items-center justify-between p-4 rounded-md border ${s.color}`,children:[e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"rounded-md bg-background p-2",children:e.jsxDEV(l,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:536,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:535,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("h3",{className:"font-semibold",children:s.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:540,columnNumber:25},this),r&&e.jsxDEV(A,{variant:"outline",className:"gap-1",children:[e.jsxDEV(O,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:543,columnNumber:29},this),"Active"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:542,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:539,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:s.description},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:548,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:538,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:534,columnNumber:19},this),!r&&e.jsxDEV(j,{size:"sm",onClick:()=>t.mutate(s.id),disabled:t.isPending,"data-testid":`button-add-role-${s.id}`,children:[t.isPending&&e.jsxDEV(p,{className:"mr-2 h-3 w-3 animate-spin"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:558,columnNumber:53},this),e.jsxDEV(K,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:559,columnNumber:23},this),"Add Role"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:552,columnNumber:21},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:530,columnNumber:17},this)})},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:524,columnNumber:11},this),e.jsxDEV("div",{className:"pt-4 border-t",children:e.jsxDEV("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsxDEV(E,{className:"h-4 w-4 mt-0.5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:570,columnNumber:15},this),e.jsxDEV("p",{children:["You currently have access to ",o.length||0," role(s). Use the role switcher in the header to switch between your roles."]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:571,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:569,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:568,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:523,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:516,columnNumber:7},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/SettingsPage.tsx",lineNumber:515,columnNumber:5},this)}export{ne as default};
