import{r as l,e}from"./vendor-react-yzYIzJFU.js";import{e as ie,f as m,C as d,h as x,i as D,P as B,a as h,n as U,T as te,j as le,p as ne,q as ce,r as A,t as oe,B as I,a2 as L,a4 as V,a5 as w,a6 as y,a7 as C,a8 as $}from"./index-BiBisH8X.js";import{L as n}from"./label-DDyL8AZL.js";import{T as G}from"./textarea-DoojhZ6C.js";import{T as H,a as _,b as O,c as i,d as J,e as t}from"./table-cFqY84xs.js";import{R as q}from"./refresh-cw-C3bXnO94.js";import{C as ue}from"./clock-CfQc0zyb.js";import{C as T}from"./circle-x-CIGbUkxi.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";import"./vendor-react-query-Dxpktacb.js";function Ie(){const{toast:c}=ie(),[R,Q]=l.useState([]),[N,z]=l.useState(null),[b,o]=l.useState(!1),[a,K]=l.useState(null),[X,u]=l.useState(!1),[M,v]=l.useState(!1),[W,j]=l.useState(!1),[p,g]=l.useState(""),[P,Y]=l.useState("pending_review");l.useEffect(()=>{S(),k()},[P]);const S=async()=>{o(!0);try{const s=P==="all"?"":`&status=${P}`,r=await fetch(`/api/ai-purchase-orders?limit=50${s}`,{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch AI purchase orders");const f=await r.json();Q(f.orders||[])}catch(s){console.error("Error fetching orders:",s),c({title:"Error",description:"Failed to load AI purchase orders",variant:"destructive"})}finally{o(!1)}},k=async()=>{try{const s=await fetch("/api/ai-purchase-orders/stats/summary",{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch stats");const r=await s.json();z(r)}catch(s){console.error("Error fetching stats:",s)}},Z=async()=>{o(!0);try{const s=await fetch("/api/ai-purchase-orders/generate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(!s.ok)throw new Error("Failed to generate purchase orders");const r=await s.json();c({title:"Success",description:`Generated ${r.draftPOs?.length||0} draft purchase orders`}),S(),k()}catch(s){console.error("Error generating orders:",s),c({title:"Error",description:"Failed to generate purchase orders",variant:"destructive"})}finally{o(!1)}},ee=async()=>{if(a){o(!0);try{const s=await fetch(`/api/ai-purchase-orders/${a.id}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:p||void 0}),credentials:"include"});if(!s.ok)throw new Error("Failed to approve purchase order");const r=await s.json();c({title:"Success",description:`Purchase order approved and converted (PO #${r.convertedPoId})`}),v(!1),u(!1),g(""),S(),k()}catch(s){console.error("Error approving order:",s),c({title:"Error",description:"Failed to approve purchase order",variant:"destructive"})}finally{o(!1)}}},se=async()=>{if(!a||!p.trim()){c({title:"Error",description:"Please provide a reason for rejection",variant:"destructive"});return}o(!0);try{if(!(await fetch(`/api/ai-purchase-orders/${a.id}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({notes:p}),credentials:"include"})).ok)throw new Error("Failed to reject purchase order");c({title:"Success",description:"Purchase order rejected"}),j(!1),u(!1),g(""),S(),k()}catch(s){console.error("Error rejecting order:",s),c({title:"Error",description:"Failed to reject purchase order",variant:"destructive"})}finally{o(!1)}},re=async s=>{try{const r=await fetch(`/api/ai-purchase-orders/${s}`,{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch order details");const f=await r.json();K(f),u(!0)}catch(r){console.error("Error fetching order details:",r),c({title:"Error",description:"Failed to load order details",variant:"destructive"})}},F=s=>{const r={draft:{color:"bg-gray-500",label:"Draft"},pending_review:{color:"bg-yellow-500",label:"Pending Review"},approved:{color:"bg-green-500",label:"Approved"},rejected:{color:"bg-red-500",label:"Rejected"},converted:{color:"bg-blue-500",label:"Converted"}},f=r[s]||r.draft;return e.jsxDEV(I,{className:f.color,children:f.label},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:258,columnNumber:12},this)},ae=s=>{const r={critical:"bg-red-600",high:"bg-orange-500",medium:"bg-yellow-500",low:"bg-green-500"};return e.jsxDEV(I,{className:r[s]||r.medium,children:s.toUpperCase()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:269,columnNumber:12},this)},E=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s);return e.jsxDEV("div",{className:"p-6 space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold",children:"AI Purchase Orders"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:283,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Review and approve AI-generated purchase orders based on inventory levels"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:284,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:282,columnNumber:9},this),e.jsxDEV(m,{onClick:Z,disabled:b,children:[e.jsxDEV(q,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:289,columnNumber:11},this),"Generate New Orders"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:288,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:281,columnNumber:7},this),N&&e.jsxDEV("div",{className:"grid gap-4 md:grid-cols-5",children:[e.jsxDEV(d,{children:[e.jsxDEV(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(D,{className:"text-sm font-medium",children:"Total Drafts"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:299,columnNumber:15},this),e.jsxDEV(B,{className:"h-4 w-4 text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:300,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:298,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-2xl font-bold",children:N.totalDrafts},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:303,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:302,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:297,columnNumber:11},this),e.jsxDEV(d,{children:[e.jsxDEV(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(D,{className:"text-sm font-medium",children:"Pending Review"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:309,columnNumber:15},this),e.jsxDEV(ue,{className:"h-4 w-4 text-yellow-500"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:310,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:308,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-2xl font-bold",children:N.pendingReview},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:313,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:312,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:307,columnNumber:11},this),e.jsxDEV(d,{children:[e.jsxDEV(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(D,{className:"text-sm font-medium",children:"Approved"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:319,columnNumber:15},this),e.jsxDEV(U,{className:"h-4 w-4 text-green-500"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:320,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:318,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-2xl font-bold",children:N.approved},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:323,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:322,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:317,columnNumber:11},this),e.jsxDEV(d,{children:[e.jsxDEV(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(D,{className:"text-sm font-medium",children:"Rejected"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:329,columnNumber:15},this),e.jsxDEV(T,{className:"h-4 w-4 text-red-500"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:330,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:328,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-2xl font-bold",children:N.rejected},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:333,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:332,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:327,columnNumber:11},this),e.jsxDEV(d,{children:[e.jsxDEV(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsxDEV(D,{className:"text-sm font-medium",children:"Estimated Value"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:339,columnNumber:15},this),e.jsxDEV(te,{className:"h-4 w-4 text-blue-500"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:340,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:338,columnNumber:13},this),e.jsxDEV(h,{children:e.jsxDEV("div",{className:"text-2xl font-bold",children:E(N.totalEstimatedValue)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:343,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:342,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:337,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:296,columnNumber:9},this),e.jsxDEV(d,{children:[e.jsxDEV(x,{children:[e.jsxDEV(D,{children:"Purchase Orders"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:352,columnNumber:11},this),e.jsxDEV(le,{children:"AI-generated purchase orders based on inventory analysis"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:353,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:351,columnNumber:9},this),e.jsxDEV(h,{children:e.jsxDEV(ne,{value:P,onValueChange:Y,children:[e.jsxDEV(ce,{children:[e.jsxDEV(A,{value:"pending_review",children:"Pending Review"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:358,columnNumber:15},this),e.jsxDEV(A,{value:"approved",children:"Approved"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:359,columnNumber:15},this),e.jsxDEV(A,{value:"rejected",children:"Rejected"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:360,columnNumber:15},this),e.jsxDEV(A,{value:"all",children:"All"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:361,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:357,columnNumber:13},this),e.jsxDEV(oe,{value:P,className:"mt-4",children:b?e.jsxDEV("div",{className:"flex justify-center p-8",children:e.jsxDEV(q,{className:"h-8 w-8 animate-spin text-muted-foreground"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:367,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:366,columnNumber:17},this):R.length===0?e.jsxDEV("div",{className:"text-center p-8 text-muted-foreground",children:[e.jsxDEV(B,{className:"h-12 w-12 mx-auto mb-4 opacity-50"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:371,columnNumber:19},this),e.jsxDEV("p",{children:"No purchase orders found"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:372,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:370,columnNumber:17},this):e.jsxDEV(H,{children:[e.jsxDEV(_,{children:e.jsxDEV(O,{children:[e.jsxDEV(i,{children:"Generated"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:378,columnNumber:23},this),e.jsxDEV(i,{children:"Supplier"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:379,columnNumber:23},this),e.jsxDEV(i,{children:"Items"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:380,columnNumber:23},this),e.jsxDEV(i,{children:"Estimated Total"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:381,columnNumber:23},this),e.jsxDEV(i,{children:"Confidence"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:382,columnNumber:23},this),e.jsxDEV(i,{children:"Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:383,columnNumber:23},this),e.jsxDEV(i,{children:"Actions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:384,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:377,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:376,columnNumber:19},this),e.jsxDEV(J,{children:R.map(s=>e.jsxDEV(O,{children:[e.jsxDEV(t,{children:new Date(s.generatedAt).toLocaleString()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:390,columnNumber:25},this),e.jsxDEV(t,{children:s.supplierName||"No Supplier"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:393,columnNumber:25},this),e.jsxDEV(t,{children:[s.items?.length||0," items"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:396,columnNumber:25},this),e.jsxDEV(t,{children:E(s.estimatedTotal)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:399,columnNumber:25},this),e.jsxDEV(t,{children:e.jsxDEV(I,{variant:s.confidence>=80?"default":"secondary",children:[s.confidence.toFixed(0),"%"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:403,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:402,columnNumber:25},this),e.jsxDEV(t,{children:F(s.status)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:407,columnNumber:25},this),e.jsxDEV(t,{children:e.jsxDEV(m,{variant:"outline",size:"sm",onClick:()=>re(s.id),children:"View Details"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:411,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:410,columnNumber:25},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:389,columnNumber:23},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:387,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:375,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:364,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:356,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:355,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:350,columnNumber:7},this),e.jsxDEV(L,{open:X,onOpenChange:u,children:e.jsxDEV(V,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxDEV(w,{children:[e.jsxDEV(y,{children:"Purchase Order Details"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:433,columnNumber:13},this),e.jsxDEV(C,{children:"Review AI-generated purchase order and approve or reject"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:434,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:432,columnNumber:11},this),a&&e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(n,{className:"text-muted-foreground",children:"Supplier"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:444,columnNumber:19},this),e.jsxDEV("p",{className:"font-medium",children:a.supplierName||"No Supplier Assigned"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:445,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:443,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV(n,{className:"text-muted-foreground",children:"Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:448,columnNumber:19},this),e.jsxDEV("div",{className:"mt-1",children:F(a.status)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:449,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:447,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV(n,{className:"text-muted-foreground",children:"Generated At"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:452,columnNumber:19},this),e.jsxDEV("p",{children:new Date(a.generatedAt).toLocaleString()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:453,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:451,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV(n,{className:"text-muted-foreground",children:"AI Confidence"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:456,columnNumber:19},this),e.jsxDEV("p",{className:"font-medium",children:[a.confidence.toFixed(1),"%"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:457,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:455,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:442,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(n,{className:"text-muted-foreground",children:"AI Justification"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:463,columnNumber:17},this),e.jsxDEV(d,{className:"mt-2",children:e.jsxDEV(h,{className:"pt-4",children:e.jsxDEV("p",{className:"whitespace-pre-wrap",children:a.reason},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:466,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:465,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:464,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:462,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(n,{className:"text-muted-foreground",children:["Items (",a.items?.length||0,")"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:473,columnNumber:17},this),e.jsxDEV(H,{className:"mt-2",children:[e.jsxDEV(_,{children:e.jsxDEV(O,{children:[e.jsxDEV(i,{children:"Product"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:477,columnNumber:23},this),e.jsxDEV(i,{children:"Current Stock"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:478,columnNumber:23},this),e.jsxDEV(i,{children:"Recommended Qty"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:479,columnNumber:23},this),e.jsxDEV(i,{children:"Urgency"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:480,columnNumber:23},this),e.jsxDEV(i,{children:"Risk"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:481,columnNumber:23},this),e.jsxDEV(i,{children:"Est. Cost"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:482,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:476,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:475,columnNumber:19},this),e.jsxDEV(J,{children:a.items?.map(s=>e.jsxDEV(O,{children:[e.jsxDEV(t,{children:e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:s.productName||"Unknown"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:490,columnNumber:29},this),s.productSku&&e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:["SKU: ",s.productSku]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:492,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:489,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:488,columnNumber:25},this),e.jsxDEV(t,{children:e.jsxDEV(I,{variant:s.currentStock===0?"destructive":"secondary",children:s.currentStock},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:497,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:496,columnNumber:25},this),e.jsxDEV(t,{className:"font-medium",children:s.recommendedQuantity},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:501,columnNumber:25},this),e.jsxDEV(t,{children:ae(s.urgency)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:502,columnNumber:25},this),e.jsxDEV(t,{children:e.jsxDEV(I,{variant:s.stockoutRisk>=70?"destructive":"secondary",children:[s.stockoutRisk.toFixed(0),"%"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:504,columnNumber:27},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:503,columnNumber:25},this),e.jsxDEV(t,{children:E(s.estimatedCost)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:508,columnNumber:25},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:487,columnNumber:23},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:485,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:474,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:472,columnNumber:15},this),e.jsxDEV("div",{className:"flex justify-end",children:e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV(n,{className:"text-muted-foreground",children:"Estimated Total"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:518,columnNumber:19},this),e.jsxDEV("p",{className:"text-2xl font-bold",children:E(a.estimatedTotal)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:519,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:517,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:516,columnNumber:15},this),a.reviewNotes&&e.jsxDEV("div",{children:[e.jsxDEV(n,{className:"text-muted-foreground",children:"Review Notes"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:526,columnNumber:19},this),e.jsxDEV(d,{className:"mt-2",children:e.jsxDEV(h,{className:"pt-4",children:e.jsxDEV("p",{children:a.reviewNotes},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:529,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:528,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:527,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:525,columnNumber:17},this),a.status==="pending_review"&&e.jsxDEV("div",{className:"flex gap-2 justify-end",children:[e.jsxDEV(m,{variant:"outline",onClick:()=>{u(!1),j(!0)},children:[e.jsxDEV(T,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:545,columnNumber:21},this),"Reject"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:538,columnNumber:19},this),e.jsxDEV(m,{onClick:()=>{u(!1),v(!0)},children:[e.jsxDEV(U,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:554,columnNumber:21},this),"Approve"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:548,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:537,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:440,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:431,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:430,columnNumber:7},this),e.jsxDEV(L,{open:M,onOpenChange:v,children:e.jsxDEV(V,{children:[e.jsxDEV(w,{children:[e.jsxDEV(y,{children:"Approve Purchase Order"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:568,columnNumber:13},this),e.jsxDEV(C,{children:"This will create an official purchase order and notify relevant parties"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:569,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:567,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{children:[e.jsxDEV(n,{children:"Review Notes (Optional)"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:576,columnNumber:15},this),e.jsxDEV(G,{value:p,onChange:s=>g(s.target.value),placeholder:"Add any notes about this approval...",className:"mt-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:577,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:575,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:574,columnNumber:11},this),e.jsxDEV($,{children:[e.jsxDEV(m,{variant:"outline",onClick:()=>{v(!1),u(!0),g("")},disabled:b,children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:587,columnNumber:13},this),e.jsxDEV(m,{onClick:ee,disabled:b,children:[e.jsxDEV(U,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:599,columnNumber:15},this),"Approve"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:598,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:586,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:566,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:565,columnNumber:7},this),e.jsxDEV(L,{open:W,onOpenChange:j,children:e.jsxDEV(V,{children:[e.jsxDEV(w,{children:[e.jsxDEV(y,{children:"Reject Purchase Order"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:610,columnNumber:13},this),e.jsxDEV(C,{children:"Please provide a reason for rejecting this purchase order"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:611,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:609,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:e.jsxDEV("div",{children:[e.jsxDEV(n,{children:"Rejection Reason *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:618,columnNumber:15},this),e.jsxDEV(G,{value:p,onChange:s=>g(s.target.value),placeholder:"Explain why you're rejecting this purchase order...",className:"mt-2",required:!0},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:619,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:617,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:616,columnNumber:11},this),e.jsxDEV($,{children:[e.jsxDEV(m,{variant:"outline",onClick:()=>{j(!1),u(!0),g("")},disabled:b,children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:630,columnNumber:13},this),e.jsxDEV(m,{variant:"destructive",onClick:se,disabled:b||!p.trim(),children:[e.jsxDEV(T,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:646,columnNumber:15},this),"Reject"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:641,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:629,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:608,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:607,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/AIPurchaseOrdersPage.tsx",lineNumber:280,columnNumber:5},this)}export{Ie as default};
