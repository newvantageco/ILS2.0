import{r as C,e}from"./vendor-react-yzYIzJFU.js";import{u as S,a as k}from"./vendor-react-query-Dxpktacb.js";import{e as Y,G as $,b as V,B as b,p as z,q as X,r as g,U as Z,v as ee,t as h,C as P,h as A,i as U,j as E,a as L,I as m,f,a2 as se,a3 as ae,y as ie,a4 as ne,a5 as me,a6 as le,a7 as re,a8 as te,W as oe,a1 as w}from"./index-BiBisH8X.js";import{L as n}from"./label-DDyL8AZL.js";import{T,a as F,b as x,c as u,d as R,e as p}from"./table-cFqY84xs.js";import{S as O,a as q,b as Q,c as G,d as t}from"./select-BquPdUcS.js";import{S as ce}from"./ShopifyIntegrationSettings-GJipOFsG.js";import{T as de}from"./truck-BzkyTBhC.js";import{S as ue}from"./save-IQad8R1X.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";import"./alert-DQClezAk.js";import"./refresh-cw-C3bXnO94.js";function Ae(){const{toast:o}=Y(),{user:j}=$(),[H,D]=C.useState(!1),[a,l]=C.useState({firstName:"",lastName:"",email:"",role:"",enhancedRole:"",gocNumber:"",contactPhone:"",gocRegistrationType:"",professionalQualifications:""}),{data:r,isLoading:B}=S({queryKey:["/api/company-admin/profile"]}),{data:M,isLoading:K}=S({queryKey:["/api/company-admin/users"]}),{data:y,isLoading:W}=S({queryKey:["/api/company-admin/suppliers"]}),[i,c]=C.useState({name:r?.name||"",email:r?.email||"",phone:r?.phone||"",website:r?.website||"",address:{street:r?.address?.street||"",city:r?.address?.city||"",postcode:r?.address?.postcode||""}}),I=k({mutationFn:async s=>{const d=await fetch("/api/company-admin/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});if(!d.ok){const v=await d.json();throw new Error(v.message||"Failed to update company")}return d.json()},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/company-admin/profile"]}),o({title:"Company Updated",description:"Company profile has been updated successfully."})},onError:s=>{o({title:"Error",description:s.message,variant:"destructive"})}}),J=()=>{I.mutate(i)},N=k({mutationFn:async s=>{const d=await fetch("/api/company-admin/users",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});if(!d.ok){const v=await d.json();throw new Error(v.message||"Failed to add user")}return d.json()},onSuccess:s=>{w.invalidateQueries({queryKey:["/api/company-admin/users"]}),D(!1),l({firstName:"",lastName:"",email:"",role:"",enhancedRole:"",gocNumber:"",contactPhone:"",gocRegistrationType:"",professionalQualifications:""}),o({title:"User Added Successfully",description:`Temporary password: ${s.temporaryPassword}. Please share this securely with the user.`})},onError:s=>{o({title:"Error",description:s.message,variant:"destructive"})}}),_=()=>{if(!a.firstName||!a.lastName||!a.email){o({title:"Missing Information",description:"Please fill in first name, last name, and email",variant:"destructive"});return}if(!a.role&&!a.enhancedRole){o({title:"Role Required",description:"Please select a role for the user",variant:"destructive"});return}if((a.enhancedRole==="optometrist"||a.role==="ecp")&&!a.gocNumber){o({title:"GOC Number Required",description:"GOC registration number is required for optometrists and ECPs",variant:"destructive"});return}N.mutate(a)};return e.jsxDEV("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsxDEV(V,{className:"h-8 w-8"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:238,columnNumber:13},this),"Company Administration"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:237,columnNumber:11},this),e.jsxDEV("p",{className:"text-muted-foreground mt-1",children:"Manage your company profile, users, and supplier relationships"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:241,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:236,columnNumber:9},this),r&&e.jsxDEV(b,{variant:"outline",className:"text-lg px-4 py-2",children:r.subscriptionPlan},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:246,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:235,columnNumber:7},this),e.jsxDEV(z,{defaultValue:"profile",className:"space-y-6",children:[e.jsxDEV(X,{children:[e.jsxDEV(g,{value:"profile",className:"gap-2",children:[e.jsxDEV(V,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:255,columnNumber:13},this),"Company Profile"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:254,columnNumber:11},this),e.jsxDEV(g,{value:"users",className:"gap-2",children:[e.jsxDEV(Z,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:259,columnNumber:13},this),"Users"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:258,columnNumber:11},this),e.jsxDEV(g,{value:"suppliers",className:"gap-2",children:[e.jsxDEV(de,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:263,columnNumber:13},this),"Suppliers"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:262,columnNumber:11},this),j?.role==="ecp"&&e.jsxDEV(g,{value:"integrations",className:"gap-2",children:[e.jsxDEV(ee,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:268,columnNumber:15},this),"Integrations"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:267,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:253,columnNumber:9},this),e.jsxDEV(h,{value:"profile",className:"space-y-4",children:e.jsxDEV(P,{children:[e.jsxDEV(A,{children:[e.jsxDEV(U,{children:"Company Information"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:278,columnNumber:15},this),e.jsxDEV(E,{children:"Update your company details and contact information"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:279,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:277,columnNumber:13},this),e.jsxDEV(L,{className:"space-y-6",children:B?e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"Loading company data..."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:285,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"companyName",children:"Company Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:292,columnNumber:23},this),e.jsxDEV(m,{id:"companyName",value:i.name,onChange:s=>c({...i,name:s.target.value}),placeholder:"Your Company Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:293,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:291,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"companyEmail",children:"Contact Email"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:302,columnNumber:23},this),e.jsxDEV(m,{id:"companyEmail",type:"email",value:i.email,onChange:s=>c({...i,email:s.target.value}),placeholder:"contact@company.com"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:303,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:301,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"companyPhone",children:"Phone Number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:313,columnNumber:23},this),e.jsxDEV(m,{id:"companyPhone",value:i.phone,onChange:s=>c({...i,phone:s.target.value}),placeholder:"+44 20 1234 5678"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:314,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:312,columnNumber:21},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"companyWebsite",children:"Website"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:323,columnNumber:23},this),e.jsxDEV(m,{id:"companyWebsite",value:i.website,onChange:s=>c({...i,website:s.target.value}),placeholder:"https://www.company.com"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:324,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:322,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:290,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("h3",{className:"text-sm font-semibold",children:"Address"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:334,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2 md:col-span-2",children:[e.jsxDEV(n,{htmlFor:"street",children:"Street Address"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:337,columnNumber:25},this),e.jsxDEV(m,{id:"street",value:i.address.street,onChange:s=>c({...i,address:{...i.address,street:s.target.value}}),placeholder:"123 High Street"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:338,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:336,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"city",children:"City"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:350,columnNumber:25},this),e.jsxDEV(m,{id:"city",value:i.address.city,onChange:s=>c({...i,address:{...i.address,city:s.target.value}}),placeholder:"London"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:351,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:349,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"postcode",children:"Postcode"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:363,columnNumber:25},this),e.jsxDEV(m,{id:"postcode",value:i.address.postcode,onChange:s=>c({...i,address:{...i.address,postcode:s.target.value}}),placeholder:"SW1A 1AA"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:364,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:362,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:335,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:333,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-end pt-4 border-t",children:e.jsxDEV(f,{onClick:J,disabled:I.isPending,children:[e.jsxDEV(ue,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:382,columnNumber:23},this),"Save Changes"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:378,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:377,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:289,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:283,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:276,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:275,columnNumber:9},this),e.jsxDEV(h,{value:"users",className:"space-y-4",children:e.jsxDEV(P,{children:[e.jsxDEV(A,{children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV(U,{children:"Company Users"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:398,columnNumber:19},this),e.jsxDEV(E,{children:"View and manage users in your company"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:399,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:397,columnNumber:17},this),e.jsxDEV(se,{open:H,onOpenChange:D,children:[e.jsxDEV(ae,{asChild:!0,children:e.jsxDEV(f,{children:[e.jsxDEV(ie,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:406,columnNumber:23},this),"Add User"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:405,columnNumber:21},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:404,columnNumber:19},this),e.jsxDEV(ne,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxDEV(me,{children:[e.jsxDEV(le,{children:"Add New User"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:412,columnNumber:23},this),e.jsxDEV(re,{children:"Add a new user to your company. They will receive login credentials via email."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:413,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:411,columnNumber:21},this),e.jsxDEV("div",{className:"grid gap-4 py-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"firstName",children:"First Name *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:420,columnNumber:27},this),e.jsxDEV(m,{id:"firstName",value:a.firstName,onChange:s=>l({...a,firstName:s.target.value}),placeholder:"John"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:421,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:419,columnNumber:25},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"lastName",children:"Last Name *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:431,columnNumber:27},this),e.jsxDEV(m,{id:"lastName",value:a.lastName,onChange:s=>l({...a,lastName:s.target.value}),placeholder:"Doe"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:432,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:430,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:418,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"email",children:"Email *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:443,columnNumber:25},this),e.jsxDEV(m,{id:"email",type:"email",value:a.email,onChange:s=>l({...a,email:s.target.value}),placeholder:"john.doe@example.com"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:444,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:442,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"contactPhone",children:"Phone"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:455,columnNumber:25},this),e.jsxDEV(m,{id:"contactPhone",value:a.contactPhone,onChange:s=>l({...a,contactPhone:s.target.value}),placeholder:"+44 20 1234 5678"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:456,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:454,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"enhancedRole",children:"Role *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:466,columnNumber:25},this),e.jsxDEV(O,{value:a.enhancedRole,onValueChange:s=>l({...a,enhancedRole:s,role:"ecp"}),children:[e.jsxDEV(q,{id:"enhancedRole",children:e.jsxDEV(Q,{placeholder:"Select role"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:474,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:473,columnNumber:27},this),e.jsxDEV(G,{children:[e.jsxDEV(t,{value:"optometrist",children:"Optometrist"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:477,columnNumber:29},this),e.jsxDEV(t,{value:"dispenser",children:"Dispenser"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:478,columnNumber:29},this),e.jsxDEV(t,{value:"retail_assistant",children:"Retail Assistant"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:479,columnNumber:29},this),e.jsxDEV(t,{value:"lab_tech",children:"Lab Technician"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:480,columnNumber:29},this),e.jsxDEV(t,{value:"engineer",children:"Engineer"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:481,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:476,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:467,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:465,columnNumber:23},this),(a.enhancedRole==="optometrist"||a.role==="ecp")&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"gocNumber",children:"GOC Registration Number *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:488,columnNumber:29},this),e.jsxDEV(m,{id:"gocNumber",value:a.gocNumber,onChange:s=>l({...a,gocNumber:s.target.value}),placeholder:"GOC-12345"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:489,columnNumber:29},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground",children:"General Optical Council registration number"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:497,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:487,columnNumber:27},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"gocRegistrationType",children:"GOC Registration Type"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:502,columnNumber:29},this),e.jsxDEV(O,{value:a.gocRegistrationType,onValueChange:s=>l({...a,gocRegistrationType:s}),children:[e.jsxDEV(q,{id:"gocRegistrationType",children:e.jsxDEV(Q,{placeholder:"Select type"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:510,columnNumber:33},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:509,columnNumber:31},this),e.jsxDEV(G,{children:[e.jsxDEV(t,{value:"optometrist",children:"Optometrist"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:513,columnNumber:33},this),e.jsxDEV(t,{value:"dispensing_optician",children:"Dispensing Optician"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:514,columnNumber:33},this),e.jsxDEV(t,{value:"ophthalmologist",children:"Ophthalmologist"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:515,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:512,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:503,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:501,columnNumber:27},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(n,{htmlFor:"professionalQualifications",children:"Professional Qualifications"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:520,columnNumber:29},this),e.jsxDEV(m,{id:"professionalQualifications",value:a.professionalQualifications,onChange:s=>l({...a,professionalQualifications:s.target.value}),placeholder:"e.g., BSc (Hons) Optometry"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:521,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:519,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:486,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:417,columnNumber:21},this),e.jsxDEV(te,{children:[e.jsxDEV(f,{variant:"outline",onClick:()=>D(!1),disabled:N.isPending,children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:534,columnNumber:23},this),e.jsxDEV(f,{onClick:_,disabled:N.isPending,children:[N.isPending&&e.jsxDEV(oe,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:546,columnNumber:27},this),"Add User"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:541,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:533,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:410,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:403,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:396,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:395,columnNumber:13},this),e.jsxDEV(L,{children:K?e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"Loading users..."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:557,columnNumber:17},this):e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV(T,{children:[e.jsxDEV(F,{children:e.jsxDEV(x,{children:[e.jsxDEV(u,{children:"Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:565,columnNumber:25},this),e.jsxDEV(u,{children:"Email"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:566,columnNumber:25},this),e.jsxDEV(u,{children:"Role"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:567,columnNumber:25},this),e.jsxDEV(u,{children:"Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:568,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:564,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:563,columnNumber:21},this),e.jsxDEV(R,{children:M?.map(s=>e.jsxDEV(x,{children:[e.jsxDEV(p,{className:"font-medium",children:s.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:574,columnNumber:27},this),e.jsxDEV(p,{children:s.email},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:575,columnNumber:27},this),e.jsxDEV(p,{children:e.jsxDEV(b,{variant:"outline",children:s.role},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:577,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:576,columnNumber:27},this),e.jsxDEV(p,{children:e.jsxDEV(b,{variant:s.accountStatus==="active"?"default":s.accountStatus==="suspended"?"destructive":"secondary",children:s.accountStatus},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:580,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:579,columnNumber:27},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:573,columnNumber:25},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:571,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:562,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:561,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:555,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:394,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:393,columnNumber:9},this),e.jsxDEV(h,{value:"suppliers",className:"space-y-4",children:e.jsxDEV(P,{children:[e.jsxDEV(A,{children:[e.jsxDEV(U,{children:"Supplier Relationships"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:606,columnNumber:15},this),e.jsxDEV(E,{children:"Manage your approved suppliers"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:607,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:605,columnNumber:13},this),e.jsxDEV(L,{children:W?e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"Loading suppliers..."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:613,columnNumber:17},this):y&&y.length>0?e.jsxDEV("div",{className:"rounded-md border",children:e.jsxDEV(T,{children:[e.jsxDEV(F,{children:e.jsxDEV(x,{children:[e.jsxDEV(u,{children:"Supplier Name"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:621,columnNumber:25},this),e.jsxDEV(u,{children:"Status"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:622,columnNumber:25},this),e.jsxDEV(u,{children:"Approved Date"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:623,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:620,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:619,columnNumber:21},this),e.jsxDEV(R,{children:y.map(s=>e.jsxDEV(x,{children:[e.jsxDEV(p,{className:"font-medium",children:s.name},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:629,columnNumber:27},this),e.jsxDEV(p,{children:e.jsxDEV(b,{variant:s.status==="approved"?"default":"secondary",children:s.status},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:631,columnNumber:29},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:630,columnNumber:27},this),e.jsxDEV(p,{className:"text-sm text-muted-foreground",children:s.approvedAt?new Date(s.approvedAt).toLocaleDateString():"â€”"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:637,columnNumber:27},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:628,columnNumber:25},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:626,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:618,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:617,columnNumber:17},this):e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground",children:"No suppliers configured yet"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:648,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:611,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:604,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:603,columnNumber:9},this),j?.role==="ecp"&&e.jsxDEV(h,{value:"integrations",className:"space-y-4",children:e.jsxDEV(ce,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:659,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:658,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:252,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/CompanyAdminPage.tsx",lineNumber:234,columnNumber:5},this)}export{Ae as default};
