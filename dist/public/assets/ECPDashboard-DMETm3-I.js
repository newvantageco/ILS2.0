import{e,r as N}from"./vendor-react-yzYIzJFU.js";import{S as Y,a as Z}from"./StatusBadge-CMD14DAe.js";import{C as f,h as D,i as I,a as g,B as P,e as z,a1 as _,Y as J,a2 as X,a3 as ee,f as p,a4 as se,a5 as te,a6 as re,a7 as ae,I as ne,a8 as ie,z as x,o as le,E as H,a9 as oe,u as ce,aa as $,L as me,P as y,n as ue,w as q,ab as de,A as be,U as Ne,j as w,H as pe,T as he}from"./index-BiBisH8X.js";import{S as A,a as T,b as G,c as R,d as S}from"./select-BquPdUcS.js";import{L as k}from"./label-DDyL8AZL.js";import{T as xe}from"./textarea-DoojhZ6C.js";import{u as v,a as fe}from"./vendor-react-query-Dxpktacb.js";import{C as De}from"./circle-check-DUGURuAb.js";import{C as M}from"./clock-CfQc0zyb.js";import{f as B}from"./format-B8W-xB4I.js";import{M as Q}from"./message-square-AVjZR4xa.js";import{P as F}from"./plus-CbARstPA.js";import{E as ge}from"./EmptyState-ugLtOoCh.js";import{O as ve}from"./CardSkeleton-fD8CCydl.js";import{Z as Ee}from"./zap-jN_IYbL_.js";import{C as Le}from"./calendar-GUm2wtPp.js";import{L as Se}from"./lightbulb-BX0Wy-yj.js";import"./vendor-mui-DFe-F-Gn.js";import"./vendor-radix-B6etWzp2.js";import"./en-US-816ENOvV.js";import"./skeleton-a1RpvyBN.js";function ke({orders:t}){const[i,r]=N.useState(!1),[a,s]=N.useState(""),[l,o]=N.useState("normal"),[u,d]=N.useState(""),[b,m]=N.useState(""),{toast:h}=z(),E=fe({mutationFn:async c=>await(await J("POST","/api/consult-logs",c)).json(),onSuccess:()=>{h({title:"Consult request submitted",description:"The lab has been notified and will respond soon."}),r(!1),L(),_.invalidateQueries({queryKey:["/api/consult-logs"]})},onError:c=>{h({title:"Error submitting consult",description:c.message,variant:"destructive"})}}),L=()=>{s(""),o("normal"),d(""),m("")},U=c=>{if(c.preventDefault(),!a||!u||!b){h({title:"Missing required fields",description:"Please fill in all required fields.",variant:"destructive"});return}E.mutate({orderId:a,priority:l,subject:u,description:b})};return e.jsxDEV(X,{open:i,onOpenChange:r,children:[e.jsxDEV(ee,{asChild:!0,children:e.jsxDEV(p,{"data-testid":"button-create-consult",children:[e.jsxDEV(F,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:110,columnNumber:11},this),"Request Lab Consult"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:109,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:108,columnNumber:7},this),e.jsxDEV(se,{className:"max-w-2xl",children:e.jsxDEV("form",{onSubmit:U,children:[e.jsxDEV(te,{children:[e.jsxDEV(re,{children:"Request Lab Consultation"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:117,columnNumber:13},this),e.jsxDEV(ae,{children:"Submit a question about a difficult dispense or complex prescription case."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:116,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4 py-4",children:[e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(k,{htmlFor:"order",children:"Order *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:124,columnNumber:15},this),e.jsxDEV(A,{value:a,onValueChange:s,children:[e.jsxDEV(T,{id:"order","data-testid":"select-consult-order",children:e.jsxDEV(G,{placeholder:"Select order"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:127,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:126,columnNumber:17},this),e.jsxDEV(R,{children:t.map(c=>e.jsxDEV(S,{value:c.id,children:[c.orderNumber," - ",c.patient.name]},c.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:131,columnNumber:21},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:129,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:125,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:123,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(k,{htmlFor:"priority",children:"Priority"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:140,columnNumber:15},this),e.jsxDEV(A,{value:l,onValueChange:o,children:[e.jsxDEV(T,{id:"priority","data-testid":"select-consult-priority",children:e.jsxDEV(G,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:143,columnNumber:19},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:142,columnNumber:17},this),e.jsxDEV(R,{children:[e.jsxDEV(S,{value:"normal",children:"Normal"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:146,columnNumber:19},this),e.jsxDEV(S,{value:"high",children:"High"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:147,columnNumber:19},this),e.jsxDEV(S,{value:"urgent",children:"Urgent"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:148,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:145,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:141,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:139,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(k,{htmlFor:"subject",children:"Subject *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:154,columnNumber:15},this),e.jsxDEV(ne,{id:"subject",value:u,onChange:c=>d(c.target.value),placeholder:"Brief description of the issue","data-testid":"input-consult-subject"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:155,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:153,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(k,{htmlFor:"description",children:"Description *"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:165,columnNumber:15},this),e.jsxDEV(xe,{id:"description",value:b,onChange:c=>m(c.target.value),placeholder:"Detailed explanation of the issue, including patient concerns, fitting challenges, or technical questions",rows:6,"data-testid":"input-consult-description"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:166,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:164,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:122,columnNumber:11},this),e.jsxDEV(ie,{children:[e.jsxDEV(p,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel-consult",children:"Cancel"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:177,columnNumber:13},this),e.jsxDEV(p,{type:"submit",disabled:E.isPending,"data-testid":"button-submit-consult",children:E.isPending?"Submitting...":"Submit Consult"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:185,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:176,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:115,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:114,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:107,columnNumber:5},this)}function Ce({priority:t}){const i={normal:"bg-blue-500",high:"bg-orange-500",urgent:"bg-red-500"};return e.jsxDEV(P,{className:`${i[t]||i.normal} text-white`,children:t.toUpperCase()},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:203,columnNumber:5},this)}function je(){const{data:t}=v({queryKey:["/api/orders"]}),{data:i,isLoading:r}=v({queryKey:["/api/consult-logs"]}),a=s=>{const l=t?.find(o=>o.id===s);return l?`${l.orderNumber} - ${l.patient.name}`:"Unknown Order"};return e.jsxDEV(f,{children:[e.jsxDEV(D,{className:"flex flex-row items-center justify-between gap-2 flex-wrap",children:[e.jsxDEV(I,{children:"Lab Consultations"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:226,columnNumber:9},this),e.jsxDEV(ke,{orders:t||[]},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:227,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:225,columnNumber:7},this),e.jsxDEV(g,{children:r?e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:e.jsxDEV("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:232,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:231,columnNumber:11},this):i&&i.length>0?e.jsxDEV("div",{className:"space-y-4",children:i.map(s=>e.jsxDEV("div",{className:"border border-border rounded-md p-4 space-y-3","data-testid":`consult-log-${s.id}`,children:[e.jsxDEV("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsxDEV("h4",{className:"font-semibold","data-testid":`consult-subject-${s.id}`,children:s.subject},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:245,columnNumber:23},this),e.jsxDEV(Ce,{priority:s.priority},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:248,columnNumber:23},this),s.labResponse?e.jsxDEV(P,{className:"bg-green-500 text-white",children:[e.jsxDEV(De,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:251,columnNumber:27},this),"Answered"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:250,columnNumber:25},this):e.jsxDEV(P,{variant:"outline",children:[e.jsxDEV(M,{className:"h-3 w-3 mr-1"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:256,columnNumber:27},this),"Pending"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:255,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:244,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground","data-testid":`consult-order-${s.id}`,children:["Order: ",a(s.orderId)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:261,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:243,columnNumber:19},this),e.jsxDEV("span",{className:"text-xs text-muted-foreground whitespace-nowrap","data-testid":`consult-date-${s.id}`,children:B(new Date(s.createdAt),"MMM dd, yyyy")},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:265,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:242,columnNumber:17},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"bg-muted/50 rounded-md p-3",children:[e.jsxDEV("p",{className:"text-sm font-medium mb-1",children:"Your Question:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:272,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm","data-testid":`consult-description-${s.id}`,children:s.description},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:273,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:271,columnNumber:19},this),s.labResponse&&e.jsxDEV("div",{className:"bg-primary/5 border border-primary/20 rounded-md p-3",children:[e.jsxDEV("p",{className:"text-sm font-medium mb-1",children:"Lab Response:"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:280,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm","data-testid":`consult-response-${s.id}`,children:s.labResponse},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:281,columnNumber:23},this),s.respondedAt&&e.jsxDEV("p",{className:"text-xs text-muted-foreground mt-2",children:["Responded on ",B(new Date(s.respondedAt),"MMM dd, yyyy 'at' h:mm a")]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:285,columnNumber:25},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:279,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:270,columnNumber:17},this)]},s.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:237,columnNumber:15},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:235,columnNumber:11},this):e.jsxDEV("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-consults",children:[e.jsxDEV(Q,{className:"h-12 w-12 mx-auto mb-3 opacity-50"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:297,columnNumber:13},this),e.jsxDEV("p",{children:"No consultations yet."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:298,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm mt-1",children:"Request a lab consultation when you need help with complex prescriptions or difficult dispenses."},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:299,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:296,columnNumber:11},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:229,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ConsultLogManager.tsx",lineNumber:224,columnNumber:5},this)}function Ie({steps:t,currentStep:i=0,className:r}){return e.jsxDEV("div",{className:x("space-y-4",r),children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900",children:"Complete Your Setup"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:24,columnNumber:9},this),e.jsxDEV("span",{className:"text-sm text-gray-600",children:[t.filter(a=>a.completed).length," of ",t.length," complete"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:27,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:23,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-2",children:t.map((a,s)=>e.jsxDEV("div",{className:x("flex items-center gap-3 p-3 rounded-lg border transition-colors",a.completed?"bg-green-50 border-green-200":s===i?"bg-blue-50 border-blue-200":"bg-white border-gray-200"),children:[e.jsxDEV("div",{className:x("w-6 h-6 rounded-full flex items-center justify-center text-sm font-semibold transition-colors",a.completed?"bg-green-600 text-white":s===i?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"),children:a.completed?e.jsxDEV(le,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:56,columnNumber:17},this):s+1},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:45,columnNumber:13},this),e.jsxDEV("span",{className:x("flex-1 text-sm font-medium",a.completed?"text-green-900":s===i?"text-blue-900":"text-gray-700"),children:a.label},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:61,columnNumber:13},this)]},a.id,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:34,columnNumber:11},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:32,columnNumber:7},this),e.jsxDEV("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-600 to-green-600 transition-all duration-500",style:{width:`${t.filter(a=>a.completed).length/t.length*100}%`}},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:79,columnNumber:9},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:78,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/onboarding-progress.tsx",lineNumber:22,columnNumber:5},this)}function Ue({orderId:t,patientName:i,ecp:r,status:a,orderDate:s,lensType:l,coating:o,onViewDetails:u,className:d}){return e.jsxDEV(f,{className:x("hover-elevate",d),"data-testid":`card-order-${t}`,children:[e.jsxDEV(D,{className:"flex flex-row items-center justify-between gap-4 space-y-0 pb-2",children:[e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("h3",{className:"font-semibold text-lg","data-testid":`text-order-id-${t}`,children:["Order #",t]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:34,columnNumber:11},this),e.jsxDEV("p",{className:"text-sm text-muted-foreground truncate","data-testid":`text-patient-${t}`,children:i},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:37,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:33,columnNumber:9},this),e.jsxDEV(Y,{status:a},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:41,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:32,columnNumber:7},this),e.jsxDEV(g,{children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground",children:"ECP"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:46,columnNumber:13},this),e.jsxDEV("p",{className:"font-medium","data-testid":`text-ecp-${t}`,children:r},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:47,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:45,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground",children:"Order Date"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:50,columnNumber:13},this),e.jsxDEV("p",{className:"font-medium",children:s},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:51,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:49,columnNumber:11},this),l&&e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground",children:"Lens Type"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:55,columnNumber:15},this),e.jsxDEV("p",{className:"font-medium",children:l},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:56,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:54,columnNumber:13},this),o&&e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-muted-foreground",children:"Coating"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:61,columnNumber:15},this),e.jsxDEV("p",{className:"font-medium",children:o},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:62,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:44,columnNumber:9},this),e.jsxDEV("div",{className:"flex gap-2 mt-4",children:[e.jsxDEV(p,{variant:"outline",size:"sm",className:"flex-1",onClick:u,"data-testid":`button-view-order-${t}`,children:[e.jsxDEV(H,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:74,columnNumber:13},this),"View Details"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:67,columnNumber:11},this),e.jsxDEV(p,{variant:"ghost",size:"sm","data-testid":`button-download-${t}`,children:e.jsxDEV(oe,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:82,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:43,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/OrderCard.tsx",lineNumber:31,columnNumber:5},this)}function C({title:t,value:i,subtitle:r,icon:a,trend:s,gradient:l=!1,variant:o="default",className:u=""}){const d=()=>{if(l)return"bg-gradient-to-br from-primary-600 to-secondary-600 text-white border-0";switch(o){case"primary":return"bg-primary-50 border-primary-200 text-primary-900";case"success":return"bg-success-50 border-success-200 text-success-900";case"warning":return"bg-warning-50 border-warning-200 text-warning-900";case"error":return"bg-error-50 border-error-200 text-error-900";default:return"bg-white border-gray-200"}},b=()=>{if(l)return"bg-white/20";switch(o){case"primary":return"bg-primary-100";case"success":return"bg-success-100";case"warning":return"bg-warning-100";case"error":return"bg-error-100";default:return"bg-gray-100"}},m=()=>{if(l)return"text-white";switch(o){case"primary":return"text-primary-600";case"success":return"text-success-600";case"warning":return"text-warning-600";case"error":return"text-error-600";default:return"text-gray-600"}};return e.jsxDEV("div",{className:`
        card
        hover-lift
        p-6
        ${d()}
        ${u}
      `,children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("p",{className:`
              text-sm font-medium mb-2
              ${l?"text-white/80":"text-gray-600"}
            `,children:t},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:101,columnNumber:11},this),e.jsxDEV("h3",{className:`
              text-3xl font-bold tracking-tight mb-1
              ${l?"text-white":"text-gray-900"}
            `,children:i},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:110,columnNumber:11},this),r&&e.jsxDEV("p",{className:`
                text-sm
                ${l?"text-white/70":"text-gray-500"}
              `,children:r},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:120,columnNumber:13},this),s&&e.jsxDEV("div",{className:"flex items-center gap-2 mt-3",children:[e.jsxDEV("div",{className:`
                  inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold
                  ${s.isPositive?"bg-success-100 text-success-700":"bg-error-100 text-error-700"}
                  ${l?"bg-white/20 text-white":""}
                `,children:[e.jsxDEV("span",{children:s.isPositive?"↑":"↓"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:143,columnNumber:17},this),e.jsxDEV("span",{children:[Math.abs(s.value),"%"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:144,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:132,columnNumber:15},this),s.label&&e.jsxDEV("span",{className:`
                    text-xs
                    ${l?"text-white/70":"text-gray-500"}
                  `,children:s.label},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:131,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:100,columnNumber:9},this),a&&e.jsxDEV("div",{className:`
              flex items-center justify-center
              w-12 h-12 rounded-xl
              ${b()}
              ${m()}
              animate-fade-in
            `,children:e.jsxDEV(a,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:170,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:161,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:99,columnNumber:7},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/StatsCard.tsx",lineNumber:90,columnNumber:5},this)}function Ve({children:t,variant:i="primary",glass:r=!1,className:a="",onClick:s}){const l=()=>{if(r)return"glass-card";switch(i){case"primary":return"gradient-primary text-white";case"secondary":return"gradient-secondary text-white";case"success":return"bg-gradient-to-br from-success-500 to-success-700 text-white";case"purple":return"bg-gradient-to-br from-purple-500 to-pink-500 text-white";case"orange":return"bg-gradient-to-br from-orange-500 to-red-500 text-white";default:return"gradient-primary text-white"}};return e.jsxDEV("div",{className:`
        card
        hover-lift
        p-6
        ${l()}
        ${s?"cursor-pointer":""}
        ${a}
      `,onClick:s,children:t},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/GradientCard.tsx",lineNumber:47,columnNumber:5},this)}function ye({title:t,subtitle:i,icon:r}){return e.jsxDEV("div",{className:"flex items-start gap-4 mb-4",children:[r&&e.jsxDEV("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center",children:r},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/GradientCard.tsx",lineNumber:77,columnNumber:9},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"text-xl font-bold mb-1",children:t},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/GradientCard.tsx",lineNumber:82,columnNumber:9},this),i&&e.jsxDEV("p",{className:"text-sm opacity-90",children:i},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/GradientCard.tsx",lineNumber:83,columnNumber:22},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/GradientCard.tsx",lineNumber:81,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/GradientCard.tsx",lineNumber:75,columnNumber:5},this)}function we({children:t}){return e.jsxDEV("div",{className:"text-white/90",children:t},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/GradientCard.tsx",lineNumber:94,columnNumber:10},this)}function Pe({children:t}){return e.jsxDEV("div",{className:"flex items-center gap-3 mt-6",children:t},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/GradientCard.tsx",lineNumber:102,columnNumber:10},this)}function j({className:t="",variant:i="rectangular",width:r,height:a,count:s=1}){const l=()=>{switch(i){case"text":return"h-4 rounded";case"circular":return"rounded-full aspect-square";case"rectangular":return"rounded-lg";case"card":return"rounded-xl h-32";default:return"rounded-lg"}},o=e.jsxDEV("div",{className:`
        bg-gray-200
        animate-pulse
        ${l()}
        ${t}
      `,style:{width:r||(i==="circular"?a:"100%"),height:a||void 0}},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:39,columnNumber:5},this);return s===1?o:e.jsxDEV("div",{className:"space-y-3",children:Array.from({length:s}).map((u,d)=>e.jsxDEV("div",{children:o},d,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:60,columnNumber:9},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:58,columnNumber:5},this)}function Me(){return e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((t,i)=>e.jsxDEV("div",{className:"card p-6",children:[e.jsxDEV("div",{className:"flex items-start justify-between mb-4",children:[e.jsxDEV("div",{className:"flex-1 space-y-2",children:[e.jsxDEV(j,{variant:"text",width:"60%"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:114,columnNumber:15},this),e.jsxDEV(j,{variant:"text",width:"80%",height:"32px"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:115,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:113,columnNumber:13},this),e.jsxDEV(j,{variant:"circular",height:"48px"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:117,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:112,columnNumber:11},this),e.jsxDEV(j,{variant:"text",width:"40%"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:119,columnNumber:11},this)]},i,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:111,columnNumber:9},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/components/ui/LoadingSkeleton.tsx",lineNumber:109,columnNumber:5},this)}function rs(){const[t,i]=N.useState(""),[,r]=ce(),{toast:a}=z(),{data:s,isLoading:l,error:o}=v({queryKey:["/api/stats"]}),{data:u,isLoading:d,error:b}=v({queryKey:["/api/orders"]}),{data:m}=v({queryKey:["/api/ai/usage/stats"]});N.useEffect(()=>{o&&$(o)&&(a({title:"Session expired",description:"Please log in again to continue.",variant:"destructive"}),window.location.href="/api/login")},[o,a]),N.useEffect(()=>{b&&$(b)&&(a({title:"Session expired",description:"Please log in again to continue.",variant:"destructive"}),window.location.href="/api/login")},[b,a]);const h=u?.slice(0,6)||[],L=(()=>{const n=[];return s?.pending&&s.pending>5&&n.push({id:"pending-orders",title:"High pending orders",question:`I have ${s.pending} pending orders. What should I prioritize and how can I process them efficiently?`,icon:q,color:"text-warning-600"}),s?.inProduction&&s.inProduction>10&&n.push({id:"production-tracking",title:"Track production orders",question:`I have ${s.inProduction} orders in production. How can I track their progress and estimate completion times?`,icon:M,color:"text-primary-600"}),h.length>0&&n.push({id:"order-analysis",title:"Analyze recent orders",question:"Can you analyze my recent orders and provide insights on common lens types, coatings, and patient trends?",icon:he,color:"text-success-600"}),n.length===0&&n.push({id:"inventory-check",title:"Check inventory status",question:"What should I know about managing my lens inventory effectively?",icon:y,color:"text-primary-600"},{id:"patient-management",title:"Patient management tips",question:"What are best practices for managing patient records and prescriptions?",icon:Se,color:"text-secondary-600"}),n.slice(0,3)})(),U=async n=>{r(`/ecp/ai-assistant?q=${encodeURIComponent(n)}`)},V=[{id:"first-order",label:"Create your first order",completed:(s?.total||0)>0,action:()=>r("/ecp/new-order")},{id:"add-product",label:"Add products to inventory",completed:!1,action:()=>r("/ecp/inventory")},{id:"connect-lab",label:"Connect with a lab or supplier",completed:!1,action:()=>r("/marketplace")},{id:"explore-ai",label:"Try AI Assistant features",completed:(m?.queriesUsed||0)>0,action:()=>r("/ecp/ai-assistant")}],O=V.filter(n=>n.completed).length,W=O<V.length;return e.jsxDEV("div",{className:"space-y-8 animate-fade-in",children:[e.jsxDEV("div",{className:"relative overflow-hidden rounded-2xl gradient-primary p-8 text-white",children:[e.jsxDEV("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-32 -mt-32"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:211,columnNumber:9},this),e.jsxDEV("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-white/5 rounded-full blur-3xl -ml-48 -mb-48"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:212,columnNumber:9},this),e.jsxDEV("div",{className:"relative z-10 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:e.jsxDEV(H,{className:"w-8 h-8"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:217,columnNumber:15},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:216,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold tracking-tight",children:"Welcome Back!"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:220,columnNumber:15},this),e.jsxDEV("p",{className:"text-white/90 mt-1",children:"Here's what's happening with your practice today"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:221,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:219,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:215,columnNumber:11},this),e.jsxDEV(me,{href:"/ecp/new-order",children:e.jsxDEV(p,{size:"lg",className:"bg-white text-primary-600 hover:bg-white/90 hover-lift shadow-xl",children:[e.jsxDEV(F,{className:"h-5 w-5 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:229,columnNumber:15},this),"New Order"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:225,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:224,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:214,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:210,columnNumber:7},this),W&&e.jsxDEV(Ie,{steps:V,currentStep:O},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:237,columnNumber:26},this),l?e.jsxDEV(Me,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:241,columnNumber:9},this):e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxDEV(C,{title:"Total Orders",value:s?.total.toString()||"0",subtitle:"All time orders",icon:y,variant:"default",trend:{value:12.5,isPositive:!0,label:"vs last month"}},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:244,columnNumber:11},this),e.jsxDEV(C,{title:"In Production",value:s?.inProduction.toString()||"0",subtitle:"Currently processing",icon:M,variant:"primary",trend:{value:8.2,isPositive:!0,label:"production rate"}},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:256,columnNumber:11},this),e.jsxDEV(C,{title:"Completed",value:s?.completed.toString()||"0",subtitle:"Successfully delivered",icon:ue,variant:"success",trend:{value:15.3,isPositive:!0,label:"completion rate"}},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:268,columnNumber:11},this),e.jsxDEV(C,{title:"Pending",value:s?.pending.toString()||"0",subtitle:"Awaiting processing",icon:q,variant:"warning"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:280,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:243,columnNumber:9},this),e.jsxDEV(Ve,{variant:"primary",children:[e.jsxDEV(ye,{title:"AI-Powered Practice Assistant",subtitle:"Get instant insights and recommendations for your optical practice",icon:e.jsxDEV(de,{className:"w-6 h-6"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:295,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:292,columnNumber:9},this),e.jsxDEV(we,{children:[e.jsxDEV("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxDEV("div",{className:"text-center p-4 rounded-xl bg-white/10 backdrop-blur-sm",children:[e.jsxDEV("div",{className:"text-3xl font-bold",children:m?.queriesUsed||0},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:301,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-white/80 mt-1",children:"Queries Used"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:302,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:300,columnNumber:13},this),e.jsxDEV("div",{className:"text-center p-4 rounded-xl bg-white/10 backdrop-blur-sm",children:[e.jsxDEV("div",{className:"text-3xl font-bold",children:m?.cacheHits||0},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:305,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-white/80 mt-1",children:"Cache Hits"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:306,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:304,columnNumber:13},this),e.jsxDEV("div",{className:"text-center p-4 rounded-xl bg-white/10 backdrop-blur-sm",children:[e.jsxDEV("div",{className:"text-3xl font-bold",children:[m?.queriesLimit?Math.round((m.queriesLimit-(m.queriesUsed||0))/m.queriesLimit*100):100,"%"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:309,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-white/80 mt-1",children:"Available"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:315,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:308,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:299,columnNumber:11},this),L.length>0&&e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxDEV(Ee,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:323,columnNumber:17},this),e.jsxDEV("span",{className:"font-semibold",children:"Quick AI Actions"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:324,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:322,columnNumber:15},this),L.map(n=>e.jsxDEV("button",{onClick:()=>U(n.question),className:"w-full text-left p-4 rounded-xl bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-all duration-200 border border-white/20 hover:border-white/40 hover-lift group",children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsxDEV(n.icon,{className:"h-5 w-5"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:334,columnNumber:23},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:333,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("div",{className:"font-semibold mb-0.5",children:n.title},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:337,columnNumber:23},this),e.jsxDEV("div",{className:"text-sm text-white/80",children:n.question},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:338,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:336,columnNumber:21},this),e.jsxDEV(be,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:340,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:332,columnNumber:19},this)},n.id,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:327,columnNumber:17},this))]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:321,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:298,columnNumber:9},this),e.jsxDEV(Pe,{children:[e.jsxDEV(p,{onClick:()=>r("/ecp/ai-assistant"),className:"flex-1 bg-white text-primary-600 hover:bg-white/90",children:[e.jsxDEV(Q,{className:"h-4 w-4 mr-2"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:353,columnNumber:13},this),"Open AI Chat"]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:349,columnNumber:11},this),e.jsxDEV(p,{onClick:()=>r("/settings"),variant:"outline",className:"flex-1 border-white/30 text-white hover:bg-white/10",children:"Upgrade Plan"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:356,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:348,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:291,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxDEV(f,{className:"hover-lift cursor-pointer",onClick:()=>r("/ecp/patients"),children:[e.jsxDEV(D,{children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-12 h-12 rounded-xl bg-primary-100 flex items-center justify-center",children:e.jsxDEV(Ne,{className:"h-6 w-6 text-primary-600"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:368,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:367,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(I,{className:"text-lg",children:"Patients"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:371,columnNumber:17},this),e.jsxDEV(w,{children:"Manage patient records"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:372,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:370,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:366,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:365,columnNumber:11},this),e.jsxDEV(g,{children:[e.jsxDEV("div",{className:"text-3xl font-bold text-gray-900",children:"124"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:377,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:"Total active patients"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:378,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:376,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:364,columnNumber:9},this),e.jsxDEV(f,{className:"hover-lift cursor-pointer",onClick:()=>r("/ecp/appointments"),children:[e.jsxDEV(D,{children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-12 h-12 rounded-xl bg-secondary-100 flex items-center justify-center",children:e.jsxDEV(Le,{className:"h-6 w-6 text-secondary-600"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:386,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:385,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(I,{className:"text-lg",children:"Appointments"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:389,columnNumber:17},this),e.jsxDEV(w,{children:"Schedule & manage"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:390,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:388,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:384,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:383,columnNumber:11},this),e.jsxDEV(g,{children:[e.jsxDEV("div",{className:"text-3xl font-bold text-gray-900",children:"8"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:395,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:"Today's appointments"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:396,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:394,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:382,columnNumber:9},this),e.jsxDEV(f,{className:"hover-lift cursor-pointer",onClick:()=>r("/ecp/examinations"),children:[e.jsxDEV(D,{children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-12 h-12 rounded-xl bg-success-100 flex items-center justify-center",children:e.jsxDEV(pe,{className:"h-6 w-6 text-success-600"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:404,columnNumber:17},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:403,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(I,{className:"text-lg",children:"Examinations"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:407,columnNumber:17},this),e.jsxDEV(w,{children:"Eye test records"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:408,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:406,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:402,columnNumber:13},this)},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:401,columnNumber:11},this),e.jsxDEV(g,{children:[e.jsxDEV("div",{className:"text-3xl font-bold text-gray-900",children:"45"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:413,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:"This month"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:414,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:412,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:400,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:363,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Orders"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:423,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-500 mt-1",children:"Track and manage your latest orders"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:424,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:422,columnNumber:11},this),e.jsxDEV(Z,{value:t,onChange:i,placeholder:"Search orders...",className:"w-full sm:max-w-sm"},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:426,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:421,columnNumber:9},this),d?e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(n=>e.jsxDEV(ve,{},n,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:437,columnNumber:15},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:435,columnNumber:11},this):h.length===0?e.jsxDEV(ge,{icon:y,title:"No orders yet",description:"Get started by creating your first lens order.",action:{label:"Create Order",onClick:()=>r("/ecp/new-order")}},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:441,columnNumber:11},this):e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(n=>e.jsxDEV(Ue,{orderId:n.orderNumber,patientName:n.patient.name,ecp:n.ecp.organizationName||`${n.ecp.firstName} ${n.ecp.lastName}`,status:n.status,orderDate:new Date(n.orderDate).toISOString().split("T")[0],lensType:n.lensType,coating:n.coating,onViewDetails:()=>r(`/order/${n.id}`)},n.id,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:453,columnNumber:15},this))},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:451,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:420,columnNumber:7},this),e.jsxDEV(je,{},void 0,!1,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:469,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/saban/Desktop/ILS2.0/client/src/pages/ECPDashboard.tsx",lineNumber:208,columnNumber:5},this)}export{rs as default};
