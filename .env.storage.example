# ===================================
# Storage Configuration
# ===================================

# Storage Provider: 'local', 's3', 'cloudflare-r2', 'azure-blob'
STORAGE_PROVIDER=local

# Local Storage Configuration
UPLOAD_DIR=./uploads

# AWS S3 Configuration (when STORAGE_PROVIDER=s3)
AWS_S3_BUCKET=your-bucket-name
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key

# Cloudflare R2 Configuration (when STORAGE_PROVIDER=cloudflare-r2)
CLOUDFLARE_ACCOUNT_ID=your-account-id
CLOUDFLARE_R2_BUCKET=your-bucket-name
CLOUDFLARE_R2_ACCESS_KEY_ID=your-r2-access-key
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your-r2-secret-key

# Azure Blob Storage (when STORAGE_PROVIDER=azure-blob)
AZURE_STORAGE_ACCOUNT=your-storage-account
AZURE_STORAGE_KEY=your-storage-key
AZURE_STORAGE_CONTAINER=your-container-name

# CDN Configuration (Optional - improves performance globally)
# If you have a CDN (CloudFlare, CloudFront, etc.) in front of your storage
CDN_BASE_URL=https://cdn.yourdomain.com

# ===================================
# Migration Guide: Local â†’ S3
# ===================================

# Step 1: Start with local storage (development)
# STORAGE_PROVIDER=local
# UPLOAD_DIR=./uploads

# Step 2: Set up S3 bucket and configure credentials
# - Create S3 bucket in AWS Console
# - Create IAM user with S3 permissions
# - Generate access keys

# Step 3: Test S3 in staging
# STORAGE_PROVIDER=s3
# AWS_S3_BUCKET=ils-staging-uploads
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=...
# AWS_SECRET_ACCESS_KEY=...

# Step 4: Migrate existing files
# Use: npm run migrate-storage
# This will copy all local files to S3

# Step 5: Set up CloudFront CDN (recommended)
# - Create CloudFront distribution pointing to S3 bucket
# - Update CDN_BASE_URL with CloudFront domain

# Step 6: Deploy to production
# STORAGE_PROVIDER=s3
# AWS_S3_BUCKET=ils-production-uploads
# CDN_BASE_URL=https://d1234567890.cloudfront.net

# ===================================
# Cloudflare R2 (S3-compatible, cheaper)
# ===================================

# R2 Advantages:
# - No egress fees (free bandwidth)
# - S3-compatible API
# - Integrated with Cloudflare CDN
# - Better pricing for high-traffic apps

# Example R2 Configuration:
# STORAGE_PROVIDER=cloudflare-r2
# CLOUDFLARE_ACCOUNT_ID=abc123def456
# CLOUDFLARE_R2_BUCKET=ils-uploads
# CLOUDFLARE_R2_ACCESS_KEY_ID=...
# CLOUDFLARE_R2_SECRET_ACCESS_KEY=...
# CDN_BASE_URL=https://uploads.yourdomain.com

# ===================================
# Performance Recommendations
# ===================================

# For < 100 companies:
# - Local storage is fine
# - No CDN needed

# For 100-1,000 companies:
# - S3 or R2 recommended
# - Consider CDN for product images

# For 1,000-10,000 companies:
# - S3/R2 required
# - CDN highly recommended
# - Enable S3 Transfer Acceleration

# For 10,000+ companies:
# - S3/R2 with CDN mandatory
# - Multi-region S3 buckets
# - CloudFront with edge caching
# - Separate buckets per region

# ===================================
# Cost Estimates (Monthly)
# ===================================

# Local Storage:
# Cost: $0 (uses server disk)
# Pros: Free, simple, fast for dev
# Cons: No redundancy, limited scale, no CDN

# AWS S3 + CloudFront:
# Storage: $0.023/GB (~$23 for 1TB)
# Transfer: $0.085/GB egress (~$85 for 1TB)
# Requests: $0.005/1000 PUT, $0.0004/1000 GET
# CloudFront: $0.085/GB (~$85 for 1TB)
# Total for 1TB + 1TB transfer: ~$200/month

# Cloudflare R2 + CDN:
# Storage: $0.015/GB (~$15 for 1TB)
# Transfer: $0 (FREE egress!)
# Requests: $0.36/million class A, $4.50/million class B
# CDN: Included with Cloudflare
# Total for 1TB + unlimited transfer: ~$20/month

# Recommendation: Use Cloudflare R2 for production
# It's ~10x cheaper than S3 for high-bandwidth applications
