================================================================================
INTEGRATED LENS SYSTEM (ILS) - PLATFORM OVERVIEW
PART 3: DEPLOYMENT, CONFIGURATION & DEVELOPMENT GUIDE
================================================================================
Generated: November 4, 2025
Repository: ILS2.0 (newvantageco)
Version: 1.0.0

================================================================================
TABLE OF CONTENTS - PART 3
================================================================================
1. Environment Configuration
2. Installation & Setup
3. Development Workflow
4. Testing Strategy
5. Deployment Guide
6. Monitoring & Maintenance
7. Troubleshooting
8. Roadmap & Future Features
9. Known Issues & Limitations
10. Contributing Guidelines

================================================================================
1. ENVIRONMENT CONFIGURATION
================================================================================

REQUIRED ENVIRONMENT VARIABLES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Database Configuration
DATABASE_URL=postgresql://user:password@host:5432/database
# Example: postgresql://neondb:password@ep-...neon.tech/ils_prod

# Session Secret (generate random string)
SESSION_SECRET=your-random-secret-key-min-32-characters
# Production: Use cryptographically secure random string

# Admin Setup (optional, for bootstrap)
ADMIN_SETUP_KEY=your-admin-setup-secret
# Used to create initial admin account or for admin-only operations

# Master User (optional, auto-provisioning)
MASTER_USER_EMAIL=master@yourcompany.com
MASTER_USER_PASSWORD=SecurePassword123!
MASTER_USER_FIRST_NAME=Master
MASTER_USER_LAST_NAME=Admin
MASTER_USER_ORGANIZATION=Platform Control
# Note: Password must be minimum 12 characters

# Stripe Payment Configuration
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
# Production: Use live keys (sk_live_...)

# Email Service (Resend)
RESEND_API_KEY=re_...
FROM_EMAIL=noreply@yourcompany.com
# Production: Verify domain in Resend

# AI Configuration (optional, for AI features)
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...
USE_LOCAL_AI=false
# Set USE_LOCAL_AI=true to prioritize Ollama (local AI)

# Ollama Configuration (optional, local AI)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:latest
# Requires Ollama installed and running

# Server Configuration
PORT=3000
NODE_ENV=production
# development | production | test

# File Upload Configuration
MAX_FILE_SIZE=10485760
# 10MB in bytes, adjust as needed

# CORS Configuration (production)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# Comma-separated list of allowed origins

# Shopify Integration (optional)
SHOPIFY_API_KEY=...
SHOPIFY_API_SECRET=...
# Per-company configuration stored in database

OPTIONAL ENVIRONMENT VARIABLES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# AWS S3 Configuration (optional, for file storage)
AWS_ACCESS_KEY_ID=...
AWS_SECRET_ACCESS_KEY=...
AWS_S3_BUCKET=ils-production-files
AWS_REGION=us-east-1

# Redis Configuration (optional, for queues and caching)
REDIS_URL=redis://localhost:6379
# Required for BullMQ job queues

# Logging Configuration
LOG_LEVEL=info
# debug | info | warn | error

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
# 100 requests per 15 minutes

# Feature Flags
ENABLE_AI_FEATURES=false
ENABLE_SHOPIFY_SYNC=false
ENABLE_DICOM_SUPPORT=false
# Toggle features on/off

ENVIRONMENT FILE EXAMPLE (.env):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Integrated Lens System - Environment Configuration
# Production Environment

# Database
DATABASE_URL=postgresql://neondb:pass@ep-aged-credit.us-east-2.aws.neon.tech/ils_prod

# Session
SESSION_SECRET=3f8d9c1e7b5a6d4f2e8c9b7a5d3f1e9c8b7a6d5f4e3d2c1b0a9f8e7d6c5b4a3

# Stripe
STRIPE_SECRET_KEY=sk_live_51P...
STRIPE_PUBLISHABLE_KEY=pk_live_51P...
STRIPE_WEBHOOK_SECRET=whsec_...

# Email
RESEND_API_KEY=re_abc123...
FROM_EMAIL=noreply@integratedlens.com

# Server
PORT=3000
NODE_ENV=production

# Features (disabled until ready)
ENABLE_AI_FEATURES=false
ENABLE_SHOPIFY_SYNC=false

================================================================================
2. INSTALLATION & SETUP
================================================================================

PREREQUISITES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Node.js 18+ (LTS recommended)
âœ… npm 9+ (comes with Node.js)
âœ… PostgreSQL database (local or Neon)
âœ… Git (for version control)
âœ… Code editor (VS Code recommended)

SYSTEM REQUIREMENTS:
- CPU: 2+ cores
- RAM: 4GB minimum, 8GB recommended
- Disk: 10GB free space
- OS: macOS, Linux, or Windows (WSL recommended)

STEP-BY-STEP INSTALLATION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. CLONE REPOSITORY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
git clone https://github.com/newvantageco/ILS2.0.git
cd ILS2.0

2. INSTALL DEPENDENCIES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
npm install

# This installs:
# - React and frontend dependencies
# - Express and backend dependencies
# - Database and ORM tools
# - All development tools

Expected installation time: 2-5 minutes (depending on network)

3. CONFIGURE ENVIRONMENT VARIABLES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Copy example environment file
cp .env.example .env

# Edit .env file with your settings
# Required: DATABASE_URL, SESSION_SECRET
# Optional: Stripe, Resend, AI keys

# Generate secure session secret:
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

4. SETUP DATABASE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Option A: Using Neon (Recommended for production)
# 1. Sign up at https://neon.tech
# 2. Create a new project
# 3. Copy connection string to DATABASE_URL in .env
# 4. Run migrations:
npm run db:push

# Option B: Using local PostgreSQL
# 1. Install PostgreSQL
# 2. Create database: createdb ils_development
# 3. Set DATABASE_URL=postgresql://localhost/ils_development
# 4. Run migrations:
npm run db:push

5. VERIFY DATABASE SCHEMA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Check that tables were created
# Connect to database and verify:
psql $DATABASE_URL -c "\dt"

# Expected: 40+ tables including users, companies, orders, patients, etc.

6. START DEVELOPMENT SERVER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
npm run dev

# This starts:
# - Vite dev server (frontend) on http://localhost:5173
# - Express API server (backend) on http://localhost:3000
# - Proxy configuration for API requests

# Wait for: "Server running on port 3000"
# Then open: http://localhost:3000

7. CREATE FIRST USER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Option A: Via signup page
# 1. Navigate to http://localhost:3000
# 2. Click "Sign Up"
# 3. Fill in registration form
# 4. Account created with status: pending
# 5. Manually approve in database or use master user

# Option B: Bootstrap master user (automatic)
# 1. Set MASTER_USER_* environment variables in .env
# 2. Restart server
# 3. Master user auto-created with all roles
# 4. Login with master credentials

8. APPROVE FIRST USER (IF NOT USING MASTER USER)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Manually update database:
psql $DATABASE_URL -c "UPDATE users SET account_status = 'active' WHERE email = 'your@email.com';"

# OR: Create admin user via signup, approve manually, then use admin dashboard

9. VERIFY INSTALLATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Test checklist:
âœ… Server running without errors
âœ… Can access http://localhost:3000
âœ… Can login with created user
âœ… Dashboard loads correctly
âœ… Can navigate between pages
âœ… API requests working (check browser console)

QUICK START SCRIPT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
#!/bin/bash
# quick-start.sh

echo "ðŸš€ ILS Quick Start"

# Clone and enter directory
git clone https://github.com/newvantageco/ILS2.0.git
cd ILS2.0

# Install dependencies
echo "ðŸ“¦ Installing dependencies..."
npm install

# Setup environment
echo "ðŸ”§ Setting up environment..."
cp .env.example .env
echo "âš ï¸  Please edit .env with your settings"
echo "   Required: DATABASE_URL, SESSION_SECRET"
read -p "Press enter when .env is configured..."

# Run migrations
echo "ðŸ—„ï¸  Setting up database..."
npm run db:push

# Start server
echo "âœ… Setup complete! Starting server..."
npm run dev

================================================================================
3. DEVELOPMENT WORKFLOW
================================================================================

PROJECT STRUCTURE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
IntegratedLensSystem/
â”œâ”€â”€ client/                     # Frontend (React)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/        # Reusable UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/            # shadcn/ui components
â”‚   â”‚   â”‚   â””â”€â”€ ...            # Custom components
â”‚   â”‚   â”œâ”€â”€ pages/             # Page components
â”‚   â”‚   â”‚   â”œâ”€â”€ ECPDashboard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminDashboard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ hooks/             # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ lib/               # Utilities and helpers
â”‚   â”‚   â””â”€â”€ main.tsx           # Entry point
â”‚   â””â”€â”€ index.html
â”‚
â”œâ”€â”€ server/                     # Backend (Express)
â”‚   â”œâ”€â”€ index.ts               # Server entry point
â”‚   â”œâ”€â”€ routes/                # API route handlers
â”‚   â”‚   â”œâ”€â”€ admin.ts
â”‚   â”‚   â”œâ”€â”€ ecp.ts
â”‚   â”‚   â”œâ”€â”€ pos.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ services/              # Business logic services
â”‚   â”‚   â”œâ”€â”€ OrderService.ts
â”‚   â”‚   â”œâ”€â”€ EmailService.ts
â”‚   â”‚   â”œâ”€â”€ PDFService.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ middleware/            # Express middleware
â”‚   â””â”€â”€ storage.ts             # Database access layer
â”‚
â”œâ”€â”€ shared/                     # Shared types and schemas
â”‚   â”œâ”€â”€ schema.ts              # Database schema (Drizzle)
â”‚   â””â”€â”€ types.ts               # TypeScript types
â”‚
â”œâ”€â”€ db/                         # Database configuration
â”‚   â””â”€â”€ migrations/            # Migration files
â”‚
â”œâ”€â”€ public/                     # Static assets
â”œâ”€â”€ test/                       # Test files
â”‚   â”œâ”€â”€ unit/                  # Unit tests
â”‚   â”œâ”€â”€ integration/           # Integration tests
â”‚   â””â”€â”€ e2e/                   # End-to-end tests
â”‚
â”œâ”€â”€ docs/                       # Documentation
â”œâ”€â”€ scripts/                    # Utility scripts
â”‚
â”œâ”€â”€ package.json               # Dependencies and scripts
â”œâ”€â”€ tsconfig.json              # TypeScript configuration
â”œâ”€â”€ vite.config.ts             # Vite configuration
â”œâ”€â”€ drizzle.config.ts          # Drizzle ORM configuration
â”œâ”€â”€ tailwind.config.ts         # Tailwind CSS configuration
â””â”€â”€ .env                       # Environment variables (not in git)

DEVELOPMENT COMMANDS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Start development server (frontend + backend)
npm run dev
# - Hot reload enabled
# - Frontend: http://localhost:5173 (proxied to 3000)
# - Backend API: http://localhost:3000/api

# Start frontend only
npm run dev:frontend
# For frontend-only development

# Start backend only
npm run dev:backend
# For API-only development

# Type checking (no build)
npm run check
# Validates TypeScript types across project

# Database operations
npm run db:push          # Push schema changes to database
npm run db:studio        # Open Drizzle Studio (database GUI)

# Build for production
npm run build
# - Vite builds frontend â†’ dist/
# - esbuild bundles backend â†’ dist/

# Start production server
npm start
# Runs built version (NODE_ENV=production)

# Testing
npm run test                  # Run all tests
npm run test:unit             # Unit tests only
npm run test:integration      # Integration tests
npm run test:e2e              # End-to-end tests (Playwright)
npm run test:coverage         # Generate coverage report

# Linting and formatting (if configured)
npm run lint                  # ESLint
npm run format                # Prettier

GIT WORKFLOW:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Feature development workflow:
git checkout main
git pull origin main
git checkout -b feature/new-feature-name

# Make changes, commit frequently
git add .
git commit -m "Add new feature: description"

# Push to remote
git push origin feature/new-feature-name

# Create pull request on GitHub
# After review and approval, merge to main

BRANCHING STRATEGY:
- main: Production-ready code
- develop: Integration branch (optional)
- feature/*: New features
- bugfix/*: Bug fixes
- hotfix/*: Urgent production fixes

CODING STANDARDS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. TypeScript:
   - Always use types/interfaces
   - Avoid 'any' type (use 'unknown' if needed)
   - Use strict mode
   - Export types with implementation

2. React Components:
   - Functional components with hooks
   - TypeScript interfaces for props
   - Destructure props in function signature
   - Use TanStack Query for data fetching
   - Custom hooks for reusable logic

3. API Routes:
   - Always validate input with Zod
   - Check authentication (isAuthenticated middleware)
   - Scope data by company_id
   - Use try-catch for error handling
   - Return consistent error format

4. Database:
   - Use Drizzle ORM (no raw SQL)
   - Always use transactions for multi-step operations
   - Use JSONB for flexible data
   - Index foreign keys and frequently queried columns

5. File Organization:
   - One component per file
   - Group related files in directories
   - Co-locate tests with implementation
   - Meaningful file and variable names

EXAMPLE CODE PATTERNS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

// React Component with TypeScript
interface UserCardProps {
  user: User;
  onEdit: (user: User) => void;
}

export function UserCard({ user, onEdit }: UserCardProps) {
  return (
    <Card>
      <CardHeader>
        <CardTitle>{user.firstName} {user.lastName}</CardTitle>
      </CardHeader>
      <CardContent>
        <p>{user.email}</p>
        <Button onClick={() => onEdit(user)}>Edit</Button>
      </CardContent>
    </Card>
  );
}

// API Route Handler
app.post("/api/orders", isAuthenticated, async (req: any, res: Response) => {
  try {
    // Validate input
    const orderData = insertOrderSchema.parse(req.body);
    
    // Get company from session
    const companyId = req.user.companyId;
    
    // Create order
    const order = await OrderService.createOrder({
      ...orderData,
      companyId,
      createdBy: req.user.id
    });
    
    res.status(201).json({ order });
  } catch (error) {
    console.error("Order creation error:", error);
    res.status(500).json({ error: "Failed to create order" });
  }
});

// Database Query with Drizzle
const orders = await db
  .select()
  .from(ordersTable)
  .where(eq(ordersTable.companyId, companyId))
  .orderBy(desc(ordersTable.createdAt))
  .limit(50);

================================================================================
4. TESTING STRATEGY
================================================================================

TESTING PYRAMID:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    /\
                   /  \
                  / E2E \          â† Few, high-value (Playwright)
                 /â”€â”€â”€â”€â”€â”€\
                /        \
               / Integration \     â† Moderate coverage (Jest + Supertest)
              /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\
             /              \
            /   Unit Tests   \    â† Many, fast tests (Jest + Vitest)
           /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\

UNIT TESTS (Jest + Vitest):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Purpose: Test individual functions and components in isolation
Location: test/unit/
Framework: Jest (backend), Vitest (frontend)

Examples:
- Utility functions (date formatting, validation)
- React component rendering
- Service method logic
- Schema validation

Run: npm run test:unit

Sample Unit Test:
```typescript
// test/unit/utils/dateUtils.test.ts
import { formatDate } from '@/lib/utils';

describe('formatDate', () => {
  it('formats date correctly', () => {
    const date = new Date('2025-11-04');
    expect(formatDate(date)).toBe('Nov 4, 2025');
  });
  
  it('handles invalid date', () => {
    expect(formatDate(null)).toBe('Invalid date');
  });
});
```

INTEGRATION TESTS (Jest + Supertest):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Purpose: Test API endpoints with database
Location: test/integration/
Framework: Jest + Supertest

Examples:
- API route functionality
- Database operations
- Authentication flow
- Multi-step workflows

Run: npm run test:integration

Sample Integration Test:
```typescript
// test/integration/orders.test.ts
import request from 'supertest';
import app from '@/server';

describe('Orders API', () => {
  it('creates order successfully', async () => {
    const response = await request(app)
      .post('/api/orders')
      .set('Cookie', authCookie)
      .send({
        patientId: 'patient-123',
        prescription: { od: { sph: -2.00 } },
        lensSpecs: { type: 'single_vision' }
      })
      .expect(201);
    
    expect(response.body.order).toBeDefined();
    expect(response.body.order.status).toBe('pending');
  });
});
```

END-TO-END TESTS (Playwright):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Purpose: Test complete user workflows in browser
Location: test/e2e/
Framework: Playwright

Examples:
- User registration and login
- Order creation flow
- Patient management
- Invoice generation

Run: npm run test:e2e

Sample E2E Test:
```typescript
// test/e2e/order-creation.spec.ts
import { test, expect } from '@playwright/test';

test('create new order', async ({ page }) => {
  // Login
  await page.goto('http://localhost:3000');
  await page.fill('[name="email"]', 'test@example.com');
  await page.fill('[name="password"]', 'password123');
  await page.click('button[type="submit"]');
  
  // Navigate to orders
  await page.click('text=Orders');
  await page.click('text=New Order');
  
  // Fill order form
  await page.selectOption('[name="patientId"]', 'patient-123');
  await page.fill('[name="prescription.od.sph"]', '-2.00');
  await page.click('text=Submit Order');
  
  // Verify success
  await expect(page.locator('text=Order created')).toBeVisible();
});
```

COMPONENT TESTS (Testing Library):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Purpose: Test React components with user interactions
Framework: @testing-library/react

Run: npm run test:components

Sample Component Test:
```typescript
import { render, screen, fireEvent } from '@testing-library/react';
import { UserCard } from '@/components/UserCard';

test('calls onEdit when edit button clicked', () => {
  const mockOnEdit = jest.fn();
  const user = { id: '1', firstName: 'John', lastName: 'Doe' };
  
  render(<UserCard user={user} onEdit={mockOnEdit} />);
  
  const editButton = screen.getByRole('button', { name: /edit/i });
  fireEvent.click(editButton);
  
  expect(mockOnEdit).toHaveBeenCalledWith(user);
});
```

TEST COVERAGE GOALS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Unit Tests: 70%+ coverage
- Integration Tests: Critical paths covered
- E2E Tests: Happy paths + error scenarios
- Components: User interactions tested

CONTINUOUS INTEGRATION (CI):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# .github/workflows/test.yml (example)
name: Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm ci
      - run: npm run check
      - run: npm run test:unit
      - run: npm run test:integration
      - run: npm run test:e2e

================================================================================
5. DEPLOYMENT GUIDE
================================================================================

DEPLOYMENT OPTIONS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Replit (easiest, development)
2. Vercel/Netlify (frontend) + Railway/Render (backend)
3. AWS/DigitalOcean (full control)
4. Docker containers (portable)
5. Kubernetes (enterprise scale)

OPTION 1: REPLIT DEPLOYMENT (RECOMMENDED FOR DEVELOPMENT)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Replit provides instant deployment with integrated PostgreSQL.

Steps:
1. Import repository to Replit
2. Configure secrets (environment variables)
3. Replit automatically detects Node.js
4. Click "Run" button
5. Application accessible via Replit URL

Pros:
âœ… Zero configuration
âœ… Built-in database (Neon)
âœ… Automatic HTTPS
âœ… Always-on option available
âœ… Free tier available

Cons:
âŒ Limited control
âŒ Performance constraints
âŒ Shared resources

OPTION 2: TRADITIONAL VPS DEPLOYMENT (PRODUCTION)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Suitable for: AWS EC2, DigitalOcean Droplets, Linode

Prerequisites:
- Ubuntu 22.04 LTS server
- Root or sudo access
- Domain name (optional but recommended)

Step-by-Step Production Deployment:

1. SERVER SETUP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# SSH into server
ssh root@your-server-ip

# Update system
apt update && apt upgrade -y

# Install Node.js 18 LTS
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt install -y nodejs

# Install PM2 (process manager)
npm install -g pm2

# Install Nginx (reverse proxy)
apt install -y nginx

# Install Certbot (SSL certificates)
apt install -y certbot python3-certbot-nginx

2. CLONE AND CONFIGURE APPLICATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Create app directory
mkdir -p /var/www/ils
cd /var/www/ils

# Clone repository
git clone https://github.com/newvantageco/ILS2.0.git .

# Install dependencies
npm ci --production

# Create .env file
nano .env
# Add all required environment variables
# Use production values (DATABASE_URL, Stripe live keys, etc.)

# Build application
npm run build

3. SETUP PM2 PROCESS MANAGER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Start application with PM2
pm2 start dist/index.js --name ils-production

# Configure PM2 to restart on reboot
pm2 startup
pm2 save

# View logs
pm2 logs ils-production

# Monitor
pm2 monit

4. CONFIGURE NGINX REVERSE PROXY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Create Nginx configuration
nano /etc/nginx/sites-available/ils

# Paste configuration:
server {
    listen 80;
    server_name yourdomain.com www.yourdomain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}

# Enable site
ln -s /etc/nginx/sites-available/ils /etc/nginx/sites-enabled/

# Test configuration
nginx -t

# Reload Nginx
systemctl reload nginx

5. SETUP SSL CERTIFICATE (HTTPS)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Obtain SSL certificate from Let's Encrypt
certbot --nginx -d yourdomain.com -d www.yourdomain.com

# Follow prompts to:
# - Enter email address
# - Agree to terms
# - Choose to redirect HTTP to HTTPS

# Certificate auto-renewal is configured automatically
# Test renewal:
certbot renew --dry-run

6. CONFIGURE FIREWALL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Allow SSH, HTTP, HTTPS
ufw allow OpenSSH
ufw allow 'Nginx Full'
ufw enable

# Verify
ufw status

7. DATABASE SETUP (NEON)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Use Neon for serverless PostgreSQL
# 1. Sign up at https://neon.tech
# 2. Create production database
# 3. Copy connection string to DATABASE_URL in .env
# 4. Run migrations:
npm run db:push

# Alternative: Self-hosted PostgreSQL
apt install postgresql
# Configure PostgreSQL, create database, update DATABASE_URL

8. MONITORING AND LOGGING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# View PM2 logs
pm2 logs ils-production

# View Nginx logs
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log

# Setup log rotation (PM2 does this automatically)
pm2 install pm2-logrotate

9. BACKUP STRATEGY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Database backups (Neon handles this automatically)
# For self-hosted PostgreSQL:

# Create backup script
nano /root/backup-db.sh

#!/bin/bash
BACKUP_DIR="/root/backups"
TIMESTAMP=$(date +%Y%m%d_%H%M%S)
pg_dump $DATABASE_URL > $BACKUP_DIR/ils_backup_$TIMESTAMP.sql
# Keep only last 30 days
find $BACKUP_DIR -name "ils_backup_*.sql" -mtime +30 -delete

# Make executable
chmod +x /root/backup-db.sh

# Schedule daily backups (cron)
crontab -e
# Add: 0 2 * * * /root/backup-db.sh

10. DEPLOYMENT VERIFICATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Application accessible via domain
âœ… HTTPS working (green padlock)
âœ… Can login successfully
âœ… Database connections working
âœ… Stripe webhooks receiving events
âœ… Email notifications sending
âœ… PM2 keeping application alive
âœ… Logs being recorded
âœ… Backups running

OPTION 3: DOCKER DEPLOYMENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# Dockerfile (example)
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --production
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]

# Build image
docker build -t ils-app .

# Run container
docker run -d \
  -p 3000:3000 \
  --env-file .env \
  --name ils-production \
  ils-app

# Docker Compose (example)
version: '3.8'
services:
  app:
    build: .
    ports:
      - "3000:3000"
    environment:
      - DATABASE_URL=${DATABASE_URL}
      - SESSION_SECRET=${SESSION_SECRET}
    depends_on:
      - postgres
  
  postgres:
    image: postgres:14
    environment:
      - POSTGRES_DB=ils
      - POSTGRES_PASSWORD=${DB_PASSWORD}
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:

# Start with Docker Compose
docker-compose up -d

DEPLOYMENT CHECKLIST:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Before deploying to production:

â–¡ All environment variables configured
â–¡ Production database setup and migrated
â–¡ Stripe live keys configured
â–¡ Email service configured and domain verified
â–¡ SSL certificate obtained
â–¡ Firewall configured
â–¡ Backups configured
â–¡ Monitoring setup
â–¡ Error tracking (Sentry, etc.) configured
â–¡ Rate limiting enabled
â–¡ Security headers configured (Helmet)
â–¡ CORS properly configured
â–¡ Session secret is strong random string
â–¡ Master user disabled or secured
â–¡ Test payment flow with Stripe test mode
â–¡ Domain DNS configured
â–¡ Health check endpoint responding
â–¡ Application tested in production environment

================================================================================
6. MONITORING & MAINTENANCE
================================================================================

APPLICATION MONITORING:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. SERVER HEALTH
   - CPU usage (should be < 80%)
   - Memory usage (should be < 80%)
   - Disk space (keep 20%+ free)
   - Network traffic

   Tools:
   - PM2 monitoring: `pm2 monit`
   - htop: `htop` (CPU/memory)
   - df: `df -h` (disk space)

2. APPLICATION HEALTH
   - Application uptime
   - Response times (< 500ms ideal)
   - Error rates (< 1% target)
   - Active users

   Health Check Endpoint:
   GET /api/health
   Response: { status: 'ok', uptime: 123456, database: 'connected' }

3. DATABASE MONITORING
   - Connection pool usage
   - Query performance (slow queries)
   - Database size
   - Index usage

   Neon Dashboard:
   - https://console.neon.tech
   - View metrics, logs, query stats

4. ERROR TRACKING
   Recommended: Sentry (https://sentry.io)
   
   Setup:
   ```typescript
   import * as Sentry from "@sentry/node";
   
   Sentry.init({
     dsn: process.env.SENTRY_DSN,
     environment: process.env.NODE_ENV,
   });
   
   // Error handler
   app.use(Sentry.Handlers.errorHandler());
   ```

5. LOGGING
   Levels: debug < info < warn < error
   
   PM2 Logs:
   - `pm2 logs` (view all logs)
   - `pm2 logs --lines 100` (last 100 lines)
   - `pm2 logs --err` (errors only)
   
   Log files location:
   - ~/.pm2/logs/ils-production-out.log
   - ~/.pm2/logs/ils-production-error.log

MAINTENANCE TASKS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

DAILY:
â–¡ Check application uptime (PM2 status)
â–¡ Review error logs for critical issues
â–¡ Monitor disk space usage

WEEKLY:
â–¡ Review application metrics (response times, errors)
â–¡ Check database performance
â–¡ Review user feedback and bug reports
â–¡ Update documentation if needed

MONTHLY:
â–¡ Apply security updates (npm audit, system updates)
â–¡ Review and archive old logs
â–¡ Database cleanup (old sessions, expired data)
â–¡ Review backup integrity
â–¡ Capacity planning (storage, database size)

QUARTERLY:
â–¡ Dependency updates (npm outdated, npm update)
â–¡ Performance optimization review
â–¡ Security audit
â–¡ Disaster recovery drill
â–¡ Review and update monitoring alerts

UPDATE PROCEDURE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. TEST IN STAGING FIRST
   Always test updates in staging environment before production

2. BACKUP BEFORE UPDATE
   ```bash
   # Backup database
   pg_dump $DATABASE_URL > backup_$(date +%Y%m%d).sql
   
   # Backup application files
   tar -czf app_backup_$(date +%Y%m%d).tar.gz /var/www/ils
   ```

3. UPDATE APPLICATION
   ```bash
   cd /var/www/ils
   
   # Fetch latest code
   git fetch origin
   git checkout main
   git pull origin main
   
   # Install dependencies
   npm ci --production
   
   # Run migrations
   npm run db:push
   
   # Rebuild
   npm run build
   
   # Restart application
   pm2 restart ils-production
   
   # Monitor for errors
   pm2 logs ils-production --lines 50
   ```

4. VERIFY UPDATE
   - Check application loads
   - Test critical functionality
   - Monitor error logs for 30 minutes
   - Check database connections

5. ROLLBACK IF NEEDED
   ```bash
   # Restore previous version
   git checkout <previous-commit-hash>
   npm ci --production
   npm run build
   pm2 restart ils-production
   
   # Restore database if needed
   psql $DATABASE_URL < backup_20251104.sql
   ```

PERFORMANCE OPTIMIZATION:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. DATABASE OPTIMIZATION
   - Add indexes for frequently queried columns
   - Use EXPLAIN ANALYZE for slow queries
   - Implement query caching
   - Optimize JSONB queries

2. API OPTIMIZATION
   - Implement rate limiting (already configured)
   - Cache frequent requests (Redis)
   - Paginate large result sets
   - Compress responses (gzip)

3. FRONTEND OPTIMIZATION
   - Code splitting (React.lazy)
   - Image optimization (WebP format)
   - Browser caching headers
   - CDN for static assets

4. SERVER OPTIMIZATION
   - Node.js cluster mode (PM2)
   - Load balancing (multiple instances)
   - HTTP/2 support (Nginx)
   - Connection pooling (database)

SCALING STRATEGIES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Vertical Scaling (Single Server):
- Upgrade server resources (CPU, RAM)
- Optimize code and database
- Max capacity: ~1000 concurrent users

Horizontal Scaling (Multiple Servers):
- Load balancer (Nginx, HAProxy)
- Multiple application instances
- Shared session store (Redis)
- Database read replicas
- CDN for static assets
- Max capacity: 10,000+ concurrent users

================================================================================
7. TROUBLESHOOTING
================================================================================

COMMON ISSUES AND SOLUTIONS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ISSUE: Application not starting
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Symptoms:
- PM2 shows app as errored
- "Cannot connect to database" error
- Port 3000 already in use

Solutions:
1. Check environment variables
   ```bash
   cat .env | grep DATABASE_URL
   # Verify DATABASE_URL is correct
   ```

2. Test database connection
   ```bash
   psql $DATABASE_URL -c "SELECT 1"
   ```

3. Check if port is in use
   ```bash
   lsof -i :3000
   # Kill process if needed: kill -9 <PID>
   ```

4. View detailed error logs
   ```bash
   pm2 logs ils-production --err --lines 100
   ```

ISSUE: Users cannot login
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Symptoms:
- "Invalid credentials" error
- Session not persisting
- Redirects to login repeatedly

Solutions:
1. Check SESSION_SECRET is set
   ```bash
   echo $SESSION_SECRET
   ```

2. Verify user account status
   ```sql
   SELECT email, account_status FROM users WHERE email = 'user@example.com';
   -- Should be 'active', not 'pending' or 'suspended'
   ```

3. Check session store
   ```sql
   SELECT COUNT(*) FROM sessions;
   -- Should have entries if users are logged in
   ```

4. Clear browser cookies and retry

ISSUE: Orders not appearing for lab
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Symptoms:
- ECP can create orders
- Lab dashboard shows empty
- No errors in logs

Solutions:
1. Verify company relationships
   ```sql
   SELECT * FROM company_relationships 
   WHERE ecp_company_id = 'ecp-company-id' 
   AND related_company_id = 'lab-company-id';
   -- Should have active relationship
   ```

2. Check user's company_id
   ```sql
   SELECT id, email, company_id FROM users WHERE email = 'lab@example.com';
   ```

3. Verify order company_id matches
   ```sql
   SELECT id, order_number, company_id FROM orders;
   ```

ISSUE: Stripe webhooks not working
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Symptoms:
- Subscriptions not updating
- Payments successful but not reflected in app
- Webhook endpoint returns errors

Solutions:
1. Verify webhook endpoint is accessible
   ```bash
   curl -X POST https://yourdomain.com/api/payments/webhook \
     -H "Content-Type: application/json" \
     -d '{"type":"ping"}'
   ```

2. Check Stripe webhook secret
   ```bash
   echo $STRIPE_WEBHOOK_SECRET
   # Should match Stripe dashboard
   ```

3. View webhook attempts in Stripe dashboard
   - https://dashboard.stripe.com/test/webhooks
   - Check for failed attempts and error messages

4. Re-send failed webhooks from Stripe dashboard

ISSUE: Email notifications not sending
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Symptoms:
- Order confirmations not received
- Invoices not emailed
- No email errors in logs

Solutions:
1. Verify Resend API key
   ```bash
   echo $RESEND_API_KEY
   ```

2. Check Resend dashboard
   - https://resend.com/emails
   - View sent emails, bounces, failures

3. Verify FROM_EMAIL domain
   - Domain must be verified in Resend
   - Check DNS records (SPF, DKIM)

4. Test email sending
   ```bash
   curl -X POST https://api.resend.com/emails \
     -H "Authorization: Bearer $RESEND_API_KEY" \
     -H "Content-Type: application/json" \
     -d '{
       "from": "noreply@yourdomain.com",
       "to": "test@example.com",
       "subject": "Test",
       "text": "Test email"
     }'
   ```

ISSUE: Database connection pool exhausted
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Symptoms:
- Intermittent database errors
- "Too many clients" error
- Application becomes unresponsive

Solutions:
1. Increase connection pool size
   ```typescript
   // In database configuration
   const pool = new Pool({
     connectionString: process.env.DATABASE_URL,
     max: 20, // Increase from default 10
   });
   ```

2. Check for connection leaks
   - Ensure all database queries use try-finally to release connections
   - Use connection pooling properly

3. Upgrade database plan (Neon)
   - Higher tiers have more concurrent connections

DEBUGGING TIPS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Enable debug logging
   ```bash
   LOG_LEVEL=debug pm2 restart ils-production
   ```

2. Use PM2 logs with grep
   ```bash
   pm2 logs | grep ERROR
   pm2 logs | grep "Order creation"
   ```

3. Database query logging
   ```typescript
   // In Drizzle config
   const db = drizzle(pool, { 
     schema,
     logger: true // Logs all queries
   });
   ```

4. Browser developer tools
   - Network tab: Check API requests/responses
   - Console: Check for JavaScript errors
   - Application tab: Check cookies and storage

5. Test API endpoints directly
   ```bash
   # Test with curl
   curl -X GET http://localhost:3000/api/orders \
     -H "Cookie: connect.sid=your-session-cookie"
   ```

================================================================================
8. ROADMAP & FUTURE FEATURES
================================================================================

SHORT-TERM (Q1 2026):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Complete core features (mostly done)
â–¡ Activate AI Assistant integration
â–¡ Equipment management UI
â–¡ Advanced analytics dashboard
â–¡ Mobile app (React Native)
â–¡ Automated prescription reminders
â–¡ Advanced reporting (custom reports)
â–¡ API documentation (Swagger/OpenAPI)

MEDIUM-TERM (Q2-Q3 2026):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Machine learning for demand forecasting
â–¡ Predictive non-adapt alerts
â–¡ Quality control automation
â–¡ Advanced inventory management
â–¡ Multi-currency support
â–¡ Internationalization (i18n)
â–¡ White-label customization
â–¡ Public API for third-party integrations
â–¡ DICOM image integration
â–¡ Telehealth consultation module

LONG-TERM (2027+):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Fully autonomous AI system
â–¡ Blockchain for prescription verification
â–¡ IoT device integration (smart equipment)
â–¡ AR/VR frame try-on
â–¡ Global marketplace for labs/ECPs
â–¡ Advanced business intelligence suite
â–¡ Predictive maintenance for equipment
â–¡ Supply chain optimization AI

FEATURE PRIORITIES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. AI Assistant activation (high value, mostly built)
2. Mobile app (user demand)
3. Advanced analytics (business value)
4. Equipment management UI (complete existing backend)
5. API documentation (developer experience)

================================================================================
9. KNOWN ISSUES & LIMITATIONS
================================================================================

CURRENT KNOWN ISSUES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. AI Features Not Functional
   Status: Code written but not integrated
   Impact: AI Assistant page returns 404 errors
   Workaround: Disable AI features in navigation until activated
   Fix: Register AI routes in server/index.ts

2. Equipment Management Incomplete
   Status: Database schema exists, no UI
   Impact: Cannot manage equipment via interface
   Workaround: Direct database updates for now
   Fix: Build equipment management pages

3. Multi-Tenant Setup Requires Manual Steps
   Status: Backend complete, requires configuration
   Impact: Companies must be manually created and approved
   Workaround: Admin creates companies via database or API
   Fix: Build self-service company registration flow

4. Limited Mobile Responsiveness
   Status: Desktop-first design
   Impact: Some pages difficult to use on mobile
   Workaround: Use desktop browser
   Fix: Responsive design improvements (ongoing)

5. No Real-time Notifications
   Status: Notification system exists but not real-time
   Impact: Users must refresh to see updates
   Workaround: Periodic page refreshes
   Fix: Implement WebSocket for live updates

PLATFORM LIMITATIONS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Single Database Instance
   Current: Single PostgreSQL database
   Limitation: No read replicas for scaling
   Impact: Performance bottleneck at high scale
   Solution: Add read replicas (Neon supports this)

2. No Background Job Queue
   Current: Background tasks run in-process
   Limitation: Cannot handle long-running tasks efficiently
   Impact: Email sending, PDF generation block requests
   Solution: Add BullMQ + Redis for job queue

3. File Storage on Filesystem
   Current: Files stored on local disk
   Limitation: Not suitable for multi-server deployment
   Impact: Files lost if server replaced
   Solution: Migrate to AWS S3 or similar

4. Session Storage in Database
   Current: Sessions in PostgreSQL
   Limitation: Database overhead for session management
   Impact: Additional database load
   Solution: Move sessions to Redis for better performance

5. No CDN Integration
   Current: Static assets served from application server
   Limitation: Slower load times for global users
   Impact: Reduced performance for distant users
   Solution: CloudFront, Cloudflare CDN

WORKAROUNDS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Issue: AI Assistant not working
â†’ Use traditional search and documentation
â†’ Contact support for specific queries

Issue: Equipment management missing
â†’ Use external spreadsheet for tracking
â†’ Manual database updates via SQL

Issue: No mobile app
â†’ Use responsive web interface on mobile browser
â†’ Add to home screen as PWA

Issue: Limited real-time updates
â†’ Enable auto-refresh on critical pages
â†’ Manual refresh when needed

================================================================================
10. CONTRIBUTING GUIDELINES
================================================================================

HOW TO CONTRIBUTE:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

We welcome contributions! Please follow these guidelines:

1. FORK AND CLONE
   ```bash
   # Fork repository on GitHub
   # Clone your fork
   git clone https://github.com/YOUR-USERNAME/ILS2.0.git
   cd ILS2.0
   
   # Add upstream remote
   git remote add upstream https://github.com/newvantageco/ILS2.0.git
   ```

2. CREATE FEATURE BRANCH
   ```bash
   # Update main
   git checkout main
   git pull upstream main
   
   # Create feature branch
   git checkout -b feature/your-feature-name
   ```

3. MAKE CHANGES
   - Follow coding standards (see section 3)
   - Write tests for new features
   - Update documentation if needed
   - Test thoroughly locally

4. COMMIT CHANGES
   ```bash
   git add .
   git commit -m "Add feature: description of changes"
   
   # Use conventional commits format:
   # feat: New feature
   # fix: Bug fix
   # docs: Documentation changes
   # style: Code style changes (formatting)
   # refactor: Code refactoring
   # test: Test additions/changes
   # chore: Build process or auxiliary tool changes
   ```

5. PUSH AND CREATE PULL REQUEST
   ```bash
   git push origin feature/your-feature-name
   
   # Create pull request on GitHub
   # - Describe changes clearly
   # - Reference any related issues
   # - Request review from maintainers
   ```

PULL REQUEST CHECKLIST:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–¡ Code follows project style guidelines
â–¡ All tests passing (npm run test)
â–¡ New tests added for new features
â–¡ Documentation updated if needed
â–¡ No console.log or debug code left in
â–¡ TypeScript types are correct (npm run check)
â–¡ Commit messages are clear and descriptive
â–¡ PR description explains what and why
â–¡ Linked to related issue (if applicable)

CODE REVIEW PROCESS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Maintainer reviews code
2. Feedback provided (if needed)
3. Address feedback and push updates
4. Approval from at least one maintainer
5. Merge to main branch
6. Automatic deployment to staging (if configured)

REPORTING BUGS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Use GitHub Issues:
https://github.com/newvantageco/ILS2.0/issues

Include:
- Clear description of the issue
- Steps to reproduce
- Expected behavior
- Actual behavior
- Screenshots (if applicable)
- Browser/OS information
- Error messages or logs

FEATURE REQUESTS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Use GitHub Discussions or Issues:
- Describe the feature clearly
- Explain the use case
- Provide examples if possible
- Consider implementation approach
- Discuss with maintainers before starting work

COMMUNITY:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Questions or discussions:
- GitHub Discussions (preferred)
- Email: support@integratedlens.com
- Documentation: /docs folder

Response time:
- Bugs: 24-48 hours
- Feature requests: 1-2 weeks
- Pull requests: 3-5 days

================================================================================
END OF PLATFORM OVERVIEW
================================================================================

SUMMARY:
The Integrated Lens System is a comprehensive, production-ready optical lab
management platform with modern architecture and solid core functionality.

CURRENT STATUS:
âœ… Core features fully functional (orders, patients, POS, suppliers)
âœ… Multi-tenant architecture implemented
âœ… Stripe billing integration complete
âš ï¸ AI features require integration to activate
âš ï¸ Some advanced features in development

DEPLOYMENT READY: Yes (for core features)
PRODUCTION READY: Yes (with documented limitations)

NEXT STEPS:
1. Choose deployment method (Replit, VPS, Docker)
2. Configure environment variables
3. Setup database and run migrations
4. Deploy application
5. Create first users and test workflows
6. Monitor and maintain

For questions or support:
Email: support@integratedlens.com
GitHub: https://github.com/newvantageco/ILS2.0

Thank you for using the Integrated Lens System!

================================================================================
Generated: November 4, 2025
Version: 1.0.0
Repository: ILS2.0 (newvantageco)
