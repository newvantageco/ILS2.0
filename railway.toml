# Railway Configuration for ILS 2.0 Main Application
# This service runs the Node.js Express backend + React frontend

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
numReplicas = 1
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Health check configuration
healthcheckPath = "/api/health"
healthcheckTimeout = 300

# NOTE: startCommand is intentionally omitted to use Dockerfile CMD
# The Dockerfile runs docker-start.sh which handles:
# 1. Database migrations (drizzle-kit push)
# 2. Application startup (node dist/index.js)

# Resource allocation
# Railway will auto-scale based on usage
# Recommended minimum for production: 2GB RAM, 2 vCPU
