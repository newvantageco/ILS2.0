# Railway Configuration for ILS 2.0 Main Application
# This service runs the Node.js Express backend + React frontend

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
numReplicas = 1
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Health check configuration
healthcheckPath = "/api/health"
healthcheckTimeout = 300

# Start command (migrations run in Dockerfile)
startCommand = "node dist/index.js"

# Resource allocation
# Railway will auto-scale based on usage
# Recommended minimum for production: 2GB RAM, 2 vCPU

[variables]
# These are set automatically by Railway, but listed here for reference
# Set actual values in Railway dashboard under service variables
NODE_ENV = "production"
PORT = "5000"
HOST = "0.0.0.0"
